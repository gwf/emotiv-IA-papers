Imperial College London
Department of Electric and Electronic Engineering

Quality of Experience in
A↵ective Pervasive Environments
Pedro Maurı́cio Costa
December 2013

Submitted in part fulfilment of the requirements for the degree of
Doctor of Philosophy of Imperial College London

Abstract

The confluence of miniaturised powerful devices, widespread communication
networks and mass remote storage has caused a fundamental shift in the
user interaction design paradigm. The distinction between system and user
in pervasive environments is evolving into an increasingly integrated loop
of interaction, raising a number of opportunities to provide enhanced and
personalised experiences.
We propose a platform, based on a smart architecture, to address the
identified opportunities in pervasive computing. Smart systems aim at acting upon an environment for improving quality of experience: a subjective
measure that has been defined as an emotional reaction to products or
services. The inclusion of an emotional dimension allows us to measure individual user responses and deliver personalised services with the potential
to influence experiences positively.
The platform, Cloud2Bubble, leverages pervasive systems to aggregate
user and environment data with the goal of addressing personal preferences
and supra-functional requirements. This, combined with its societal implications, results in a set of design principles as a concrete fruition of design
contractualism.
In particular, this thesis describes:
• a review of intelligent ubiquitous environments and relevant technologies, including a definition of user experience as a dynamic a↵ective
construct;

3

• a specification of main components for personal data aggregation and

service personalisation, without compromising privacy, security or usability;

• the implementation of a software platform and a methodological procedure for its instantiation;

• an evaluation of the developed platform and its benefits for urban
mobility and public transport information systems;

• a set of design principles for the design of ubiquitous systems, with an
impact on individual experience and collective awareness.

Cloud2Bubble contributes towards the development of a↵ective intelligent
ubiquitous systems with the potential to enhance user experience in pervasive environments. In addition, the platform aims at minimising the risk of
user digital exposure while supporting collective action.

4

for Ola

5

Acknowledgements

The last four years have been a journey of immense learning and personal
growth that I wouldn’t be able to undertake without the mentorship, support and motivation of all the people around me.
Firstly, I would like to express my gratitude to Jeremy Pitt, João Falcão
e Cunha and Teresa Galvão, for their guidance and mentorship, who have
always encouraged me to explore new research ideas and lead me throughout
this learning experience. My appreciation is extended to Julie McCann and
Nadia Berthouze for their invaluable feedback and recommendations.
I would also like thank all of those who have contributed to my research,
in particular Asimina Vasalou for the interesting discussions and invaluable
input; and João Vieira, with whom I had the opportunity of collaborating
and co-supervise. A very special thanks to the hundreds of volunteers who
personally contributed to the surveys, experiments and studies.
I also have to thank Fundação para a Ciência e Tecnologia for providing me with a doctoral scholarship, giving me the opportunity to conduct
research in a multicultural academic environment, at such a prestigious institution.
Finally, I’d like to express my gratitude to all my family, friends and
colleagues, too many to mention, and who have always made things a
little better and celebrated my achievements with me. To each of them:
Thank you,
, Merci, Dankeschön, Euqarist∏, ध"यवाद, "*) ‫& از‬%$# "!, Grazie, ありがとう,

, Terima kasih, Gracias, Teşekkürler, Dziȩkujȩ,

Obrigado.

7

Declarations

The copyright of this thesis rests with the author and is made available
under a Creative Commons Attribution-Non Commercial-No Derivatives licence. Researchers are free to copy, distribute or transmit the thesis on the
condition that they attribute it, that they do not use it for commercial purposes and that they do not alter, transform or build upon it. For any reuse
or distribution, researchers must make clear to others the licence terms of
this work.
The author of this thesis declares that the work presented is original and
all else is appropriately referenced.

8

Publications

• The Railway Blues: A↵ective Interaction for Personalised

Transport Experiences, P. M. Costa, A. Vasalou, J. Pitt, T. Galvão,
and J. Falcão e Cunha, in Proceedings of the 12th International ACM
Conference on Mobile and Ubiquitous Multimedia, 2013.
Findings obtained from a field study performed focusing on the personalisation of information services and immersive digital experiences

• Assessing Contextual Mood in Public Transport: a Pilot
Study, P. M. Costa, J. Pitt, T. Galvão, and J. Falcão e Cunha, in

Proceedings of the 15th International ACM Conference on Humancomputer interaction with mobile devices and services companion,
2013.
Results and lessons learnt from a pilot study conducted in a naturalistic environment for collecting user data

• Investigating Mobile Quality of Experience in Public Transport, P. M. Costa, J. Pitt, J. G. Vieira, J. Falcão e Cunha, and T.

Galvão, in Proceedings of the 14th International ACM Conference on
Human-computer interaction with mobile devices and services companion, 2012.
Description of the developed platform for studying travellers in a urban
public transport context, including both environment and user aspects

9

• Cloud2Bubble: Enhancing Quality of Experience in Mobile
Cloud Computing Settings, P. M. Costa, J. Pitt, J. Falcão e
Cunha, and T. Galvão, in the 3rd ACM Workshop on Mobile Cloud
Computing and Services, 2012.
Documentation of the Cloud2Bubble platform architecture, aiming at
collecting environment and user data, including a↵ective data
• Smart Mobile Sensing for Measuring Quality of Experience

in Urban Public Transports, J. G. Vieira, T. Galvão, J. Falcão e
Cunha, P. M. Costa, and J. Pitt, in the 2nd International Workshop
on Smart Mobile Applications, 2012.
Report on the mobile application developed to interface with travellers,
supporting participatory and opportunistic sensing in a urban public
transport environment

10

Contents

1. Introduction

23

1.1. Research Problem . . . . . . . . . . . . . . . . . . . . . . . . 24
1.2. Aims and Objectives . . . . . . . . . . . . . . . . . . . . . . . 25
1.3. Thesis Structure . . . . . . . . . . . . . . . . . . . . . . . . . 26
1.4. Thesis Outline . . . . . . . . . . . . . . . . . . . . . . . . . . 27
1.5. Statement of Contribution . . . . . . . . . . . . . . . . . . . . 28
2. User Experience in Intelligent Ubiquitous Environments

31

2.1. Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31
2.2. A↵ective Computing . . . . . . . . . . . . . . . . . . . . . . . 31
2.2.1. Emotional Models . . . . . . . . . . . . . . . . . . . . 33
2.2.2. A↵ective Sensing . . . . . . . . . . . . . . . . . . . . . 36
2.3. Ubiquitous Computing . . . . . . . . . . . . . . . . . . . . . . 38
2.3.1. Interaction paradigm . . . . . . . . . . . . . . . . . . . 39
2.3.2. Enabling Technologies . . . . . . . . . . . . . . . . . . 42
2.3.3. Ubiquitous Systems . . . . . . . . . . . . . . . . . . . 46
2.4. User Experience

. . . . . . . . . . . . . . . . . . . . . . . . . 46

2.4.1. Quality of User Experience . . . . . . . . . . . . . . . 48
2.4.2. Subjective Well-Being . . . . . . . . . . . . . . . . . . 49
2.5. Recommender Systems . . . . . . . . . . . . . . . . . . . . . . 50
2.5.1. Mobile Recommender Systems . . . . . . . . . . . . . 52
2.5.2. Emotion in Recommender Systems . . . . . . . . . . . 54

11

Contents
2.6. Smart Environments . . . . . . . . . . . . . . . . . . . . . . . 55
2.6.1. Overview . . . . . . . . . . . . . . . . . . . . . . . . . 55
2.6.2. Applications . . . . . . . . . . . . . . . . . . . . . . . 58
2.6.3. Societal Implications . . . . . . . . . . . . . . . . . . . 61
2.7. Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 65
3. Intelligent Urban Mobility

67

3.1. Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . 67
3.2. Smart Cities . . . . . . . . . . . . . . . . . . . . . . . . . . . . 67
3.2.1. Urban Mobility . . . . . . . . . . . . . . . . . . . . . . 69
3.3. Intelligent Public Transportation Systems . . . . . . . . . . . 71
3.3.1. Mobility Wellbeing . . . . . . . . . . . . . . . . . . . . 73
3.3.2. Travelling Behaviour . . . . . . . . . . . . . . . . . . . 74
3.4. Passenger Experience . . . . . . . . . . . . . . . . . . . . . . . 75
3.5. Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 77
4. Cloud2Bubble Specification

79

4.1. Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . 79
4.2. Requirements . . . . . . . . . . . . . . . . . . . . . . . . . . . 79
4.2.1. Functional . . . . . . . . . . . . . . . . . . . . . . . . . 80
4.2.2. Non-Functional . . . . . . . . . . . . . . . . . . . . . . 81
4.2.3. Supra-Functional . . . . . . . . . . . . . . . . . . . . . 82
4.3. Use Cases . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83
4.3.1. Interaction loop . . . . . . . . . . . . . . . . . . . . . . 85
4.4. High-level Architecture . . . . . . . . . . . . . . . . . . . . . . 87
4.4.1. Smart System Components . . . . . . . . . . . . . . . 89
4.4.2. Domain Management . . . . . . . . . . . . . . . . . . 91
4.4.3. Information Processing

. . . . . . . . . . . . . . . . . 92

4.4.4. Reasoning . . . . . . . . . . . . . . . . . . . . . . . . . 96
4.5. Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97
5. Cloud2Bubble Implementation

99

5.1. Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . 99
5.2. System Overview . . . . . . . . . . . . . . . . . . . . . . . . . 99
5.3. Main Services . . . . . . . . . . . . . . . . . . . . . . . . . . . 101
5.3.1. Domain Management . . . . . . . . . . . . . . . . . . 102
5.3.2. Information Processing

12

. . . . . . . . . . . . . . . . . 110

Contents
5.3.3. Reasoning . . . . . . . . . . . . . . . . . . . . . . . . . 113
5.4. System Behaviour . . . . . . . . . . . . . . . . . . . . . . . . 125
5.4.1. Request-based behaviour

. . . . . . . . . . . . . . . . 125

5.4.2. Event-based behaviour . . . . . . . . . . . . . . . . . . 126
5.4.3. Calculating QoE . . . . . . . . . . . . . . . . . . . . . 127
5.5. Architecture: Deployment Approach . . . . . . . . . . . . . . 129
5.5.1. Cloud-based Infrastructure . . . . . . . . . . . . . . . 129
5.5.2. Mobile device . . . . . . . . . . . . . . . . . . . . . . . 131
5.6. Instantiation Methodology . . . . . . . . . . . . . . . . . . . . 132
5.7. Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 135
6. Instantiation in Urban Public Transport

137

6.1. Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . 137
6.2. Domain Specification . . . . . . . . . . . . . . . . . . . . . . . 137
6.2.1. Urban Public Transport Context . . . . . . . . . . . . 138
6.2.2. Travelling: An Experience . . . . . . . . . . . . . . . . 138
6.2.3. Commuting Satisfaction and QoE

. . . . . . . . . . . 139

6.3. Context Modelling . . . . . . . . . . . . . . . . . . . . . . . . 139
6.3.1. Hierarchical Structure . . . . . . . . . . . . . . . . . . 139
6.3.2. Context model and User profile . . . . . . . . . . . . . 140
6.4. System Behaviour . . . . . . . . . . . . . . . . . . . . . . . . 141
6.4.1. Monitoring QoE . . . . . . . . . . . . . . . . . . . . . 141
6.4.2. Influencing QoE . . . . . . . . . . . . . . . . . . . . . 142
6.5. User Interface . . . . . . . . . . . . . . . . . . . . . . . . . . . 142
6.5.1. Personal Mobile Device . . . . . . . . . . . . . . . . . 143
6.5.2. Hybrid sensing . . . . . . . . . . . . . . . . . . . . . . 144
6.5.3. Experience Sampling . . . . . . . . . . . . . . . . . . . 145
6.6. Implementation & Testing . . . . . . . . . . . . . . . . . . . . 146
6.6.1. Cloud-based infrastructure . . . . . . . . . . . . . . . 146
6.6.2. Mobile Application . . . . . . . . . . . . . . . . . . . . 148
6.6.3. Usability Testing . . . . . . . . . . . . . . . . . . . . . 151
6.7. Deployment . . . . . . . . . . . . . . . . . . . . . . . . . . . . 154
6.8. Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 155
7. System Evaluation

157

7.1. Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . 157

13

Contents
7.2. Cloud2Bubble Evaluation . . . . . . . . . . . . . . . . . . . . 157
7.2.1. Methods . . . . . . . . . . . . . . . . . . . . . . . . . . 158
7.2.2. Participants . . . . . . . . . . . . . . . . . . . . . . . . 159
7.2.3. Design and Procedure . . . . . . . . . . . . . . . . . . 160
7.2.4. Results . . . . . . . . . . . . . . . . . . . . . . . . . . 161
7.3. UPT Studies . . . . . . . . . . . . . . . . . . . . . . . . . . . 165
7.3.1. Methods . . . . . . . . . . . . . . . . . . . . . . . . . . 165
7.3.2. Study Design . . . . . . . . . . . . . . . . . . . . . . . 165
7.3.3. Pilot Study: Porto (Portugal) . . . . . . . . . . . . . . 167
7.3.4. Field Study: London (UK) . . . . . . . . . . . . . . . 172
7.3.5. Results . . . . . . . . . . . . . . . . . . . . . . . . . . 176
7.4. Design Principles . . . . . . . . . . . . . . . . . . . . . . . . . 191
7.4.1. Design for Benefit . . . . . . . . . . . . . . . . . . . . 191
7.4.2. Design for Empowerment . . . . . . . . . . . . . . . . 193
7.4.3. Design for Privacy . . . . . . . . . . . . . . . . . . . . 194
7.4.4. Design for Reliability . . . . . . . . . . . . . . . . . . . 195
7.4.5. Design for Collective Awareness . . . . . . . . . . . . . 195
7.5. Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 196
8. Conclusions

197

8.1. Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 197
8.2. Limitations . . . . . . . . . . . . . . . . . . . . . . . . . . . . 198
8.3. Further Work . . . . . . . . . . . . . . . . . . . . . . . . . . . 200
8.3.1. Design Principles . . . . . . . . . . . . . . . . . . . . . 200
8.3.2. The Workplace as a Domain of Application . . . . . . 201
8.3.3. Commercial-oriented Applications . . . . . . . . . . . 203
8.4. Final Comments . . . . . . . . . . . . . . . . . . . . . . . . . 204
A. Cloud2Bubble Experiment

205

A.1. Participant Information Sheet . . . . . . . . . . . . . . . . . . 205
A.1.1. Consent Form . . . . . . . . . . . . . . . . . . . . . . . 206
A.2. Fuzzy Sets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 206
A.2.1. Input Variables . . . . . . . . . . . . . . . . . . . . . . 207
A.2.2. Output Variable . . . . . . . . . . . . . . . . . . . . . 207
A.3. Fuzzy Rules . . . . . . . . . . . . . . . . . . . . . . . . . . . . 207
A.4. Descriptive Statistics . . . . . . . . . . . . . . . . . . . . . . . 208

14

Contents
B. Public Transport Study

209

B.1. Interview Protocol . . . . . . . . . . . . . . . . . . . . . . . . 209
B.1.1. Interview Script . . . . . . . . . . . . . . . . . . . . . 209
B.2. Fuzzy Sets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 211
B.2.1. Input Variables . . . . . . . . . . . . . . . . . . . . . . 211
B.2.2. Output Variable . . . . . . . . . . . . . . . . . . . . . 212
B.3. Fuzzy Rules . . . . . . . . . . . . . . . . . . . . . . . . . . . . 212
B.4. Mobile Application Screens . . . . . . . . . . . . . . . . . . . 213
B.5. Descriptive Statistics . . . . . . . . . . . . . . . . . . . . . . . 217
B.5.1. Comments . . . . . . . . . . . . . . . . . . . . . . . . . 217
B.6. Data Schemas . . . . . . . . . . . . . . . . . . . . . . . . . . . 219
C. Questionnaires

225

D. Mobile Application Usability Test

231

D.1. Participant Information Sheet . . . . . . . . . . . . . . . . . . 231
D.1.1. Consent Form . . . . . . . . . . . . . . . . . . . . . . . 232
D.2. Usability Test Script . . . . . . . . . . . . . . . . . . . . . . . 233
D.2.1. Prototype Screens . . . . . . . . . . . . . . . . . . . . 234
E. Mobile Application User Manual

239

Bibliography

248

15

List of Tables

2.1. Body-based measures of a↵ect . . . . . . . . . . . . . . . . . . 37
2.2. MINDSPACE . . . . . . . . . . . . . . . . . . . . . . . . . . . 57
3.1. UPT major service attributes . . . . . . . . . . . . . . . . . . 76
4.1. User profiling, generic attributes . . . . . . . . . . . . . . . . 94
5.1. Platform services and software packages . . . . . . . . . . . . 102
5.2. Events description . . . . . . . . . . . . . . . . . . . . . . . . 118
6.1. Sensor collection details . . . . . . . . . . . . . . . . . . . . . 149
6.2. Questionnaire Items . . . . . . . . . . . . . . . . . . . . . . . 151
6.3. Descriptive statistics of usability testing participants . . . . . 153
7.1. Results from environment e↵ects on QoE . . . . . . . . . . . 162
7.2. Descriptive statistics of pilot study subjects . . . . . . . . . . 169
7.3. Measures and descriptive results, Porto

. . . . . . . . . . . . 172

7.4. Descriptive statistics of field study subjects . . . . . . . . . . 174
7.5. Measures and descriptive results, London . . . . . . . . . . . 175
7.6. Satisfaction vs. a↵ective state correlation . . . . . . . . . . . 177
7.7. Baseline index vs. a↵ective state correlation . . . . . . . . . . 178
7.8. A↵ect regression analysis

. . . . . . . . . . . . . . . . . . . . 180

7.9. Valence regression analysis . . . . . . . . . . . . . . . . . . . . 181
7.10. Arousal regression analysis

. . . . . . . . . . . . . . . . . . . 181

17

List of Tables
A.1. Cloud2Bubble evaluation, descriptive statistics . . . . . . . . . 208
B.1. UPT field study, descriptive statistics . . . . . . . . . . . . . 217

18

List of Algorithms and Program Code

5.1. Ponder2 obligation: updating the domain structure . . . . . . 108
5.2. JBD Rule, update vehicle sound level

. . . . . . . . . . . . . 111

5.3. Domain and Information Processing services integration . . . 112
5.4. Information Processing and Reasoning services integration . . 114
5.5. Sound to QoE FCL implementation . . . . . . . . . . . . . . 117
5.6. JBD Rule, state update default behaviour . . . . . . . . . . . 119
5.7. Ponder2 authorisation, profile access . . . . . . . . . . . . . . 122
5.8. Generic fuzzification variable block . . . . . . . . . . . . . . . 123
5.9. User-specific fuzzy sets algorithm . . . . . . . . . . . . . . . . 124
6.1. Web service to events conversion . . . . . . . . . . . . . . . . 150
B.1. Journey object schema . . . . . . . . . . . . . . . . . . . . . . 219
B.2. User object schema . . . . . . . . . . . . . . . . . . . . . . . . 219
B.3. Feedback object schema . . . . . . . . . . . . . . . . . . . . . 220
B.4. Sensed object schema . . . . . . . . . . . . . . . . . . . . . . 221

19

List of Figures

1.1. Thesis structure . . . . . . . . . . . . . . . . . . . . . . . . . . 26
2.1. Temporal characteristics of emotion categories . . . . . . . . . 33
2.2. Model of basic emotions . . . . . . . . . . . . . . . . . . . . . 34
2.3. Circumplex of emotion . . . . . . . . . . . . . . . . . . . . . . 35
2.4. Structure of human activity . . . . . . . . . . . . . . . . . . . 41
2.5. Smart devices . . . . . . . . . . . . . . . . . . . . . . . . . . . 43
2.6. Users and providers of cloud computing . . . . . . . . . . . . 43
2.7. Personal activity trackers . . . . . . . . . . . . . . . . . . . . 44
2.8. Q Sensor bracelet . . . . . . . . . . . . . . . . . . . . . . . . . 45
2.9. Emotiv EPOC headset . . . . . . . . . . . . . . . . . . . . . . 45
2.10. Surrealist paintings . . . . . . . . . . . . . . . . . . . . . . . . 55
2.11. IBM Smarter Cities campaign . . . . . . . . . . . . . . . . . . 56
2.12. Movement Cloacker . . . . . . . . . . . . . . . . . . . . . . . . 62
3.1. Bus Stop in Curitiba (Brazil) . . . . . . . . . . . . . . . . . . 70
3.2. Well-being evaluation and happiness access . . . . . . . . . . 74
4.1. Cloud2Bubble system, use case diagram . . . . . . . . . . . . 84
4.2. User system, use case diagram

. . . . . . . . . . . . . . . . . 85

4.3. Cloud2Bubble loop of interaction . . . . . . . . . . . . . . . . 86
4.4. Conceptual Cloud2Bubble architecture . . . . . . . . . . . . . 88
4.5. Smart environment components . . . . . . . . . . . . . . . . . 90

21

List of Figures
4.6. User and context information . . . . . . . . . . . . . . . . . . 97
5.1. Cloud2Bubble class diagram . . . . . . . . . . . . . . . . . . . 100
5.2. Self-Managed Cell (SMC) architecture . . . . . . . . . . . . . 104
5.3. Entities, class diagram . . . . . . . . . . . . . . . . . . . . . . 105
5.4. Cloud2Bubble hierarchical structure . . . . . . . . . . . . . . 106
5.5. Policies, class diagram . . . . . . . . . . . . . . . . . . . . . . 107
5.6. Ponder2 authorisations framework . . . . . . . . . . . . . . . 107
5.7. Services, class diagram . . . . . . . . . . . . . . . . . . . . . . 109
5.8. Fuzzy sets, sound level . . . . . . . . . . . . . . . . . . . . . . 115
5.9. Fuzzy Logic Controller . . . . . . . . . . . . . . . . . . . . . . 116
5.10. Privacy management on Android and Facebook . . . . . . . . 122
5.11. Service request, sequence diagram

. . . . . . . . . . . . . . . 126

5.12. Environment update and user notification, sequence diagram 127
5.13. QoE de↵uzification dets . . . . . . . . . . . . . . . . . . . . . 128
5.14. Deployment diagram . . . . . . . . . . . . . . . . . . . . . . . 130
6.1. Cloud2Bubble methodology . . . . . . . . . . . . . . . . . . . 137
6.2. Commuting and journey timelines . . . . . . . . . . . . . . . 138
6.3. Mobile device as a central hub . . . . . . . . . . . . . . . . . 143
6.4. Cloud2Bubble, Web Services integration . . . . . . . . . . . . 147
6.5. Journey, state diagram . . . . . . . . . . . . . . . . . . . . . . 148
6.6. Angry Commuters mobile application flow . . . . . . . . . . . 152
7.1. Panamath screenshots . . . . . . . . . . . . . . . . . . . . . . 159
7.2. Variability of QoE and A↵ective States . . . . . . . . . . . . . 162
7.3. Noise and Luminosity correlations . . . . . . . . . . . . . . . 164
7.4. Metro do Porto, Portugal . . . . . . . . . . . . . . . . . . . . 168
7.5. Public Transport improvement suggestions . . . . . . . . . . . 169
7.6. A↵ective States and Satisfaction charts . . . . . . . . . . . . . 171
7.7. London iconic buses . . . . . . . . . . . . . . . . . . . . . . . 173
7.8. Field study subjects’ a↵ective states . . . . . . . . . . . . . . 176
7.9. Ambience and Reliability correlations . . . . . . . . . . . . . 177
7.10. Service and Setting correlations . . . . . . . . . . . . . . . . . 179
7.11. Proposed model: regression plane . . . . . . . . . . . . . . . . 182
B.1. Journeys and user reports over time . . . . . . . . . . . . . . 218

22

1
Introduction

The convergence of powerful miniaturised devices, fast communication networks and remote computing infrastructures has caused a fundamental shift
in the user interface design paradigm. These technological advances have
resulted in an increased integration of technology in the environment, making it transparent for end users, while establishing the connection between
the physical and virtual worlds, as envisioned by ubiquitous computing.
As a result, the distinction between systems and users in such ubiquitous
environments is evolving towards a more pervasive and integrated loop of
interaction between them. In this context, the environment in itself becomes
a pervasive a↵ordance, allowing systems to perceive users and react to their
needs.
New input methods widen the spectrum of interaction, and are no longer
restricted to traditional methods such as explicit actions and graphical interfaces. Implicit interactions enable the collection of users’ behaviour, activity
and internal state. These new dimensions open a number of opportunities
for systems to actively address users’ requirements. Simultaneously, risks of
misuse of such personal digital information arise, by exploiting the available
resources.
The emotional dimension, in particular, supports the evaluation of users’
internal states as an emotional reaction to a specific experience. Therefore,
in ubiquitous environments, user experience becomes a dynamic construct
that may be individually assessed and influenced.
Furthermore, the a↵ective response is defined as quality of user experience, that may be used as an utility measure in relation to a system’s ability

23

1. Introduction
to address users’ supra-functional needs. Supra-functional needs include hedonic and emotional aspects of experience, in addition to their utilitarian
requirements.
Empathy, in this context, is defined as the ability to address individual
supra-functional requirements. Empathic systems explore this close relationship between users and systems in intelligent ubiquitous environments,
by leveraging the existing technology for assessing users’ needs and responding with the goal of enhancing the user experience.
In addition to enhancing quality of user experience, addressing suprafunctional aspects of experience contributes towards wellbeing. On an individual level, wellbeing may be described as a combination of short-term
a↵ective states and long-term emotions. On a collective level, such platforms
have the potential to empower collective action, by inspiring individuals to
self-organise towards a common goal or solution.

1.1. Research Problem
The research described in this thesis aims at investigating the requirements
for the design and development of empathic systems in a real-world environment, as well as evaluating its impact on human experience.
The research is focused on leveraging existing technology, in particular
personal devices, as building blocks of intelligent ubiquitous environments.
Personal mobile devices are used ubiquitously by users throughout the day
and for a wide range of activities, providing a privileged component of the
underlying loop of interaction. The loop of interaction enables the collection
of both environment and personal data, supporting the evaluation of users’
responses in relation to their surroundings and activities.
In addition to assessing user experience, its dynamic nature poses itself
to the exploration of strategies for actively influencing the quality of experience. User influencing, however, presents a number of challenges related
with the complexity of human behaviour, in addition to societal considerations that are intrinsic to ubiquitous systems.
Empathic systems, and the provision of a↵ective-aware services, have
other implications other than the direct influence over experience. Other
entities involved, including economic and governance agents, may benefit
from such systems. However, it is necessary to ensure that the users, the

24

1.2. Aims and Objectives
main digital information generators are also the primary beneficiaries.
This thesis focuses on the following research questions:
• Can a↵ective digital information be collected in a pervasive computing
environment to monitor quality of user experience?

• Can a metric of user experience be estimated from personal and affective user data?

1.2. Aims and Objectives
This thesis proposes a software platform - Cloud2Bubble - that relies on a
ubiquitous loop of interaction for assessing users’ experience as an a↵ective response to an environment. In addition, it explores the potential for
influencing behaviour and quality of experience by addressing users’ suprafunctional requirements via the delivery of personalised services.
Prior to the design and development of the platform, an extensive review
of previous work is conducted in order to gain a deep understanding of
user experience as a dynamic construct and its relationship with human
emotion and wellbeing. Thus, user experience requirements are identified,
from ubiquitous and a↵ective computing perspectives. Finally, the societal
implications of such systems are discussed in their social, economic and
privacy dimensions.
The specification of the software platform is based on the requirements
identified, and include technical aspects, performance in relation to the
societal impact and behaviour towards users’ supra-functional needs. The
specification and implementation of the platform intends to be a reference
for future development of a↵ective-aware systems, as well as a proof of
concept in the evaluation of the underlying goals of the research, including
the dynamic nature of user experience.
The domain of urban public transport is used as an evaluation, as it
constitutes an exemplar smart environment: a sensor saturated environment
and the need for optimising urban mobility. A review of the state of the
art and requirements in this domain is conducted. This review provides the
foundation for the identification of the needs of users as well as the target
experience. The instantiation of the platform is executed in preparation for
a field study with passengers.

25

1. Introduction
Finally, a discussion of the results obtained is provided to explore the
relationship between users and their environment and the impact on their
daily activities - in particular commuters and the travelling experience. In
addition, a set of design principles is presented, providing a concrete specification to the abstract concept of design contractualism, each of them specifying a mutual agreement between the system designer and the final user in
six dimensions: benefit, empowerment, privacy, collectivity, awareness and
sustainability.

1.3. Thesis Structure
The thesis is composed of eight chapters and its structure is illustrated in
Figure 1.1. Following the introductory chapter, the narrative splits between
User Experience in Intelligent Ubiquitous Environments as a generic theme
for the thesis and Intelligent Urban Mobility as a domain of application.
Cloud2Bubble Specification and Implementation follow, leading up to the
Instantiation in Urban Public Transport. Subsequently the System Evaluation is presented and final Conclusions.
1. Introduction
2. User Experience in Intelligent
Ubiquitous Environments
4. Cloud2Bubble Speciﬁcation
5. Cloud2Bubble
Implementation

3. Intelligent Urban Mobility

6. Instantiation in
Urban Public Transport

7. System Evaluation

8. Conclusions

Figure 1.1.: Thesis structure

26

1.4. Thesis Outline

1.4. Thesis Outline
The outline of the thesis is as follows:
Chapter 2: User Experience in Ubiquitous Computing Environments
This chapter reviews the relevant technologies under the scope of intelligent
ubiquitous computing systems, as well as interaction paradigms and societal implications. Finally, it provides a definition of user experience as an
a↵ective response in ubiquitous environments.
Chapter 3: Intelligent Urban Mobility
Review of urban mobility, and public transport in particular, as an instance
of smart environments. This chapter identifies the activities and passenger
needs in large urban areas in relation to transport and information services.
Chapter 4: Cloud2Bubble Specification
This chapter specifies the requirements and high-level architecture of a ubiquitous, a↵ective-aware software platform. The requirements are divided
into functional, non-functional and supra-functional requirements; the architecture identifies the main components and their role inspired by a smart
system architecture.
Chapter 5: Cloud2Bubble Implementation
Describes the implementation of the software platform based on the previous
specification. This chapter details the main components of the system:
services, policies and entities. A review of the software packages supporting
the development of the platform in provided, in addition to a methodological
procedure for its instantiation.
Chapter 6: Platform Instantiation
The Cloud2Bubble platform is instantiated in the context of urban public
transport, based on the methodology introduced and the urban mobility
review from Chapter 3. The main steps are presented, including context
modelling and user interface; as well as the main restrictions imposed by
this domain of application.

27

1. Introduction
Chapter 7: System evaluation
The studies conducted for evaluating the platform are presented, in Porto
(Portugal) and London (UK), with a discussion of the results obtained and
main findings. This chapter results in a set of design principles, derived
from the research process, based on the potential of Cloud2Bubble to not
only provide enhanced user experiences on an individual level, but also
supporting collective action.
Chapter 8: Conclusion
The last chapter summarises the research performed and main findings,
including recommendations for the identified limitations. Moreover, some
further work is proposed focusing on the instantiation of the platform in
another domain of application.

1.5. Statement of Contribution
The execution of the goals identified in the previous Sections results in the
following contributions:
• an extensive review of ubiquitous environments and relevant technologies, including urban mobility environments, resulting in a definition
of user experience as a dynamic a↵ective construct;
• identification of the key components for the development of a↵ectiveaware ubiquitous environments, defining functional, non-functional
and supra-functional needs towards empathic pervasive systems;
• a specification for the aggregation of environment and user data, including the definition of a metric of personalisation, without compromising privacy, security or usability;
• the implementation of a software platform based on the specification,
together with a methodological procedure for its instantiation;

• the instantiation in the domain of urban public transport focusing on
the commuting experience;

28

1.5. Statement of Contribution
• evaluation of the developed platform in a controlled environment and

in a public transport setting, identifying a number of benefits for
a↵ective-enabled information systems;

• a set of design guidelines that support the methodical design of ubiq-

uitous systems, with an impact on both individual experience and
collective awareness.

This thesis resulted in a user experience centric platform that aims at
collecting and aggregating personal data to deliver personalised services in
intelligent ubiquitous environments. In addition to user experience, the
system may be leveraged as a socio-technical platform for user benefit, empowerment, awareness, privacy as well as collectivity and sustainability, as
the main pillars for implementing design contractualism.

29

2
User Experience
in Intelligent Ubiquitous Environments

2.1. Introduction
This chapter provides a review of user experience in the context of intelligent
ubiquitous environments. The relevant technologies are reviewed focusing
on the ubiquitous supporting infrastructures, and the personal devices that
enable an a↵ective interaction with users. As a result of the technological
advances, the transparent integration of ubiquitous systems into the physical
world raises a number of opportunities for interacting with users. Moreover,
user experience is defined as an a↵ective-dependent measurable construct
and, to a certain extent, influenceable. User experience is associated with
a↵ective responses that contribute to overall wellbeing in ubiquitous environments. Finally, the ability to collect sensitive personal information integrated into everyday’s activities raises concerns that are further explored.

2.2. A↵ective Computing
Emotion is a central human experience and plays an important role in human high-level cognition, including decision-making, planning and interaction [46]. The introduction of emotion as an additional dimension in the
loop of interaction, between users and systems, enables the development of
empathic systems, as envisioned by A↵ective Computing (AC). Empathy, in
Human Computer Interaction (HCI), refers to the ability to recognise users’

31

2. User Experience in Intelligent Ubiquitous Environments
a↵ective states and adapt the system behaviour accordingly with the potential to e↵ectively enhance human experience. In addition to more natural
interactions with users, emotion or a↵ective representation has the potential
to enhance computer decision making [163].

An alternative approach to the a↵ective states proposed by AC are affective interactions. In a↵ective interactions, emotions are considered to be
constructed in the process of an interaction, rather than a isolated state.
Thus, computers passively support users in understanding their own emotions with the goal of making emotional experiences available for reflection,
rather than actively detecting them [98]. In this continuous interaction,
both physical and emotional, the decision to participate is left to the users,
who may get involved in an a↵ective loop [195, 97], that leads to a change
in their attitudes and behaviour.

A growing area of interest that takes advantage of the emotional dimension in computing interactions is defined as captology - computers as persuasive technologies - or simply persuasive computing. Persuasive computing
may be defined as technology designed to influence users attitudes and behaviours through persuasion and social influence [72]. Emotion, similarly to
a↵ective interactions, assumes a central role in the process of engaging users
in such a reflective process, that potentially leads to behaviour adaptation.

Research in this field ranges from the development of wearable sensors
and algorithms to process a↵ective-related data to explore how computers
can reduce negative feelings such as frustration and stress in a wide range
of contexts. In the context of e-learning, for example, active tutoring systems rely on multimodal a↵ective data to assess the level of frustration of
a student to actively adapt the level of difficulty or help proactively [111].
As a result, students experience an enhanced learning environment avoiding
negative feelings associated with failure and subsequently reengaging them
in the learning process improving their performance. Perhaps an even more
inspiring application of AC in a healthcare context, is the development of an
automated system for aiding people diagnosed with autism in recognising
other people’s emotions [130].

32

2.2. A↵ective Computing

2.2.1. Emotional Models
Research on human emotion and a↵ect is active in a wide range of fields,
including psychology, neuroscience, medicine and computer science. In addition, human emotion is complex in nature, performing di↵erent roles associated with evolutionary purposes and social interactions. In fact a↵ective states are categorised according to a temporal structure in Figure 2.1.
While emotion is usually short-lived and intense, mood is underlying and
prolonged [45]. As a result, a number of diverging theories have emerged,
attempting to explain and model a↵ect, focusing on di↵erent aspects of
emotion [25]. The more traditional perspectives on a↵ect focus on: facial
and body expressions as a result of evolutionary processes; embodiments
combining expressions and physiology changes as the expression of emotion
in itself; cognitive appraisals as directly a↵ecting the person based on experience, goals and opportunity for action; and social constructs claiming
that emotions cannot be explained strictly on the basis of physiological of
cognitive terms, but require an additional social level of analysis.
Quality of Experience
Quality of Life

Expressions
Autonomic
Changes
Attitudes
Self Reported Emotions
Moods

Emotional Disorders
Traits
Seconds

Minutes

Hours

Days

Weeks

Months

Years

Figure 2.1.: Temporal characteristics of emotion categories,
from [45]

Lifetime

adapted

The modern perspectives on emotion are generated from the fields of
neuroscience and psychology [25]. The former, based on neuro-scientific
methods, investigates emotional processes and its neural correlates. Such
methods provided evidence to support some existing theories, such as the
relationship between cognitive and emotional processes. The later recognises
emotions as a “heterogeneous cluster of loosely related events” and attempts
to unify existing theories of emotion under a common framework. This
common framework considers di↵erent perspectives of human emotion as

33

2. User Experience in Intelligent Ubiquitous Environments
di↵erent concepts rather than di↵erent positions about the same topic.
In the context of AC, however, two main models of a↵ect modelling prevail: a discrete model, based on the universality of human emotion as evolutionary processes and composed of a small set of basic emotions [60]; and a
multidimensional emotional space where each dimension represents di↵erent
levels of cognitive valence and arousal as a core feeling [176].
Basic Emotions
Ekman proposes a discrete model, composed of six basic emotions: happiness, sadness, fear, anger, surprise and disgust [60]. The emotions are,
according to the model, distinguishable via unique characteristics of facial
and body expressions (see Figure 2.2). This set of emotions appears to be
part of human evolutionary process and are universally recognised, even
between di↵erent cultures. Each of the emotions has distinct facial characteristics and are, therefore, recognisable via facial expression recognition
methods.

Figure 2.2.: Model of basic emotions: anger, fear and disgust (top row)
surprise, happiness and sadness (bottom row) [61]
A significant body of research has been conducted based on this discrete
model of basic emotions. Systems provided with facial expression recognition are capable of identifying users’ states and act accordingly. As an
example, adaptive educational tools continuously adjust the difficulty level
as a way of increasing engagement and improving learning performance.

34

2.2. A↵ective Computing
Even though this model has become the standard in facial recognition,
researchers are now starting to expand the set of emotions. Some studies
have demonstrated the limitations the model in terms of number of emotions, ignoring more complex constructs such as engagement, confusion or
frustration. In addition, the technological developments have allowed the
implementation of more powerful systems, capable of expanding emotion
capture [139].
Multidimensional Model
An alternative model, in Figure 2.3, as proposed by Russell is based on a
two-dimensional circumplex model of emotion [176]. In this model, emotion
is represented as a linear combination of two dimensions, as varying degrees
of both cognitive valence and physical arousal. This model combines existing
perspectives on emotion centered around core a↵ects, i.e. a consciously
accessible neurophysiological state described as a point in a valence-arousal
space, equivalent to a feeling [25].

Frustration

Arousal

Active
Pleasantness

Valence Happy

Unhappy

Satisfaction

Boredom
Inactive

Figure 2.3.: Circumplex of emotion: Arousal vs Valence, adapted from [176]
The classification of an emotion in this model may be somewhat fuzzy,
with minimum variations on either of the axis resulting in slight di↵erent
a↵ective states. This representation of emotion is therfore more natural to
the human experience of emotion, where emotions usually overlap rather

35

2. User Experience in Intelligent Ubiquitous Environments
than being discrete states that are independent from each other.
The two dimensions present in the model have di↵erent characteristics and
are measurable in di↵erent ways. Valence, an intrinsically cognitive measure, indicates the level of pleasure or displeasure and may be inferred, for
example, from facial expression or patterns of behaviour. Physical arousal,
on the other hand, is physiological in nature, and may be measured via
electrodermal activity and other physiological cues. Furthermore, a psychophysiological emotional map addresses the variations between measures
and actual a↵ective states resulting in an enhanced and personalised a↵ective sensing [208].

2.2.2. A↵ective Sensing
Assessing users a↵ective states in AC raises a number of challenges, not
only associated with the underlying complexity of emotion in itself, but
also with the collection of a↵ective cues from users. There are a number of
di↵erent methods for collecting a↵ective cues, ranging from the self-report
of emotion [170] and patterns of interaction with the device [83, 129], to
physiology-based measures [26], with varying degrees of intrusiveness and
complexity. As an example, brain imaging is complex to set up and intrusive due to the equipment required, even though new approaches aim at
simplifying and automating the process (see Figure 2.9). In addition, body
cues represent an increasingly important modality in a↵ective sensing [113].
A sample of body-based measures of a↵ect is presented in Table 2.1.
While each of the methods has its advantages and drawbacks, the combination of multiple methods leads to an increased performance in inferring
a↵ective states [102]. Multimodal sensing combines di↵erent methods, including body- and task-based ones [164, 54, 197].
An alternative to body-based sensing in naturalistic environments is the
capture of di↵erent dimensions of user activity and behaviour in an everyday
context. Such techniques rely on the analysis of patterns of behaviour,
including location and social interaction, to infer mood variations [129] and
even personality traits [154]. These tend to be valid for extensive periods of
time, and therefore associated with mood, unlike the more instant a↵ective
state provided by body-based techniques.
The capture of user data in urban environments, however, involves a

36

2.2. A↵ective Computing
number of challenges, in particular the role assumed by users of said environment. A people-centric approach proposes opposing levels of conscious
involvement: participatory and opportunistic [27]. On the one hand, participatory sensing involves users in the data collection process explicitly. Users
are asked to self-report aspects of their activity of behaviour, decide what
data is shared and the level of privacy. On the other hand, opportunistic
sensing relies purely on automated processes and the user does not participate and may not be aware of the fact, provided implicit privacy and
security requirements are met.
Table 2.1.: Body-based measures of a↵ect, adapted from [164]
Modality
Comments
Facial Activity
Facial expressions may di↵er significantly
from genuinely felt feelings; variants include
video, infra-red and thermal methods
Posture Activity
Good results discriminating between levels of
interest in e-learning interactions
Hand Tension and Ac- High-pressure associated with frustration
tivity
when handling objects, e.g.: mouse and steering wheel
Gestural Activity
Expression sensing in conducting music; alternative applications unexplored
Vocal Expression
Good at discriminating arousal
Language and choice of Promising for discriminating cognitive vawords
lence, limited to text input
Electrodermal activity
Detects changes in arousal but does not distinguish between positive and negative
Brain imaging
Promising for detecting neural pathways for
determining arousal and valence
Even though a purely opportunistic approach provides better support for
large scale deployment and diversity, the involvement of users may be required for raising awareness or due to technical limitations. Thus, systems
are not, for the most part, based on one of the sensing methods exclusively. Instead, urban sensing tends to rely on a hybrid approach between
participatory and opportunistic sensing [118]. Examples include the EmotionSense [170], a platform that collects both user and sensor data to infer a↵ective states and moods; and MoodScope [125], a project that infers
users’ mood based on patterns of usage. These sensing projects, applied to

37

2. User Experience in Intelligent Ubiquitous Environments
a↵ective sensing, allow for the collection of a↵ective states in urban environments. The ability to include user emotion in HCI, e↵ectively immersing
users in an interactive a↵ective experience, contributes towards empathic
systems with the benefit of providing for individual needs and states.

2.3. Ubiquitous Computing
In the world envisioned by ubiquitous computing (ubicomp), technology is
so well integrated into everyday objects and activities that it disappears
into the background. Users become unaware of interacting with computer
systems, even though such systems support most of everyday activities [211],
like sharing a lecture on a white-board or accessing information e↵ortlessly.
Information processing is being increasingly integrated into everyday objects and activities, contributing progressively towards an ubiquitous computing environment. Ubicomp may be defined as machines that fit the
human environment instead of forcing humans to enter theirs, and presents
a number of challenges and opportunities across computer science: system design and engineering, system modelling, interface design, among others [211].
The idea of an invisible layer of technology that integrates with the environment and objects around us is not exclusive to ubicomp. Similar concepts
with slight variations have emerged in research groups and initiatives around
the world, including pervasive computing [180, 179], Everyware [90] and the
Internet of Things [12]. These tend to be more focused on the technological
challenges, like devices and interconnectedness. Ambient intelligence [186]
and Smart systems, on the other hand, build upon them bringing the focus
to user sensing and intelligent adaptation.
The technological requirements identified for ubiquitous environments
have become a reality in the past years and are constantly evolving: cheap,
low-power computers; wide spread communication networks; and software
for ubiquitous applications. These advances have fundamentally changed
the interaction paradigm, that is shifting from a desktop-based device to
one where multiple devices act as portals to a virtual space [179] - commonly referred to as the post-PC paradigm.
A sensitive and responsive environment to the presence of people, with
support for a wide range of activities builds upon this ubiquity, even for the

38

2.3. Ubiquitous Computing
most mundane tasks such as switching the lights on in a room. However,
in order to fully support these activities in a non-obtrusive way, intelligent
systems require a deeper understanding of users wants and needs, even when
not explicitly expressed by them.

2.3.1. Interaction paradigm
Even though ubiquitous computing raises a number of opportunities and
challenges in a wide range of disciplines, the underlying goal has always been
to develop machines that fit the human rather than forcing humans to fit the
machine [211]. Thus, the development of a truly ubiquitous environment
demands for a set of requirements on the user experience side, such as the
capture of both explicit and implicit interactions, context-awareness and a
continuous and smooth integration between the virtual and physical worlds,
throughout multiple devices [179].
Current HCI models, however, are predominantly based on graphical interfaces and inadequate to the integrated ubicomp vision. An integrated
interaction paradigm has yet to emerge, even though some consumer products have started to appear inspired by this vision, such as smartphones,
navigation systems and personal activity trackers to name a few.
User interaction with systems has been evolving from the traditional input methods, such as using the keyboard and mouse on a computer, to a
broader range and more implicit interactions. The ability to capture user
interactions with the physical world, beyond the traditional graphical interface, enables the development of more human-like interactions [3]. For
example, speech recognition makes a ubiquitous system responsive to explicit voice commands, but also allows for the implicit recognition of the
internal a↵ective state of the user [197].
The integration of ubicomp capabilities in the environment provides support for a continuous experience throughout di↵erent contexts and activities, also defined as fluent experience [74]. Such a seamless integration,
however, requires the orchestration of a number of devices with di↵erent
characteristics and capabilities, from personal mobile devices to large scale
infrastructures. Thus, the capture of input and output is based on a multimodal approach, where di↵erent sources of input and output are used to
assess and convey information [102].

39

2. User Experience in Intelligent Ubiquitous Environments
The capture of natural interactions with the environment as system input
increases significantly the amount and type of data collected. These large
datasets, defined as big data, are complex in nature to store and process, not
only due to the large size but also due to the intrinsic complexity between
the entities involved. The correct interpretation of big data depends on the
recognition of the context in which it takes place. Context is defined as any
information that can be used to characterise the situation of an entity, i.e.
a person, place or object that is relevant to the interaction between a user
and an application [49].
The characterisation of the situational context of a particular entity is
done by establishing the identity, location, time and activity: the who,
where, when and what. These elements are the basis for determining why
a situation is occurring and respond accordingly. For example, a museum
visitor receiving information about the objects in the surroundings; however,
if the same visitor starts moving quickly through di↵erent exhibitions, it may
mean he is not interesting in that particular area and information about an
alternative exhibition would be more appropriate.
While a truly integrated interaction paradigm, as envisioned by ubicomp,
has yet to leave the research labs and emerge into the real-world, a number
of projects and initiatives have made significant developments inspired by
this paradigm. A successful example is the automotive navigation system,
which provides reliable turn-by-turn directions to a specified destination.
The success of this application in particular is, in part, due to the success
in determining the context and integrating into the activity: the driver of
the vehicle, independently of whom in particular, is the user; the location
is restricted to known streets and roads and assisted by satellite navigation;
the progress is recorded and tracked throughout the journey; and the activity of driving is assisted with common preferences, such as preferred type
of roads. The final goal to reach a certain destination, is achieved with the
assistance of the system, that is able to track and adapt in real-time with
minimum user input.
In other domains, however, user context may be more complex to determine. Unlike identity, location and time, that are becoming relatively
simple to obtain depending on the application, activity is fairly complex
to assess in an uncontrolled environment unless specified, as it involves not
only external but also user internal states and goals. Di↵erent models of

40

2.3. Ubiquitous Computing
cognition have emerged to explain the relationship between users and the
environment: namely activity theory, situated action and distributed cognition. The former provides the richest framework for explaining user activity
and how it relates to the environment [147], and is the predominant one in
HCI.
Activity-based Computing
Activity-based computing aims at shifting the focus from developing systems capable of performing isolated tasks, to supporting continuous activities [209]. An activity is seen as a subject acting upon an object in order to
reach a desired outcome, by employing a set tools. Both the object and tools
may be physical artifacts or less tangible constructs [147]. Activities are,
therefore, mediation relationships between a group of elements, in Figure
2.4.
Instrument

Production
Subject

Object

Outcome

Consumption

Exchange
Rules

Distribution
Community

Division of Labour

Figure 2.4.: Structure of human activity [147]
Support for human activities in ubiquitous systems translates into a set
of requirements: management of a collection of work tasks; support for
mobility by distributing activities throughout the environment; and support collaboration between users and tasks [16]. Activity-oriented systems
provide users with an integrated environment with support to their needs.
Tools such as the ActivityDesigner [124] allow designers to leverage and
study human activities for the development of systems in well defined envi-

41

2. User Experience in Intelligent Ubiquitous Environments
ronments.
Activities in less constrained environments, however, present a number of
challenges related with the complexity of correctly inferring user activity.
The recognition of an activity based on the observation of users actions and
goals is not trivial. Di↵erent methods are being developed that leverage the
pervasive availability of di↵erent devices and sensors in the environment
to infer user activity. As an example, the mobile sensing platform [31] is
composed of a wearable hardware prototype and data processing and inference techniques. This platform is able to successfully infer user activity
in naturalistic settings, and resulted in two applications: UbiFit Garden
for encouraging physical activity [36]; and UbiGreen for sustainable transportation habits [82]. An added benefit of such applications is the ability
to influence users to pursuit a healthier lifestyle or more sustainable habits,
respectively; a common goal with persuasive computing.
Most of the limitations present in early prototypes, related to the availability of sensors and other technical constraints, have now diminished.
Personal mobile phones, for example, have made features and capabilities
widely available, that not only facilitate individual activity recognition but
also support the dynamics of entire communities [119].

2.3.2. Enabling Technologies
The convergence of technology, such as miniaturisation of computing devices, more reliable communication networks and the virtualisation of storage and processing, has paved the way for such a pervasive environment.
The mass adoption of mobile phones and tablets has largely contributed
to drive such innovations. This section provides an overview of the technologies that support current ubiquitous environments and how the frontier
between physical and virtual worlds is being increasingly dissolved.
The trend of the Internet-of-Things has brought computing and communication capabilities to some of our everyday objects. Examples include
scales that track body weight wirelessly (Figure 2.5a); light bulbs whose
colour and brightness may be controlled via the internet on demand (Figure 2.5b); or even the ability to find keys e↵ortlessly (Figure 2.5c). This
technological immersion has enabled users to quantify a number of di↵erent aspects in their daily lives, including activities, states and performance.

42

2.3. Ubiquitous Computing
The quantified self movement, as defined, combines wearable sensors and
computing with self-tracking to improve quality of life [196].

(a) fitbit aria [70]

(b) Philips hue [162]

(c) StickNFind [192]

Figure 2.5.: Smart devices

Mobile Cloud Computing
Cloud computing refers to both software and hardware that are made available as a utility, just like electricity or gas. The term Cloud is used to
convey the abstraction provided by such services, commonly referred to as
Software-as-a-Service (SaaS), where software applications are delivered over
the network to thin-clients and mobile devices [11]. Moreover, vendors refer
to types of services depending on the level of abstraction: Infrastructureas-a-Service (IaaS) for low-level services, such as physical or virtual computational nodes; and Platform-as-a-Service (PaaS) for intermediate services,
which typically include an execution environment (see Figure 2.6).
PaaS
IaaS
Cloud Provider

SaaS

SaaS User

Cloud User /
SaaS Provider

Figure 2.6.: Users and providers of cloud computing [11]
The flexibility provided by this platform has a number of advantages, one
of which is the ability to access a user virtual space, that holds personal
data and applications, via a number of di↵erent and heterogeneous devices.
From a user perspective, a disadvantage is its implication on privacy and
security concerns over personal digital data [135].
As an extension of this model, mobile cloud computing is focused primarily on the consumption of cloud-based services through mobile computing

43

2. User Experience in Intelligent Ubiquitous Environments
devices. Even though the primary focus may be on mobile applications and
browsers on smartphones, it is easily extended to a wide range of devices
including wearable ones. Thus, it addresses the issues of data storage, interoperability of heterogeneous devices and pervasive access associated with
them.
Wearable Devices
A number of personal devices that aim at interacting implicitly with the
user in novel ways have been emerging, from watches with advanced features
and other dedicated devices, to the integration of technology in everyday
garments [167].
The category of personal activity trackers (PAC) has had a number of devices being released commercially with advanced features. PACs are mainly
wearable devices provided with sensors for tracking, to a certain extent, the
physical activity of the user. A pedometer, in its simplest for, is an example
with the goal of counting the number of steps taken. More advanced devices
may include location, heart rate and other measures of physical activity.

(a) FuelBand [149] and UP [105]

(b) One [71]

Figure 2.7.: Personal activity trackers
The Fitbit One trackers, Jawbone UP and Nike+ FuelBand in Figure 2.7
are multimodal wearable devices that track user physical activity throughout the day and, in some cases, quality of sleep during the night. Users
may then visualise the collected data, usually by pairing the device with a
smartphone. Additionally, users may augment it manually with further information if they wish, such as calories intake or even mood. These devices,
worn as bracelets or belt clips, aim at identifying user daily patterns based
on a combination of opportunistic and participatory sensing to incentivise
healthy living and wellbeing. These are some of the devices and activities

44

2.3. Ubiquitous Computing
that enabled a quantified self [196], as defined earlier.
Other approaches go beyond physical activity and location, introducing
physiological measures. Physiological computing aims at collecting psychophysiological measures to assess the internal state of users, including
a↵ective states, e↵ectively extending the communication bandwidth [65].
Such measures include electromyography (EMG), electroencephalogram (EEG)
and galvanic skin response (GSR) among others [7]. These methods are intrusive in nature due to the necessary equipment, and are used mainly in
research or controlled environments. However, attempts of producing a consumer oriented product are starting to find their way out of research labs.
The Q Sensor in Figure 2.8 collects
GSR data, in addition to temperature
and motion, via two electrodes that are
constantly in contact with the user’s
skin [6]. The GSR is one of the simplest methods to obtain physiological
data non-intrusively for measuring the
level of arousal. This measure, when
Figure 2.8.: Q Sensor [6]

combined with valence, is an e↵ective
way of assessing users’ mood (Section

2.2.1). The sensor is able to store and communicate the readings to a mobile device, enabling the collection of user personal data in-situ and allows
for instant system adaptation.
The Emotiv EPOC in Figure 2.9 is a
headset to measure EEG data aimed at
gaming environments . The headset is
equipped with a number of electrodes
and other sensors to detect thoughts,
feelings and expressions.

The device

is a simplified version of medical EEG
equipment with a smaller number of
electrodes, less complex setup and wireless data transmission.

An applica-

tion of the device combined with a mobile phone for augmented interaction

Figure 2.9.: Emotiv EPOC [62]

has produced encouraging results, even

45

2. User Experience in Intelligent Ubiquitous Environments
though it is clear that the technology is not ready for being used in an
everyday context [26].
In fact, the smartphone assumes a central role in wearable computing. It
tends to act as a connecting hub, as it allows for the centralised collection
and visualisation of di↵erent sources of data. In fact smartphones have been
used on a large scale to collect personalised data in di↵erent contexts. The
ginger.io platform collects patients’ patterns of behaviour via their mobile
devices in relation to diabetes, to infer their health state in the context of
healthcare [129]. A broader application, in the context of wellbeing, is the
Mappiness mobile application, released in UK to investigate happiness in
relation to context [128]. This application surveyed a large number of users
over the course of several months to explore the correlation between context
and mood.

2.3.3. Ubiquitous Systems
Ubicomp has been extensively researched in the past decade, with a number of initiatives and projects being developed in academic and commercial
environments. The Equator [202] and Oxygen [136] projects, at University College London and Massachusetts Institute of Technology respectively,
aimed at bridging the gap between the physical and virtual worlds by focusing on the integration of computerised devices with our lives. The Pervasive
Adaptation Research Network (PerAda) [161], an european funded initiative, aimed at establishing a network of researchers and practitioners in the
field of pervasive adaptive systems, including a number of projects focusing on di↵erent perspectives. Industrial approaches towards ubiquitous and
pervasive computing are also being developed by a number of companies,
including PARC, Microsoft and Intel. While this list of projects is far from
being exhaustive, it demonstrates the broad interest in the area.

2.4. User Experience
User Experience (UX) is a broad term, commonly used to refer to both
user-centric practices, i.e. support the design and development of systems;
and as a field of study, i.e. focusing on studying user expectations and
reflections, and how to enable certain experiences [174, 74]. Formally, UX

46

2.4. User Experience
is defined as “a person’s perceptions and responses that result from the use
or anticipated use of a product, system or service” [101]. This definition
addresses the intrinsic subjectivity of the term, it remains a vague one and
does not sufficiently clarify all terms, such as anticipated use or interaction
objects [123].
The subjectivity and dynamic nature associated with UX has allowed HCI
to include hedonistic aspects of interaction into system design and development, in addition to the traditional utilitarian approach [122]. Di↵erent
dimensions were adopted from the behavioural sciences and design, such as
emotional, a↵ective, experiential, hedonic and aesthetics [93]. All of these
dimensions are present in the human experience that includes a wide range
of interactions, including artefacts or events. The scope of UX in HCI, however, is limited to interactions with a system, service or object that a person
interacts with through an user interface [123]. Face-to-face interactions, for
instance, are excluded from this definition, which focuses primarily on the
individual user.
Human experience, in relation to interactive systems, is based on a continuous loop of interaction. Users engaged in this loop perform actions that
result in a system update of some sort. The user, upon receiving the feedback from the system may decide to perform another action, restarting the
process. The possible actions are, in general, determined by the qualities of
the object or environment, defined as a↵ordances [86]. A↵ordances provide
discoverability of actions, and were introduced to the field of interaction
by Norman [150]. A↵ordances, in HCI, are associated with a perceptual
dimension that allows users to discover systems’ functions.
An interactive experience may be divided into three main types: experience, an experience and co-experience [74]. Experience refers to the fluent
assessment of personal goals in relation to the surroundings without a delimited timeframe or particular task. An experience is characterised as a set of
conscious interactions and is delimited in time, resulting in emotional or behaviour changes. Finally, co-experience introduces a social component and
refers to sharing experiences with others. The ultimate goal is to transform
an experience into fluent experiences, involving users not only in performing a task or action, but also their expectations and reflections about the
interaction. The evaluation of a satisfactory outcome results, in part, in a
positive sense of accomplishment, that underlies a fluent experience.

47

2. User Experience in Intelligent Ubiquitous Environments
Immersive ubicomp environments aim at perceiving and adapting to users
wants and needs. In fact users may not even be aware of the interaction
with multiple systems [211]. In such an environment the original concept of
a↵ordance, based on explicit interactions, widens to include implicit ones,
such as every physical action, thoughts and emotional states. As a result
the human experience becomes indistinguishable from the explicit loop of
interaction with the system [3, 167].
UX is directly related to users’ internal states in immersive environments.
Even though UX aims at producing positive fluent experiences, interactions
with a system or service are highly influenced by di↵erent moods, resulting
in divergent outcomes. Thus, UX design aims at providing for a positive
experience, even though it cannot assure the outcome. Unlike designing
functional requirements of a system, such as well defined features or behaviours, UX focuses on setting the context without making assumptions
in regards to users internal states [123]. A↵ective computing, in contrast,
goes a step further in actively sensing and counteracting negative a↵ective
states.
The focus on users rather than systems identified the need to satisfy
both functional and supra-functional requirements [131]. While functional
requirements aim at addressing users’ instrumental and utilitarian needs,
supra–functional ones focus on the emotional, social and cultural needs, resulting in more empathic systems that adapt to users internal state. As
an example, addressing supra-functional needs in marketing research significantly influences satisfaction, adoption and loyalty [190].
In immersive interactive systems, the ability to assess users internal states
in relation to an environment raises a number of opportunities to address
and provide for their supra-functional needs, resulting in an empathic systems capable of supporting human decision-making [127] and wellbeing [194].

2.4.1. Quality of User Experience
The assessment of UX for an individual user is defined as Quality of User
Experience, or simply Quality of Experience (QoE). QoE is a subjective
measure related to users expectations and internal states for a certain experience with a product or service; a contrasting definition to the intrinsic
characteristics of the product or service themselves, defined as Quality of

48

2.4. User Experience
Performance [14].
The measure of the user reaction to products and services is not new to
HCI and previous research, in fields such as hospitality or marketing, has
linked quality with customer satisfaction and behavioural intentions. In this
context, in addition to increased satisfaction, higher QoE results in a greater
adoption and loyalty as well as willingness to pay more [14]. These results
encourage the design of compelling consumer experiences [99], with benefits
for both users and providers. Furthermore, in marketing research, consumer
satisfaction is defined as an a↵ective state that is the user emotional reaction to the experience of a product or service [190], establishing a causal
relationship between an experience and the resulting a↵ective state [134].
In the context of HCI, QoE may be defined as the degree to which a
system meets users expectations for experience [17]. Furthermore, QoE
encloses di↵erent aspects of interaction, efficiency, usability, aesthetics, utility and acceptability [143]. The integrated ubicomp environment enables
the collection of a vast amount of environment and personal information,
including a↵ective data - known as big data due to its inherent complexity. Furthermore, the ability to assess a↵ective states in context enables
the measure of QoE in relation to an environment, where positive a↵ective
states, such as satisfaction and pleasure are associated with high quality
experiences while frustration and boredom with low quality.
Emotion as an additional dimension of interaction between users and
systems was introduced by a↵ective computing. A↵ective computing aims
at developing systems with the ability of recognise, interpret and simulate human a↵ect, with the final goal of producing empathic systems [163].
Empathy emerges as a dynamic relationship between di↵erent elements of
experience, including users, artefacts and designers [212].

2.4.2. Subjective Well-Being
Emotional reactions are part of what is defined, in the field of psychology,
as Subjective Well-Being (SWB) [51]. In addition to a↵ect, SWB includes
a cognitive component based on the satisfaction with di↵erent aspects of
personal life in the long term. As a result, happiness is defined in this
context - and even used interchangeably with SWB - as a combination
of life satisfaction and relative frequency of positive and negative a↵ect.

49

2. User Experience in Intelligent Ubiquitous Environments
This simplified definition provides a pragmatic approach for including these
aspects of human experience in a range of domains, from healthcare to
economics.
In economics, for example, SWB provides a framework for analysing economic behaviour, that is otherwise based on the traditional utility theory [128]. Utility theory, in short, relies on the assumption that an individual’s behaviour is based on the maximisation of an utility function, that
includes di↵erent measurable aspects, such as cost. Under conditions of
completeness (the ability of an individual to determine preference), transitivity and continuity, a continuous utility function measures the desirability
of a product or service, determining the preference ordering between them,
rather than an absolute measure. The introduction of happiness as a measurable construct introduces other subjective explanations for the existing
apparent sub-optimal behaviour, in relation to the defined utility function.
SWB arises as an approximation to utility in the economic science that
takes into account hedonic aspects [75].
Furthermore, new perspectives on economical growth argue that countries
should focus less on gross domestic product (GDP) that measures the market value of a country’s production. Instead, ecological economics, suggests
that governments should focus on increasing SWB [206], as a measure of
standard of living. SWB is, in general terms, associated with higher quality
of life and longer longevity [50].
Intelligent ubiquitous environments, with the ability to continuously sense
and act upon an environment provide a number of opportunities to enhance
experiences in a variety of contexts and provide a platform for empowering
members of a society to actively contribute to their communities resulting
in an enhanced SWB.

2.5. Recommender Systems
Recommender Systems (RS) have attracted much attention in recent years,
due to their ability to suggest new products and services to users based on
their feedback, habits and personal profile. Such systems address the inherent complexity in locating an item or service in an overwhelming number of
options, by providing information filtering and decision support tools [173].
Examples include the recommendation of products on e-commerce platforms

50

2.5. Recommender Systems
such as Amazon1 , and suggestion of new movies to watch on streaming websites such as Netflix2 . While people find articulating what they like hard,
they are very good at recognising it when they experience it [140]. Recommender systems exploit this feedback to predict ratings (absolute evaluation) or preference (relative order between alternatives) for new items and
services based on a set of user characteristics and item attributes.
There are two main approaches to produce recommendations: contentbased and collaborative filtering [5]. Content-based filtering is based on
information and features of the items. New recommendations are based on
the similarity with items that the user rated favourably in the past. This
method is particularly relevant for items with well defined characteristics,
such as text-based content, e.g. news articles and websites. Other type of
media, however, may present challenges due to the complexity in obtaining
or describe features. Collaborative filtering, on the other hand, recommends
items based on the similarity of the user profile with other users, without requiring an accurate description of the item itself. Items rated favourably by
other users with similar profiles are thus recommended on this basis. This
method, however, requires a detailed user profile, which may be problematic
for new users - a problem defined as cold start [114]. Other challenges arise
in recommender systems, such as scalability – i.e. the processing power
required to compute recommendations for a large item and user base – and
sparsity, the relative low number of ratings given by users in relation to the
complete item set. An alternative approach is based on a knowledge structure – knowledge-based systems – such as an ontology, to infer users’ needs
and preferences. One of such techniques, known as case-based reasoning,
reuses information from previous recommendation sessions – composed of
data related to users, items and their relationships – to identify relevant recommendations [173, 140]. These approaches are often combined in hybrid
systems to avoid some of the existing limitations, resulting in more efficient
recommendations [114]. The combination of these methods ranges from
implementing both systems separately to a unified model. Implementing
separate content-based and collaborative systems produces di↵erent recommendations that may then be merged together or individually selected, while
a unified model proposes the usage of both content-based and collaborative
1
2

www.amazon.com
www.netflix.com

51

2. User Experience in Intelligent Ubiquitous Environments
characteristics in a single system.
The collection of data for building a user profile may be performed using
both explicit and implicit methods. Explicit methods involve the users
in the feedback process, by asking them to rate items or choose the ones
they like out of a collection. However, these are intrusive and may create
unnecessary or unwanted interactions [5]. Implicit methods, on the other
hand, rely on the analysis of behaviour and usage to infer a rating, e.g.
viewing times, record of purchases or even social networking analysis. The
trend for collecting increasingly detailed personal information implicitly is
allowing recommender systems to produce more accurate results in a variety
of fields non intrusively [5].

2.5.1. Mobile Recommender Systems
The increasing ubiquity of mobile devices and communication networks has
allowed recommender systems to o↵er personalised and context-sensitive
suggestions, while limiting the negative e↵ects of information overload,
that is particularly relevant in mobile contexts [173]. Mobile environments
present an additional set of challenges, including device and communication networks limitations, the impact of the external environment and behavioural characteristics of users.
The central point in providing a recommendation service in a mobile
environment is the ability to acquire context-sensitive information and the
delivery of the recommendation in a wide range of naturalistic scenarios [15].
These Context-Aware Recommendation Systems (CARS), also called Mobile Context-aware Recommendation Systems (MCRS) [22], place a strong
focus on exploiting context information to develop recommendations.
Capturing contextual user feedback, however, presents several challenges.
In addition to the heterogeneous data sources, it requires spatial and temporal correlation; and raises validation and generalisation issues, associated with the multitude of contexts in which the same item may be experienced [85]. Unlike a product, such as books that remain unchanged
independently of the reader, a service is experienced di↵erently by di↵erent
people [172]. For example, visiting a certain location may provide completely di↵erent experiences depending on weather conditions, social context and even personal mood. Furthermore, it is unclear how important

52

2.5. Recommender Systems
are each of the contextual factors, and to which degree they influence user
ratings [15].
The delivery of service, on the other hand, plays an important role in
establishing the relationship with the end user. System usability is such an
important issue that even a recommendation that is not useful but correct
can increase users’ trust in the system [172]. The use of appropriate interface techniques remains a central component on mobile environments, from
information presentation, to assisting with query generation and support
for alternative methods of interaction [84, 114]. MCRS may be classified
into three main categories of user involvement:
• Pull-based: recommended content is delivered upon explicit user request, based on current and historic context. Due to the control retained by the user, these are regarded as less intrusive;
• Reactive: recommendations are generated based on changes in the
situational context, without requiring any user intervention. However,
users may explicitly define the behaviour of the system;
• Proactive: these systems are based on predictive models to anticipate
future context and prepare recommended content in advance. This
approach has the added advantage of reducing functionality disruption
in environments with less than ideal conditions.
Applications
The application of MCRSs has been focused on tourist experiences, including attractions, routes and tours. The iTravel system provides ontour recommendations in a peer-to-peer environment, based on the premise
that users who visit the same attractions are more likely to share similar
tastes [213]. The SMARTMUSEUM system aims at recommending objects
of interest in a museum setting based on users’ general interests [175]. Similarly, an application based on user location in indoor retail environments relies on local positioning systems for recommending products of interest [66].
A di↵erent application aims at providing taxi drivers with optimised route
recommendations based on historic usage [85]. Rather than relying on user
rating to provide recommendations, however, this approach uses business
performance as the metric to optimise. Finally, a more generic approach

53

2. User Experience in Intelligent Ubiquitous Environments
proposes to follow the evolution of users’ interests based on location, time
and social connection, to provide future recommendations based on these
indicators [22]. The delivery of personalised recommendations in mobile environments with the proposed characteristics has resulted in more efficient
systems and increase in the overall user satisfaction [66, 142].

2.5.2. Emotion in Recommender Systems
Human emotion, described in Section 2.2, enables RS to increase the scope
of item feature description, user profiling and feedback. In addition to the
general fields that compose an item description, adding a↵ective information has the potential to significantly improve the accuracy of recommendations [198]. As an example, the usage of a↵ective metadata for paintings
in a content-based system, in addition to fields such as author, support
and style, resulted in more accurate recommendations. The art pieces in
Figure 2.10 are both surreal oil on canvas paintings by Salvador Dalı́, but
they elicit very di↵erent emotional reactions. The usage of a↵ective information in user profiling, on the other hand, improves greatly the ability to
match similar users in collaborative systems, using personality traits [152]
and emotional intelligence [88].
In addition, using an a↵ective state as a reaction to a product or service,
defined in Section 2.4.1 as Quality of Experience, provides a mechanism to
non-intrusively assess user satisfaction and, consequently, provide feedback
or ratings. In an interactive TV inspired setting, a↵ective states were used
to optimise the recommendation of a sequence of items (e.g. news stories,
movie clips) to a group of users. In spite of the added complexity introduced
by such constraints, and the evaluation of emotion in particular, the usage
of a↵ective states resulted in higher satisfaction rates [137].
Research conducted in the convergence of a↵ective computing and recommender systems has produced interesting results, from item classification to
a↵ective recommendations. Facial expressions, due to their ability to convey emotional meaning, have been used to classify video items [106], as
well as live feedback that is incorporated into users’ profiles [10]. Music
is arguably one of the most emotion-related media. Some research has focused on establishing a relationship between a↵ect and musical structure
for improving recommendations [116], while an alternative approach used

54

2.6. Smart Environments

(a) Dream Caused by the Flight of a
Bee

(b) The Face of War

Figure 2.10.: Surrealist paintings with di↵erent emotional reactions, based
on [198]
film-music – due to its role in conveying emotional meaning – to produce
suggestions [187]. Finally, a more general approach, proposes a model of
a↵ective metadata to describe a↵ective information to be used in items and
users description [199]. This model is based on the original circumplex of
emotion [176]: a dimensional model composed of valence, arousal and dominance.

2.6. Smart Environments
2.6.1. Overview
A Smart Environment, also referred to as Intelligent Environment or Ambient Intelligence, refers to the convergence of ubiquitous environments and
intelligent user interfaces [38]. The ability to sense the environment and assess human behaviour allows smart systems to adapt and respond to their
occupants’ needs autonomously. In addition to the optimisation of resource
usage, the user-centric nature of these systems aims at a continuous adaptation with the main goal of enhancing user experience.
Smart systems add a layer of intelligence to ubiquitous environments,

55

2. User Experience in Intelligent Ubiquitous Environments
leveraging the existing technological infrastructures and wide spread availability of computerised devices. In fact, six of the main characteristics
present in smart environments denote its dependance on ubiquitous environments and artificial intelligence: sensitive, responsive, adaptive, transparent, ubiquitous and intelligent [39].
One of the main motivations behind smart environments is the overload
experienced by users, due to products and services that are hard to use and
difficult to understand [107]. The design and development of systems based
on a user-centric approach results in a complete integration within the environment. Not only these systems become anticipatory and proactive freeing
users from manual control but they also provide intelligent interfaces capable of interpreting and adapting to users, including their moods, activities
and expectations.
The inclusion of artificial intelligence lead to the free adoption of the
term Smart, prefixed to a wide range of common artefacts and systems.
From radio frequency identification cards - smartcards - and smartphones
as modular building blocks of smart environments [115]; to large urban
infrastructures - smartcities - composed of di↵erent components such as
energy - smartgrids - and smartbuildings [145].
The list of potential applications
is

extensive,

and

includes

educa-

tion, healthcare, retail and transportation.

As an example, the ambi-

tious, commercially-driven initiative by
IBM poses itself to build upon some
of the principles towards a Smarter
Planet [100].

The initiative aims at

leveraging existing technology to deliver smarter solutions to their clients,
based on the collection and analysis
of data an providing data-driven recommendations and development of sysFigure 2.11.: IBM campaign [100] tems (see Figure 2.11).
Furthermore, the benefits of such environments are not limited to the direct impact on users and their experience. Added benefits include the ability to persuade behaviour and attitude

56

2.6. Smart Environments
change through personal and social influence [153]. Persuasive computing,
as defined, aims at applying this influence for supporting change towards
more sustainable habits [167] and an improvement of subjective wellbeing.
The MINDSPACE framework, developed for the development of governmental policy, outlines nine di↵erent aspects of human behaviour in response
to external stimuli and how they impact the strategy for delivering information and incentivising change [55]. These aspects, in Table 2.2, were
compiled to assist governance agencies in increasing the success of policy
implementation. Successful examples include the increase in recycling and
reduced gang violence. One of such aspects is a↵ect, identified as a powerful
tool to shape individual action.
Table 2.2.: MINDSPACE [55]
Aspect

Comments

Messenger

Heavy influence by who communicates information

Incentives

Responses to incentives shaped by predictable mental
shortcuts, such as strongly avoiding losses

Norms

Strong influence by how the society acts

Defaults

The “go with the flow” of pre-set options

Salience

Attention is drawn to what is novel and seems relevant

Priming

Acts are influenced by sub-conscious cues

A↵ect

Emotional associations can powerfully shape actions

Commitments

Consistency with public promises and reciprocate acts

Ego

Acts leading to feeling better about the self

Behaviour influencing is used in public policy as an alternative to legislation. The ability to implement high-level policies through low-level behaviour influencing allows for well integrated and more successful results.
For example, the incentivisation of the population to use public transport
instead of private car as a way to cut carbon dioxide emissions. An alternative approach is focused on empowering individuals for shaping collective
action, as a way of influencing behaviour towards a collective goal, that
is neither specified nor imposed externally. Instead, the members of the
community or social group are aware of the collective goal they want to
achieve, and contribute actively through individual action. Such collective
strategies, when applied in interactive systems, open a number of opportu-

57

2. User Experience in Intelligent Ubiquitous Environments
nities towards behaviour incentivisation, that influences di↵erent aspect of
society, such as more healthy living or sustainable habits.
Managing such a large number of devices, collective goals and personal
desires raises a number of challenges, including technical specificities and
conflict solving. Policy computing addresses this issue, enabling dynamic
system behaviour configuration in large scale systems [109]. As a result, a
goal for the system may be translated to a set of sub-goals that act locally.
Reducing carbon dioxide, for instance, would be translated into a set of
actions for incentivising user behaviour towards more sustainable travelling
habits.

2.6.2. Applications
Smart environments are advantageous in a number of contexts at di↵erent
scales [178], some of which described as follows:
Home
The application of intelligent technology in a home environment provides
support for everyday living, reducing labour and improving quality of life.
The ability to sense and adapt to the residents’ preferences and activities
allows systems to take action if necessary, by providing for comfort and
entertainment as well as guidance in health and safety related issues. In
addition, it facilitates efficient resource management and consumption, such
as electricity and gas, by controlling appliances and heating.
Smart home initiatives tend to focus on the technical complexities that
arise in developing such systems, including sensor networks and artificial
intelligence. In addition to addressing more functional-oriented tasks, some
projects have started to consider improving inhabitants’ experience, for example through entertainment, e.g. playing a song after the user hums a
few bars [76], and comfort levels, e.g. adjusting furniture settings automatically [91].
Healthcare and Assisted Living
A particular case of smart homes is focused on assisted living of the elderly
and people with cognitive and physical challenges, allowing them to live

58

2.6. Smart Environments
independent lives in their own homes. Furthermore, home-based or preventive care is preferred over institutions where the necessary monitoring
may be provided in a more convenient and cost-efficient way. Nevertheless, healthcare in institutions and hospitals also benefit from a supporting
system providing monitoring and wellbeing.
In such scenarios, rather than actively acting upon the environment with
the goal of improving the experience, the technology enables target users
to benefit from a higher quality of life, by supporting and assisting with
certain aspects of everyday living in the home, that would be hard to perform otherwise. Issues regarding safety and trust with the di↵erent entities
involved, however, have been raised in qualitative studies [148].
Retailing and Recommender Systems
The context of retailing is interesting for assessing customers’ profiles and
provide them with a personalised experience leading to higher sales. The
automated collection of a personalised profile based on the interactions with
the environment and di↵erent shops allows for the delivery of recommendations without the need for direct feedback and input. For example, an
online movie streaming service may provide movie suggestions based on visits to the cinema or vice-versa. In addition to recommendations, product
servicing may be scheduled based on the actual condition of the equipment
rather than periodic checks or preventively rather than after breaking down.
Such systems aim at improving user experience by reducing the information overload, associated with such dynamic environments. Furthermore,
adapting and responding to user needs, habits and emotions aims primarily
at reducing the frustration typically associated with these environments [87].
Museums and Tourism
A related application to retailing is tourism, even though with slight di↵erent goals. A museum may be interested in guiding visitors to exhibitions
they find interesting to enhance their experience, or a city may provide
tourists with a personalised tour of the city for the same reason. The personalisation and assistance of such tours may also be based on a shared
personal profile, acquired from interactions with the environment.
Unlike previous domains, one of the main goals is to provide users with

59

2. User Experience in Intelligent Ubiquitous Environments
engaging and pleasant experiences. Thus, tailoring services to users interests
results in a reduced amount of information - irrelevant or uninteresting
information - and provides for a higher experience quality [169].

Education
The smart classroom envisions a learning environment with support for
progress of individual students, interactivity in the classroom that infers
intent and responds accordingly as well as inciting group discussion. In
an e-learning context, a smart system may adapt the level of difficulty or
provide help according to the performance, emotional and cognitive state of
the student.
The contribution for an improved user experience in education relies on
engaging students in the learning activities with positive results, leading
ultimately to an increased level of knowledge. The process of incentivising towards active learning and avoid frustration contributes for enhanced
education experiences [111].

Transportation
Transportation is a very desirable application for smart technologies, for
drivers and passenger both in urban environment and long-distance journeys. A driver assistant may adapt the characteristics of vehicles to drivers,
including their cognitive capacity and preferred routes. In urban public
transport, the service may be dynamically adapted to demand and other
environmental characteristics, while for passengers personalised recommendations based on their preferences may o↵er them an enhanced travelling
experience.
In transportation influencing the quality of service may not always be
possible, due to external constraints, e.g. traffic congestion or lack of resources. Travellers, however, may be proactively informed of the conditions,
leading to an adjusted journey expectation. In public transport, as an example, avoiding the encounter with a negative incident impacts the travelling
experience [80].

60

2.6. Smart Environments
Smart Cities
The application of smart technologies at a large scale, such as urban centres, integrates various of the previous described examples, from homes to
retailing and transportation. A smart city is able to continuously sense
and dynamically adapt to its inhabitants and visitors while it optimises resource consumption, mobility and overall wellbeing. The idea of smart city
has been gaining momentum [8]. Several initiatives are developing smart
cities, such as the Living PlanIT initiative, that aims at building a smart
city from the ground up, including physical infrastructures and software for
resource management, adaptation and extensibility.
Smart environments have focused primarily on the technical challenges
that arise in sensing and acting upon an environment, such as sensor networks and artificial intelligence. The improvement of quality of experience
requires a more user-centric approach, in order to understand users needs
and how to address them.

2.6.3. Societal Implications
The vision proposed by ubicomp has a significant impact on the economic,
social and ethical values of society [21]. Even though the intention behind intelligent pervasive systems is to improve quality of life and security,
it raises important moral questions, including fundamental ones such as
universal equality and freedom. Thus, the loop of interaction underlying
a↵ective ubiquitous interactions requires a mutual agreement or social contract, that establishes how di↵erent entities interact with one another [166],
a requirement that has been defined as design contractualism. This section
discusses these issues and how system design, development and integration
may address some of the raised questions [77].
Economics
The use of smart tags (radio-frequency identification) has completely transformed the product supply chain, allowing the di↵erent stakeholders involved in the process to manage stock and production more efficiently. The
continued adoption of new technologies into shops, workplaces and homes
allows for a much more detailed characterisation of consumption and even
disposal. This immediacy leads to a real-time economy, where consumers

61

2. User Experience in Intelligent Ubiquitous Environments
have access to detailed information about a product at any given time and
purchase it if they so desire. From the producer or provider point of view,
the ability to collect such detailed information allows them to target specific users based on their personal profile, including habits of consumption,
demographics and even emotional state.
New business models are surfacing as a response to such a personalised
and dynamic environment. In addition to product o↵ering, services may be
tailored to individual users and price adjusted dynamically: pay-per-weight.
For example, the price for car insurance may be based on the instant style
of driving and location, in addition to driver habits and characteristics,
resulting in low premium when the vehicle is parked at home and higher
when it is being driven carelessly, outside legal boundaries and dangerous
areas.
A personal profile based on consumption habits and other personal information may constitute a serious privacy o↵ence for some, while others
may voluntarily provide such information in exchange for economical benefits [155]. Nevertheless, the ability to target specific users raises other
issues. Providing access to only a sub-set of users based on their profile,
thus discriminating others, constitutes a serious o↵ence against the fundamental value of universal equality - one of the main pillars of contemporary
societies. However, personal information is not only desired for commercial
purposes. Authorities and governments may legally enforce the collection
of such data, at which point it stops being a choice and becomes a duty.

Privacy
The flip side of ubiquitous environments is the invasive penetration
of technology into everyday’s activities, which may result in a feeling of
being under constant surveillance.
This has raised concerns in di↵erent
factions of society. An interesting
example is the movement cloacker
in Figure 2.12, a device designed to
allow users to lie about the activ- Figure 2.12.: Movement Cloacker [68]

62

2.6. Smart Environments
ities sensed by mobile devices by simulating patterns of activity [68]. In
some other cases, however, this privacy invasion tends to be self-inflicted,
in exchange for economic or other benefits, which are key factors for the
proliferation of such technology [182].
Privacy is, in any case, one of the main fundamental requirements to any
democracy. It provides every individual with the option of excluding himself
from social exposure. Even though privacy di↵ers significantly between
cultures, it may divided in four main categories:
• Empowerment: refers to the power of an individual to control the
publication and distribution of personal information;

• Utility: may be used as an utility to prevent against unsolicited contact, minimising the amount of disturbance;

• Dignity: maintains the equilibrium between the entities involved, where
one is not in advantage over the other;

• Regulating Agent: limiting the collection of personal information, as
a way of preventing the formation of a decision-making elite.

In addition to this pragmatic view, privacy establishes di↵erent types of
borders. It’s the trespassing of such borders that constitutes a violation of
privacy, and they can be grouped as follows:
• Natural: physical borders of observability and even facial expressions;
• Social: confidentiality within certain social groups, where an indi-

vidual trusts that personal information shared won’t leave the social
circle;

• Spatial or temporal: refers to the partition of one’s life into multiple and isolated parts in space and time, without one influencing the
others;
• Ephemeral or transitory: a spontaneous action that disappears in time
and one hopes will be forgotten.

The decision to grant access to personal information is therefore on the
users side, who may or may not decide to share certain aspects of their lives

63

2. User Experience in Intelligent Ubiquitous Environments
and its impact and results. Privacy, therefore, not a monolithic concept, but
rather a fluid notion with a range of trust levels and needs [96]. The main
challenge for ubiquitous environments in relation to users, is to provide a
level of awareness, management and trust when sharing personal information, and what the consequences might be. A crucial component of ubicomp
systems is the ability to engage users in a reflection process regarding their
actions and implications [183].
Finally, the mere existence of an individual user profile presents risks. In
addition to the most obvious leak of personal information - either accidental
or intentional - resulting in the exposure of one’s entire life, it threatens
universal equality, as mentioned earlier.
A proposed solution is the Privacy by Design framework [28]. This framework provides a set of principles for the development of systems with embedded privacy features. The specified principles encourage the di↵erent
entities involved in the design and development of systems to focus on privacy as a central element, without impacting negatively other functionality
or user experience.
Social challenges
There are a number of social implications related to ubicomp systems. As
environments become increasingly ubiquitous, so does the dependance on
correct and reliable functioning of systems. Even though today most of the
controls are easily overridden manually, that may not be possible, or desirable, in the future. With the delegation of decision making and instructions
to systems, the perception of responsibility is, even if at an unconscious
level, delegated to the machine.
The fusion between physical and virtual worlds addresses, in part this
need. By making the user perceive that their actions have a direct e↵ect
on the object of interaction, rather than a computerised intermediary [78].
In addition, proactive intelligent systems may be at the risk of mimicking
intentionality and, therefore, remove the sense of responsibility for those actions from users or providers [78]. Also at this level, reflection and awareness
are relevant to engage users in understanding what ubiquitous computing
is and its implications.
The main ethical and social concerns identified in future intelligent sys-

64

2.7. Summary
tems are as follows:
• Reliability: increased dependance on technology with millions of electronic entities, how can such complex systems assure predictability
and dependability;
• Delegation of Control: with highly dynamic environments, continuously changing and prone to conflict of interests, new delegations of
control are required as well as identifying the accountable parties;
• Social Compatibility: an integration within society calls for transparency and inertia, to allow humans to detect and adjust behaviour
accordingly;
• Acceptance: a wide acceptance of such systems requires an under-

standing of the very nature and purpose of smart objects and the
impact of such systems on human relationships with the environment.

2.7. Summary
This chapter introduced a number of technologies that support the development of a↵ective intelligent ubiquitous environments, where systems are
able to sense users implicitly and act accordingly towards an enhanced quality of experience. Empathic systems, with the ability to address users’
supra-functional requirements, rely on an a↵ective loop of interaction and
personal digital information. Finally, quality of user experience was defined
as a subjective measure of experience in such environments. The collection
and processing of such information, however, raises privacy concerns and
impacts both economical and social aspects of the general public. The next
chapter focuses on the particular scenario of intelligent urban mobility, as
a potential application for the identified technologies.

65

3
Intelligent Urban Mobility

3.1. Introduction
The domain of urban mobility is reviewed under the scope of smart environments, in particular urban public transport. The identified passenger
supra-functional needs supported by the sustainable role that public transport plays on the development of urban mobility make this domain the
perfect candidate for investigating user experience and wellbeing in naturalistic ubiquitous environments.

3.2. Smart Cities
Smart cities, as identified in Section 2.6, rely on Information and Communication Technologies (ICT) to sense and adapt the environment, with the
goal of enhancing di↵erent aspects of a urban environment, from resource
consumption to citizen wellbeing. A broader definition of the concept includes other aspects, not limited to the integration of ICT into everyday’s
activities, such as creativity and social capital [19].
Di↵erent definitions of what constitutes a smart city, focusing on di↵erent
aspects of urban environments, such as industrial development, education,
popular participation, technical infrastructure and others related to standard of living [29]. The focus on a particular sub-set of these characteristics
results in other related concepts, such as the intelligent city, the human city
or the smart community [146]. Each of these concepts is developed around a
central core idea, supported by the technological and social systems: intel-

67

3. Intelligent Urban Mobility
ligent systems focus on a layer of artificial intelligence based on the existing
ICT; human cities emphasise the interpersonal relationships in urban environments; and smart communities leverage the existing social structures
towards collective action.
Three main core components seem to emerge from smart cities: technology factors, composed of hardware and software infrastructures; human
factors, based on creativity, diversity and education; and institutional factors, including governance and policy. These components are interconnected
within the context of a large organic system [110], and cannot be treated in
isolation in the context of smart cities. Furthermore, traditional theories of
urban growth and development, combined with the three core components
identified, result in six main dimensions that enable the assessment of the
performance of a city as a smart city [29]. The six characteristics are as
follows:
• Economy: competitiveness, entrepreneurship and productivity;
• People: social and human capital;
• Governance: public participation and social services;
• Mobility: ICT-infrastructure support and sustainable transportation;
• Environment: natural conditions and resource management;
• Living: quality of life, health and safety.
Each of these dimensions is broken down into a total of factors 31 factors
and 74 indicators, covering a wide range of di↵erent urban aspects [29]. The
performance on these dimensions indicates the economical competitiveness
and resource efficiency of cities, as well as the level of citizen engagement in
collective activities and enhanced wellbeing. A ranking of seventy european
mid-sized cities identified Luxemburg as the smartest city in 2007, a list
strongly dominated by Scandinavian cities. The evolution of a city may be
tracked and assessed in di↵erent areas, where e↵orts for development may
be focused on the most important aspects.
A more human-centric approach identifies wellbeing and sustainability as
main factors for future development [181]. In densely populated areas a
number of other challenges arise, such as urban mobility. The increasing

68

3.2. Smart Cities
need for commuting long distances within the city using motorised transportation, and private vehicles in particular, has resulted in highly congested
and polluted cities with a significant impact on both sustainability and quality of life [191]. Research supports the need for service personalisation taking
into account travel attitudes and behaviours [18].

3.2.1. Urban Mobility
Urban mobility involves a number of di↵erent elements related to mobility
and transportation in urban environments. The population growth in urban
areas, combined with sub optimal mobility planning, has resulted in an
increase in pollution and congestion levels in large urban centres. A renewed
interest in urban mobility is aiming at addressing some of this issues by
acting upon di↵erent mobility aspects [63]. Examples of the areas of action
include improving free flowing by promoting walking and cycling as well as
optimising the use of private and public transport; smarter urban transport
by dynamically controlling service o↵ering and characteristics to the needs
of the city; or improving knowledge and raising awareness regarding urban
mobility in its di↵erent areas of activity. In addition, greener and more
secure urban networks as well as increased accessibility contribute towards
a stronger urban mobility culture.
The increasing interest in urban mobility as an enabler of sustainable
transport - including its environmental, economical and social qualities has resulted in a number of research and development initiatives with the
goal of improving public transportation networks’ efficiency and satisfaction
to foster a culture for mobility. The civitas initiative [34], as an example, is a
european-wide project involving a number of european cities that aim at introducing transport measures and incentivisation towards sustainable urban
mobility. Moreover, the european union has declared that “high quality and
a↵ordable public transport is the backbone of a sustainable urban transport.
Reliability, information, safety and ease of access are vital for attractive
bus, metro, tram and trolleybus services, rail or ships.” [64].
Urban Public Transport (UPT) provides a number of benefits to a urban environment: economical efficiency, environmental sustainability and
support for citizen wellbeing [191]. The city of Curitiba (Brazil) is considered as an exemplar implementation and systemic integration of UPT for

69

3. Intelligent Urban Mobility
supporting a city expansion and development [141].
The city implemented a
series of innovations focused
on mobility to support its
rapid expansion. The tubeshaped bus stops in Figure 3.1 have become iconic
pieces of urban furniture associated with the successful bus rapid transit model.

Figure 3.1.: Bus Stop in Curitiba1

In addition, the widespread
availability of bus stops was leveraged and transformed into environmental
sensors and information displays. Supporting other areas of smart cities,
from monitoring the city to engaging citizens in the di↵erent aspects of city
governance.
The incentivisation of citizen participation, and empowering them to actively contribute, has the potential to engage them in solving existing issues
or simply assisting their community or social group. In this process, converting collective awareness into individual action relies on the existing social
structures. The ability to leverage social capital allows communities and
entire cities to contribute for a collective goal based on individual action.
For instance, within a community, the collective decision to use less private
transport to commute has a significant impact of pollution and congestion
levels, that would otherwise be negligible if taken in isolation.
The recognition of the importance of engaging citizens, or travellers in the
particular case of UPT, resulted in a new trend in data management focused
on freely distributing available data to the public. The availability of data
for public consumption not only has an engaging e↵ect, but it empowers citizens to an active participation in city management and governance [48]. In
London (UK), for example, an initiative by the Greater London Authority
to make this type of data available resulted in the London Datastore [138],
where citizens can access existing information and request other data sets.
A substantial part of the datastore is focused on the public transport network, including live service information. As a result, a number of mobile
and web-based applications emerged for assisting commuters, visitors and
1

By Morio (photo taken by Morio) GFDL / CC-BY-SA-3.0, via Wikimedia Commons

70

3.3. Intelligent Public Transportation Systems
other travellers. These applications are developed by active members of the
community, who contributed their solution for better UPT information.

3.3. Intelligent Public Transportation Systems
In intelligent UPT systems, the sensor-saturated environment enables a detailed modelling of the environment. As a result, the information available
to users is much richer, including live updates of the status of the transportation network. Providing UPT travellers with relevant information via
Advanced Traveller Information Services (ATIS) has several benefits [30]:
the provision of such services aims at retaining existing and attracting new
customers; assisting governance entities in incentivising changes in transportation habits; and more importantly to travellers who receive relevant
information about their journey.
From a travellers’ perspective, information acquisition plays a significant
role in the decision process, either actively - initiated by user - or passively
- initiated by the information service. As a result, the type and quality of
information influences the decision process on di↵erent levels. In addition
to the traditional information, such as journey cost and duration, travellers
are interested in other subjective characteristics, such as convenience and
comfort [9]. They are also interested in being able to receive such information via a personalised and dynamic service that takes into account their
personal preferences and needs. The dominant model of decision strategy
used by providers is based on microeconomic consumer theory, where travellers are assumed to maximise the utility derived from di↵erent travelling
alternatives. However, this model requires not only utilitarian aspect but
also hedonic characteristics, as discussed in Section 2.4.2. Moreover, the relationship between service quality and satisfaction must consider travellers’
a↵ective dimension [81].
While ATIS provide a wide range of services suitable for di↵erent types
of travellers, research suggests that arrival-time sensitive trips, such as commuting and business-related ones, and uncertainty increases the desire for
information and consequently an increased use of ATIS [57]. Other aspects
that influence ATIS usage include reliability, timeliness and coverage of information as well as service personalisation and modality.
In the last decades at-stop information displays have become ubiquitous

71

3. Intelligent Urban Mobility
in large UPT networks, supported by ATIS. The shift from printed timetables to dynamic realtime information resulted in a number of benefits for
the di↵erent stakeholders involved [57]. The main e↵ects are described as
follows:
• Reduced perceived waiting times: delivering real-time information affects passengers’ expectations of wait time in a positive way;

• Positive psychological e↵ects: in relation to personal expectations,

UPT information reduces uncertainty and increases the sense of security and easy-of-use;

• Increased willingness to pay: a generalised willingness to pay for this

type of services, even though some travellers consider them integral
to the journey and not an independent service;

• Adjusted travel behaviour: the adjustment of expectation in relation
to the journey allows travellers to better utilise their waiting time,

improve their travelling efficiency or even trade-o↵ between service
characterises (e.g. letting a crowded bus go by if the next one is
arriving shortly);
• Mode choice: impact on the mode of travelling in light of updated
information;

• Higher satisfaction: customer satisfaction is positively impacted by
delivering information;

• Better image: improvement of the overall image of the UPT service,
including reliability and personal feelings.

The introduction of new information components in UPT infrastructures,
such as automated fare collection systems, generate a new dimension of
digital data, some of which focused on individual travellers. The collection
of this information enables the analysis of travellers’ behaviours and infer
personal commuting needs and preferences, as well as provide UPT providers
with relevant information such as e↵ectiveness of incentives [120].
The ubiquitous environment, described in the previous Chapter, is allowing this personalised information services to migrate from physical locations spread throughout the UPT network to travellers’ personal devices.

72

3.3. Intelligent Public Transportation Systems
The ability to personalise services, and potentially recommend alternatives,
associated with its ubiquitous access results in increased benefits in the
dimensions identified earlier [210].
The convergence of ATIS development and service personalisation leads to
mobile, multimodal dynamic and personal travel information services [121].
Furthermore, the development of smart cities, and smart mobility in particular, enables the design and implementation of personal services, with
benefits for both travellers and providers.

3.3.1. Mobility Wellbeing
Quality of Experience, or happiness, in mobility is associated with short
term positive and negative a↵ective states.The notion of happiness as a
measurable construct that contributes for the utilitarian economical model
was introduced in Section 2.4.2. Its application in the context of UPT,
enables the analysis of traveller behaviour based on a set of factors that go
beyond journey cost and duration [9].
UPT commuters, in addition to being more likely to use ATIS, are also
a↵ected by travelling conditions to a larger extent than other travellers (e.g.
leisure-related and visitors). In fact, subjective aspects such as attitudes and
personality, have a greater impact than objective ones, such as duration and
cost [157]. When o↵ered alternative travelling options that explore di↵erent
subjective aspects, commuters tend to experience an improved satisfaction
with the overall service - either due to their preference for the new option
or because their usual one is comparatively better [2]. However, commuters
tend not to actively look for alternatives, due to their belief that the option
is the best available or the e↵ort associated with trying new ones.
The benefits from mobility wellbeing are not limited to the scope of transportation. The e↵ects extend across other areas of personal life, and in the
case of commuters, to the workplace (see Figure 3.2) [56]. In addition to its
short term e↵ects, longterm wellbeing and happiness are also a↵ected [191].
In this context, opportunities arise to deliver personalised services that o↵er
alternatives with the potential to enhance their QoE.

73

3. Intelligent Urban Mobility

Wellbeing Evaluation

Professional

????
Social

Financial

Family

????

Cultural
Mobility

The Counsciousness
of Happiness

Figure 3.2.: Well-being evaluation and happiness assessement [56]

3.3.2. Travelling Behaviour
The incentivisation of travelling behaviour presents a number of challenges.
While commuters, especially in densely urban centres, may have a large
number of alternatives, they tend not to reconsider their options [2]. However, o↵ering a personalised service has the potential to enhance their personal wellbeing and QoE. In addition, UPT providers also benefit from such
a close relationship with travellers, leading to more efficient and sustainable
transportation.
There is a growing interest in sustainable transport, that implies a balance
between environmental, social and economical qualities of mobility [191].
UPT network management in itself has an impact on travellers, and may
even conflict with their personal goals. Actively influencing their behaviour
by providing them with the perspective of a better community or society
via empathic services, has the potential to assist smart cities to achieve such
goals, that is not limited to mobility and may be extended to other areas.
Empathic information services that take into account the individual travelling needs, preferences, as well as personality and overall wellbeing may
suggest a suitable personalised alternative while engaging them in the process.

74

3.4. Passenger Experience

3.4. Passenger Experience
Passenger experience in UPT has been gaining attention in the last few
decades, as service providers continuously look for ways to improve their service. The motivation for improving the quality of service is both economical
and environmental. While passenger satisfaction results in increased loyalty
and willingness to pay for the services o↵ered, governance agencies see it
as a way of supporting sustainable mobility. There is, therefore, a direct
relationship between improvement of service quality and satisfaction [79].
Customer satisfaction is an important performance indicator that evaluates performance of products and services in relation to customer expectations. This measure is used in a wide range of industries as a di↵erentiation factor. Several methods exist for measuring satisfaction, such
as the SERVQUAL [159] and the Customer Satisfaction Index (CSI) [95].
While the SERVQUAL method pioneered the assessment of satisfaction as
a function of expectations and perceptions, both methods rely on the same
principle. Five main quality dimensions are used in the evaluation: reliability, assurance, tangibles, sta↵ empathy and responsiveness. Even though
SERVQUAL is one of the most widely used methods to assess satisfaction, CSI provides a more direct measure. The CSI method relies on direct
numerical representation of the satisfaction rate, instead of an evaluation
based on judgements expressed on a numerical scale, allowing quantitative
techniques of analysis to be applied [58].
Several studies based on customer surveys have focused passenger satisfaction, including public and private means of transportation. The research suggests that passengers are a↵ected by a variety of objective aspects and subjective characteristics of the travelling environment. Table 3.1
summarises some of the most important factors that a↵ect journey quality [171, 53, 59, 185].
Passenger satisfaction is a↵ected not only by instrumental functions, such
as cost and duration, but also by other more subjective aspects such as feelings, comfort and convenience. All of the aspects have an impact on the
satisfaction, or QoE, as defined in Section 2.4.1. Quality is, therefore, perceived by passengers as an important determinant of users’ travel demand,
that requires UPT providers to adjust the service to the attributes required
by travellers in order to become more attractive and influence continued

75

3. Intelligent Urban Mobility

Table 3.1.: UPT major service attributes
Definition

Attribute
Physical
Reliability
Frequency
Speed
Price
Information
Vehicle condition
Cleanliness
Perceived
Personnel
Comfort
Safety
Convenience
Aesthetics
Personal
Distress
Wellbeing
Environmental
Self-expression

Performance in relation to the planned service
How often a service is o↵ered during a given period
Velocity of the vehicle
Monetary cost of travel
Provision of information about a certain journey
Physical and mechanical condition of the vehicle
Cleanliness of vehicle interior, seats, windows and
exterior
Helpfulness and empathy of personnel
How comfortable is a journey including seating,
noise and driver
How safe passengers feel from traffic accidents
How simple and flexible is the service
Appeal of vehicles and other areas
Cognitive demand as a result of the usage of the
service
Elements that improve the experience, e.g. reading
or relaxation
Individual responsibility in caring for the environment
Usage of public services as an expression of personality

usage and modal shift.
In large urban areas, however, passengers have a number of service alternatives to perform a given journey. The intrinsic and instant characteristics
of each of the options provides di↵erent levels of passenger satisfaction. A
traveller-aware information service, supported by ATIS, may o↵er a personalised service that potentiates QoE in such environments. Alternatively, the
notification of occurrences that are likely to result in a decreased QoE may
be communicated to passengers before-hand, reducing the impact on their
satisfaction.
The perceived service quality is not only defined as a function of the
service characteristics but also how it is received [81]. In other words, pas-

76

3.5. Summary
senger satisfaction shares many of the QoE characteristics defined in Section 2.4.1. Furthermore, in an increasingly pervasive environment such as
UPT, providers are turning to ICT for assisting them in addressing travellers’ requirements, not limited to utilitarian but also hedonic needs. This
environment, combined with the benefits associated with personalised services, that are able to address supra-functional needs, including preferences
and internal state, provide all the required elements for enhancing user experience in UPT. In this context, a personalised transportation service with
this characteristics has the potential to actively contribute to an increased
QoE in urban mobility.

3.5. Summary
This chapter presented the opportunities in urban public transport for the
design and implementation of an intelligent ubiquitous system with the goal
of enhancing the travelling experience. A number of benefits derive from
urban public transport for both passengers and the sustainable development
of urban environments. The next chapter specifies a platform to provide
the technological foundation for the design and development of a↵ective
ubiquitous systems.

77

4
Cloud2Bubble Specification

4.1. Introduction
This chapter introduces the technical specification of an intelligent ubiquitous platform, named Cloud2Bubble, based on the analysis from Chapter 2.
The high-level specification of the platform is divided into three main categories: functional, non-functional and supra-functional. A representation of
the central features of the platform is presented as use cases for the di↵erent
entities involved: users, devices and system. Moreover, the loop of interaction between two abstract entities is introduced as a pivotal element of the
system. The first entity, the Cloud, is based on a cloud-based infrastructure
capable of collecting and processing information about an environment. The
second entity, the Bubble, is focused on the increasingly sensor-saturated
environment in which the collection of environment and user digital information becomes ubiquitous. This interaction between users and system
supports a dynamic relationship with UX. The system is able to respond
and adapt according to users’ interactions, in order to provide for an enhanced experience. Finally, a high-level architecture is specified describing
the main components and their purpose, based on smart environments.

4.2. Requirements
The opportunities identified in Chapter 2, as well as its associated risks, resulted in a set of high-level requirements, including functional, non-functional
and supra-functional, that involves the di↵erent stakeholders of ubiquitous

79

4. Cloud2Bubble Specification
environments. Rather than an extensive list, the following requirements aim
at identifying the main functionality and characteristics at a higher level,
that will support the development of a generic platform.

4.2.1. Functional
The following functional requirements define the required functionality and
behaviour of the system.
Build environment model
The environment model is the representation of the physical world and holds
a range of di↵erent characteristics of the environment, as well as interactions
between entities. The model is based on the aggregation of data collected
from sensors deployed in the environment, users’ personal devices and, when
available, additional external services. The resulting model constitutes the
foundation for assessing di↵erent experience aspects of an environment.
Build personal profile
The personal profile is a collection of user-related features and qualities that
define di↵erent individual preferences and needs. A profile is composed of
user information, habits and internal states that are collected both implicitly
and explicitly from di↵erent sources. This profile allows the system to reason
upon unique user characteristics and respond accordingly.
Monitor user experience
UX, as an a↵ective response to a given context of interaction, identifies
episodes of interest and opportunities for the system to assess or actively
intervene. A sub-optimal experience may be targeted for improvement,
while a above average occurrences are marked as a reference. The monitoring of UX is based on the continuous update of the context model and the
personal profile.
Enhance quality of experience
The enhancement of QoE, as a measure of the quality of an experience
for a given user, derives from the identification of sub-optimal experiences.

80

4.2. Requirements
The provision of an improved experience relies largely on the involvement
of the user in the process of selecting an alternative, via delivering informative notifications or recommending alternative options. The direct action
upon the environment is discouraged due to its negative impact on the user
relationship with ubicomp and, therefore, out of scope of the project.

Behaviour Incentivisation
Behaviour incentivisation, based on the delivery of personalised services and
improved UX, supports the application of policies as system wide defined
goals. The goals are largely dependent on user behaviour and di↵erent
strategies may be implemented to achieve behaviour adaptation without
impacting UX significantly.

4.2.2. Non-Functional
The following non-functional requirements specify the quality properties of
the system, that are associated with the quality of the service.

Reliability
The intrinsic invisibility associated with ubiquitous environments requires a
high level of reliability from the systems responsible for bringing the physical
and virtual world together. Reliability ensures the availability and correct
functioning of the system and includes error recovery strategies, component
and information dependability and identification of faulty elements. This
requirement ensures a system may always be controlled if needed.

Security
The system maintains an extensive amount of context and personal sensitive
information. The security of such resources is essential to prevent unauthorised access to sensitive data or usage for malicious or other purposes. In
addition, unauthorised access to the processing infrastructure itself puts the
system at risk, exposing its normal behaviour and operations.

81

4. Cloud2Bubble Specification
Privacy
Ubicomp systems must ensure users’ implicit and explicit privacy preferences and options, rather than be used as a tool to expose personal information. The privacy strategy is based on an agreement between users and
system, where the collected data and its usage is transparent and clear.
Simultaneously, individual preferences in regards to privacy options, data
maintenance and distribution must be maintained and followed. This requirement encourages privacy functionality and practices to be embedded
in the development of ubicomp systems.
Expandability
The expandability requirement aims at providing a robust platform upon
which new functions and capabilities may be added. Thus, flexible behaviour adaptation and component addition are integrated within the foundation of the system, to ensure that system behaviour and technological
infrastructures are being adapted and used for the benefit of users. As a
result, users may use the platform as a tool to adapt to their own needs,
or even to contribute towards solving an existing problem or implementing
innovative applications.

4.2.3. Supra-Functional
Supra-functional requirements refer to the actions taken by the system to
meet users’ individuality and expectations, with the goal of having a positive
e↵ect. Unlike the previous functional and non-functional requirements, the
system action cannot ensure the success of its actions. Instead, it provides
users with the necessary context towards the specified goal.
User Experience
A user experience oriented strategy underlies the overall functioning of the
system, being its main goal to satisfy for users’ hedonic and a↵ective requirements alongside their utilitarian ones. While it may not be possible
to provide for such supra-functional requirements, the system assists the
setting of a positive context or avoiding negative conditions.

82

4.3. Use Cases
Reflectivity
The development of systems that disappear into everyday’s objects results
in an oblivious and pervasive interaction. While such environment may
o↵er a number of advantages, the personal boundaries of what is acceptable
vary between users. Engaging the user in a reflective process about the
role performed by the system, its benefits and drawbacks as well as the
consequences and impact on everyday life and activities. This reflection
is integrated in the strategy to be implemented by the system in di↵erent
interactions rather than a single task to be performed in isolation.
Responsibility
Ubicomp systems have the ability, to a certain extent to act autonomously
and adapt transparently to di↵erent conditions. Excluding users from the
action of decision results in a decreased sense of responsibility, with an impact on the relationship between users and system. Rather than performing
an adaptive action, providing users with informative suggestions and recommendations involves them in the decision making process with an increased
sense of user responsibility for taking action.
Sociability
Users are integrated within a social environment, including local communities and society in general. The technological platform should integrate, and
take advantage, of existing social capital to improve its capabilities. The
integration of social promotes social inclusion, that some technology tends
to indadvertedly neglect. In addition, leveraging social capital in ubicomp
systems leads to collective and economical benefits derived from cooperation
between individuals and groups.

4.3. Use Cases
A use case diagram typically describes functionality of the system, hiding its
implementation and focusing on what goals may be achieved by the actors.
The actor, in this context, specifies a role played by a user or any other entity
(e.g. other systems) that interacts with the system. In such diagrams, the
complexities of the system are hidden behind a black-box representation of

83

4. Cloud2Bubble Specification
the system. Figure 4.1 is a representation of the main features available for
Cloud2Bubble users.

Send
Personal
Data

Cloud2Bubble
<extends>
<extends>

User

Send User
Data
<uses>
Get
Personalised
Service

Environment
Device

External
Service

<uses>

<uses>
Send
Environment
Data

Send
Contextual
Data

<extends>

Build
Personal
Proﬁle
<extends>

Monitor UX

<extends>
Build
Environment
Model

<extends>

Figure 4.1.: Cloud2Bubble system, use case diagram
The diagram displays two main actors: users and environment devices.
In addition, a third actor is depicted that provides an added layer of context
that may be available, such as existing ATIS in a UPT environment. All
of them contribute with digital information to the system. This information is composed of both participatory and opportunistic sensed data and
enables a personal profile - characterising user preferences and state - and
an environment model - representing the physical and social interactions
between the di↵erent elements of the system. Finally, these two elements
are the basis for matching the environment characteristics and user preferences, that allows Cloud2Bubble to assess and monitor UX - as a measure
of the user a↵ective state - and generate a personalised service. The actual
specification of data requirements and services is left for the instantiation
phase, when the context is defined, including the definition of context and
identification of the experience to improve.
Cloud2Bubble provides a flexible platform for measuring UX and facili-

84

4.3. Use Cases
tates the incentivisation of users towards enhanced experiences. From this
perspective, the typical use case diagram is inverted, where the system becomes an actor and the black-box a simplified representation of the user,
who receives input from the actor. Figure 4.2 shows a representation of
such diagram, with the main actions the system aims at performing on the
user.
User
Raise
Awareness
<uses>
Personal
Proﬁle

<uses>

<attempts>

Enhance QoE

<attempts>

<attempts> Cloud2Bubble

<uses>
Incentivise
Behaviour

Figure 4.2.: User system, use case diagram
In this diagram, the inverted role of Cloud2Bubble as an actor performs
basic functionality related to UX and behaviour. This simplified view relies
on the capability to build a personal profile that combines preferences and
needs with dynamic a↵ective states. The notation used between the actor
and use cases is adapted to convey the uncertainty in ensuring the final
outcome, as an attempted action.
The relationship between user and system as a continuous loop - where
one performs actions over the other in order to achieve a desired goal - is
supported by the capability of assessing users’ activity, intentional goals
and a↵ective state. This capability allows for monitoring UX and actively
enhancing it, supporting the development of empathic aspects in the system.

4.3.1. Interaction loop
The design and development of an intelligent pervasive platform relies on
a loop of continuous interaction between users and ubiquitous systems (see
Figure 4.3). Similar approaches have defined this loop as the biocybernetic
loop [167, 184] and the a↵ective loop [89]. The established user experience-

85

4. Cloud2Bubble Specification
centric approach focus primarily on the inclusion of users in the early stages
of design and development. Increasingly dynamic systems enable the inclusion of such user-centric processes even after the system is deployed and
integrate them in its functioning.
The proposed solution focuses on the interaction between two main elements. The first is a Cloud -based infrastructure inspired on smart environments, where data aggregation and information processing enables the
monitoring of UX. The second revolves around users who are surrounded
by an increasingly pervasive environment, interacting with di↵erent devices.
This second element constitutes a Bubble that enables the collection of user
data as well as the delivery of services tailored to their preferences and
needs. The focus on the interaction between these two components is captured under the name Cloud2Bubble.
user data collection stream

Info
Processing
Context
Model

User
Proﬁle
Decision
Making

personalised service delivery stream

Figure 4.3.: Cloud2Bubble loop of interaction [43]
Interactions are not limited to explicit actions performed on devices or
objects, as it is the goal of ubiquitous environments to make technology
disappear into the background. Implicit interactions, including patterns of
behaviour and internal states, become part of the input. A hybrid sensing
approach, combining both opportunistic and participatory sensing, allows
for the collection of a vast amount of personal information.
Wearable and other personal devices are gaining momentum, however
not all objects are fully integrated within an ubiquitous system. Personal
devices o↵er a window to a user personal space, with “91% of people keep
their phone within 3 feet, 24 hours a day” [144].
Personal devices, such as smartphones and tablets, are central in the
continuous expansion of ubiquitous sustem. They provide a deep integration into the lives and activities of users. Examples of input that may be

86

4.4. High-level Architecture
acquired include social interactions, patterns of behaviour, geographical location and motion. These devices are maintained by users in their intimate
space, and taking advantage of these computational nodes o↵ers a number
of opportunities, and allow for a systemic collection of digital information.
In addition to the collection of data, personal devices provide a privileged platform for the delivery of personalised, relevant services. Providing
users with new information raises, however, some of challenges, including
intrusiveness, acceptance and reliability. In addition, delivering information
with the potential to a↵ect user behaviour or even influence it, raises ethical
considerations.
Acting upon the environment, on the other hand, may be undesirable
or not possible. The weather, as an example, is uncontrollable and the
intervention must be focused on the user. A notification may be issued to
a personal device as a reminder of the weather conditions. An intervention
of this kind contributes to an overall positive experience by: setting users’
expectations in relation to the meteorological conditions; and by o↵ering a
possible solution to mitigate the impact of the issue. The focus is, therefore,
on the user and in exploring the potential of enhancing UX dynamically by
delivering personalised services, suggestions and recommendations, rather
then actively adapting the environment.
The capability of ubicomp systems to continuously collect environment
and user data facilitate the creation and maintenance of an environment
model and a personal profile. These elements, when combined, enable the
monitoring of UX dynamically as well as delivering tailored services for
enhancing UX. A cloud-based infrastructure provides the required level of
abstraction, enabling the focus on the interaction with the users. The context modelling and user profiling, based on a number of environment and
personal data streams, are aggregated on the main component of the platform, which continuously monitors user satisfaction and dissatisfaction and
generates appropriate actions [42].

4.4. High-level Architecture
The conceptual Cloud2Bubble architecture, in Figure 4.4, is divided between
a cloud-based infrastructure and physical interconnected devices spread
through the environment [43]. The cloud, in this context, represents an ab-

87

4. Cloud2Bubble Specification
straction over the infrastructure that maintains information and processes
it. The physical devices range from sensors to personal devices and smartphones, as well as external systems.

Decision Making
Information
Processing
Domain
Management
Environment
Perception

Action
Execution

Figure 4.4.: Conceptual Cloud2Bubble architecture [43]
Typically, in smart environments, the flow of execution is divided into two
phases: environment perception and action execution [38]. Environment
perception is a bottom-up process, starting with user and environment data
collection, which is transmitted and aggregated on the cloud-based infrastructure. The reasoning module on the top-level performs reasoning upon
the state of environment and users. The second phase starts at the top-level
with the generation of actions, if applicable. Action execution is then a topdown process, propagating the action to physical components and users,
updating the system.
A set of technologies were reviewed in Chapter 2, relevant to synthesising a↵ective and pervasive technologies with the goal of satisfying users’
supra-functional requirements. This supra-functionality is related to hedonic aspects of user experience, satisfaction and other socio-cognitive features
in relation to the system. While pervasive systems provide the platform
for embedding ubiquitous technology into everyday’s objects and activities,
smart and adaptive systems add a layer of intelligence that is able to process a number of inputs with the goal of acting upon the environment for
improving it – including enhancing users’ experience and increasing overall
efficiency. Recommender systems, on the other hand, leverage the interaction with the users to analyse patterns of behaviour and satisfaction with
the goal of providing relevant and individual recommendations. Our ar-

88

4.4. High-level Architecture
chitecture draws from these ideas to assess users’ experience in intelligent
ubiquitous environments, by exploiting the a↵ective loop of interaction.
The introduction of this emotional dimension enables a↵ective-based adaptation to improve upon a metric of personal satisfaction, defined as quality
of user experience. This measure based on users’ a↵ective states, allows
Cloud2Bubble to incorporate hedonic aspects in the process, rather than
relying on performance-based ones, e.g. adaptation of multimedia service
delivery based on network bandwidth. In addition, the subjective metric of
quality of user experience, subjective in nature, maybe primarily used as a
rank-ordering attribute, and can be used in a similar way to recommender
systems to define preference.
In addition to this a↵ective-based adaptation, Cloud2Bubble incorporates
some of the qualities necessary for supporting collective action including
concerns with data collection and personalisation, trust and other societal
implications, and support for inclusive design at a community level. The
Open Mustard Seed (OMS) project1 , as an example of platforms for collective action, is committed to create an open data platform to enable users to
share all their personal data within a legally constituted trust framework.
Similar to Cloud2Bubble, this framework aims at providing a personal service that can securely store and process static and dynamic data about its
users. the main goal of the OMS project is to provide an open-source framework that can be combined with other services to enable the development
of diversified applications. While Cloud2Bubble shares this vision to a certain extent, it is focused on the a↵ective-based interaction with users, that
includes a metric of quality of user experience.

4.4.1. Smart System Components
The Cloud2Bubble platform is based on a smart system architecture [38].
The proposed smart environment architecture integrates physical devices,
an enabling communication layer, information processing and decision making, present in Figure 4.5.
In the proposed architecture the physical layer is responsible for establishing the connection between physical components - i.e. sensors, actuators
and other devices - and the main system. The communication layer deals
1

ID3 – Open Mustard Seed framework: idcubed.org/open-platform/platform

89

Inhabitant
Modelling

Router

Sensor
Network

Software
Interface

Software
Interface

OS Services

Data
Mining

Point to Point

Database

Component Mobility

Prediction

Naming / Discovery

Rule Engine

Software
Interface

Operating System
Hardware
Interface
Sensor

Actuator

Hardware
Interface
Sensor

Hardware
Interface
Actuator

Domain Management
Info Processing
Cloud2Bubble Modules

Decision Maker

Decision
Information
Communication
Physical

Reasoning

4. Cloud2Bubble Specification

Device

Figure 4.5.: Smart environment components, based on [38]

with the management of the di↵erent components into a network of environment devices, allowing the system to collect and aggregate data as well
as performing actions to adapt to di↵erent conditions. The information
layer transforms the collected data into a model representation of the environment and its users. Finally, the decision layer relies on these models
to reason and generate actions towards a specified goal. In addition, this
unified and interconnected structure allows smart environments to share
relevant information between di↵erent contexts towards specific goals. For
example, a user profile may be shared with new contexts for pervasive adaptation.These modules inspired the architecture of Cloud2Bubble, identified
in Figure 4.5, and described in the next Sections.

90

4.4. High-level Architecture

4.4.2. Domain Management
The domain management module is responsible for establishing the connection between the physical and virtual worlds. This connection relies
on a large number of computerised nodes, ranging from personal devices
to everyday objects equiped with sensors and actuators. The information
required by smart environments is collected and transmitted, mostly wirelessly, by these elements using wide spread communication networks. This
highly heterogeneous and dynamic environment, composed of a pool of very
di↵erent devices, capabilities and requirements, requires an equally highly
adaptable system.
In addition to the commonly desired features, such as high-speed and selforganisation of the network, reliability and fault-tolerance are key aspects to
take into account. In particular, component synchronisation and data fusion
are complex issues in highly dynamic systems [23, 38]. The intrinsic level of
uncertainty in these systems derives from the heterogeneous characteristics
of the system, for example: di↵erent levels of quality of information provided
by the devices; limited resources in certain nodes; or even malfunction of
parts of the network.
A hierarchical typology of domain management enables independent behaviour at di↵erent levels of the hierarchy. For example, a temperature
sensor at a low level reporting considerably higher temperatures could be
faulty, while the aggregation of a number of sensors reporting a high temperature within a room could indicate a fire. In addition, this structure
allows for the distribution of low-level operations into the devices such as
data pre-processing, releasing network resources albeit with increased uncertainty.
In this context, policy computing provides behaviour configuration, capable of adapting to di↵erent contexts and user activities. Moreover, policy
computing provides a tool for the definition of a high-level strategy that
is cascaded down to lower levels of the hierarchy. For example, the highlevel goal of reducing energy consumption in a household may be achieved
through reducing the usage of certain appliances and engaging users in responsible energy consumption, levering the loop of interaction.
Policy computing provides a layer of abstraction for guiding decisions
during the execution of a system. These are, however, not limited to resource

91

4. Cloud2Bubble Specification
management, but cover a broader scope. Policies facilitate the declarative
specification of business logic, a higher level of abstraction to large-scale
systems and extensibility, allowing for additional behaviour specification
dynamically [204].
Even though work on policy computing has been restricted to specific
context, such quality of multimedia applications, novel approaches define
a domain-independent model. The models may later be instantiated to
particular areas, such as QoS and security, as well as domains, like telecom
and healthcare [204].
This approach provides extensive support for dynamic behaviour and the
concept is extensible to new areas, such as QoE. The ability to include
measures of quality of user experience and incentivise user behaviour opens
the possibility for a platform that incentivises behaviour and empowers users
to actively contribute towards collective action.

4.4.3. Information Processing
In smart environments every data point is capturable, contributing for
context-aware systems. However, the process of transforming several inputs into an internal model, raises a number of challenges related to data
mining and fusion. Temporal reasoning, for example, facilitates the processing of a large amount of events, resulting in a responsive and up-to-date
model of the environment.
From an information theoretic viewpoint, user behaviour patterns constitute uncertainty regarding their subsequent activities. The analysis of users’
daily habits and routines reveals some well defined patterns which may be
learned and predicted. Users’ activities are thus considered a stochastic
process with an associated uncertainty [20].
As described in Section 2.3.1, the context is characterised by four main
parameters: identity, activity, location and time. The internal models support the description of such parameters, divided into two main elements:
user profiling provides mainly identity and activity; and context modelling
provides mainly location and time.

92

4.4. High-level Architecture
User Profiling
User profiling represents the characteristics, needs and preferences of a user,
enabling a system to “say the right thing at the right time in the right
way” [69]. They provide answers to the who and what associated with the
context, described in Section 2.3.1. User profiling has been used as a usercentric tool during the software design and development phases, to raise
awareness about the end-users and target their specific needs.
In the context of smart systems, user profiling facilitates the adaptive and
dynamic behaviour, according to individual characteristics. The contents
of a profile include personal information, personal preferences, needs and
even a↵ective internal state. While some of this information may be explicitly provided by the user, implicit interactions provide the required digital
information to not only infer preferences and needs but also adapt over
time. The usage of implicit interactions usually constitute a more flexible
approach even though it may raise concerns related to privacy and security.
Profiling has been applied commercially with a considerable degree of
success, as it is the case of online media services and e-commerce. These
services base their recommendations on songs or videos previously watched
or products bought by users, in combination with the ratings given, to
recommend new content and promotional material. As a result, users’ satisfaction improves leading to higher sales.
In smart environments, user profiling holds great potential for dynamically and continuously adapt to individual users leading to an enhanced user
experience. This enables systems to provide personalised services or even
act upon the environment to adapt certain characteristics, even if direct
action is not ideal as discussed earlier. For example, provide an alternative
commuting route in case the current one is congested.
The user profile specification in Cloud2Bubble not only describes users
themselves, but also their relationship with a product, service or environment. It is, therefore, divided into two main sections: a generic section, that
holds data relative to the user; and an expandable section that is associated
with the domain of application. The main characteristics are identified in
Table 4.1.
Specific attributes of a user profile are related to the context of application and define preferences and needs for a defined context. In the context

93

4. Cloud2Bubble Specification

Table 4.1.: User profiling, generic attributes
Attributes
Description
Demographics
User description including gender, age, ethnicity, education and occupation
Privacy
Defines the privacy preferences for access and
usage of personal data, defined at a global
level and refined for di↵erent contexts
Internal State
Describes the internal state of the users at
di↵erent timescales, including cognitive load,
a↵ective state, mood and personality traits
Activity
Current activity being performed by the user
and internal goals
History
Historic user response in relation to the environment and system actions

of UPT options may include physical restrictions that are associated with
transportation and other commuting preferences. The user profile is, therefore, a dynamic element of Cloud2Bubble that allows for its adaptation to
di↵erent contexts and operability between di↵erent sections of the profile.

Context Modelling
Context modelling captures the state of an environment as a representation internal to the system and may vary significantly in level of depth and
breadth. Approaches to building a context model go from simple key-value
based models, where a list of attributes of an environment is paired with
their respective values, to ontology based ones that describe the full spectrum of characteristics and interactions within an environment [193].
The context model allows Cloud2Bubble to identify the when and where
of a context, where environment characteristics may di↵er between specific
contexts of application. For example, the requirements of a home environment are di↵erent from the ones in a mobility situation, and while temperature may be a common characteristic to both contexts, vehicle vibration is
certainly exclusive to transportation. The main aspects of context models
are as follows:

94

4.4. High-level Architecture
• Environment
Describes the physical characteristics and social interactions of the
environment. These are used to model the internal structure of a
given context, specifying the degree of impact on user experience. For
example, a vehicle may defined as a single entity, due to its individual physical characteristics that may be considered in isolation. The
conditions within a vehicle have an impact on its current passengers
experience, but not on other travellers.
• Interaction
The encapsulation of interaction between the di↵erent elements of an
environment is also present in the context model. The interaction
specifies how users interact with the environment and each other, providing relevant context about their habits and social interactions.
• Users and Behaviour
Finally, the context model not only defines the environment characteristics but identifies who is present in such environment and how it
relates to personal characteristics. The behaviour of the system, and
how it addresses personal preferences and needs, relies on an accurate
representation and processing of these elements.
In highly dynamic environments, however, context information may have
di↵erent levels of imperfection due to technical limitations, regulation restrictions or component malfunctions [94]. The four main categories of
imperfect information are: unknown, when no information is available; ambiguous, when di↵erent and incompatible data are available; imprecise, denoting an inexact approximation of the real state; and erroneous, in cases
where the data available is incorrect. Failures of this nature must, therefore,
be expected and accounted for in the design and development of systems.
Context models provide a platform for spatial-temporal reasoning in ubiquitous environments [20]. Spatial-temporal models provide the necessary
information systems to infer knowledge about an environment. Event processing is an example of reasoning that relies on the analysis of a continuous stream of information to derive facts about an environment, that allows
smart systems to continuously update their internal models.

95

4. Cloud2Bubble Specification

4.4.4. Reasoning
The decision making is the top level component, concerned with determining
the action to be taken in a given situation to optimise a performance metric,
or utility of the system. The utility, in this case, is based on the resulting
a↵ective state as a measure of quality of user experience. Decision making
algorithms establish a mapping between the state of the environment and its
inhabitants, gathered from current and past observations. The performance
metric is calculated at the relevant points in time, supporting the decision
making process [40].
High complexity, related to the large amount of elements present in ubiquitous systems, are generally better cast as event-driven architectures. Such
architectures wait until a new event is received to process new data. While
smart systems in general aim at acting upon the environment in order to
adapt to users, it may not always be possible or desirable. The reasons to
do so vary from external factors, out of the scope of the system, to actions
with an unwanted impact or against the system goals.
Smart systems may, in fact, have contradictory goals. Enhancing UX at
an individual level may be incompatible with achieving a collective objective. For example, usage of private transportation for convenience by a user
and reduction of carbon dioxide emissions. Raising users’ awareness towards
their impact within the community, and how their individual action impacts
the greater good, is a way of involving and incentivising their behaviour,
where the community or social group achieves a common goal.
Both the user profile and context model, identified earlier, play an important role in supporting the identification of sub-optimal QoE. Establishing
the relationship of how users react to certain environment conditions, as an
expression of experience, enables Cloud2Bubble to address those situations
or incidents with the goal of improving user experience. In UPT, for example, the identification of a crowded vehicle allows the system to notify users
who are sensitive to personal space and suggest alternatives, with potential positive results. Adjusted expectations for travelling or switching to a
di↵erent yet more comfortable alternative are two possible outcomes for an
enhanced travelling experience.
The importance of including the user perspective in adaptive systems
was first described in [103]. In addition to environment information, the

96

4.5. Summary
combination of user’s current state, behaviour and longer-term properties
support the delivery of personalised services resulting in a higher utility of
the system. Figure 4.6 presents the relationship between the information
components, and how they result in a utility of the system.
System
Behaviour
Presentation of
Information

Features of the
Situation

Consequences for
the User
Comprehensibility,
Obtrusiveness and
Relevance

Current State of
the User

e.g. User Location

Cognitive Load,
Current Goal,
Emotional Arousal

Readings from
Context Sensors

Readings from
Physiological
Sensors

Location and other
readings

Wearable
Computing

Utility for
the User
QoE

Longer-Term
Properties of the
User
Interests,
Preferences,
Characteristics

User behaviour
with the System
User searching for
alternatives

Figure 4.6.: User and context information, adapted from [103]

4.5. Summary
In this chapter the specification of the Cloud2Bubble platform was introduced. The specification was divided into functional, non-functional and
supra-functional needs, as well as the central use cases for the entities involved. The specification includes the definition of the interaction loop
between users and the system, upon which the development of the platform
is based. Finally, the high-level architecture was described along with its
main components and description of functionality. The next chapter describes the implementation of the software platform based on the specified
system.

97

5
Cloud2Bubble Implementation

5.1. Introduction
This Chapter presents the implementation of the Cloud2Bubble platform. It
details the main modules, specified earlier, as well as the di↵erent software
packages. Each of the software packages describes its functionality and their
contribution for addressing the platform requirements, identified in the previous Chapter. An overview of the system behaviour is provided, focusing
on two main types of behaviour: request-based and event-driven behaviour.
The deployment approach is also analysed, focusing on the strategies for
distributing the platform through di↵erent nodes, namely the cloud-based
infrastructure and personal mobile devices. Finally, a methodological procedure is presented to assist with the instantiation of the software platform
in specific domains of application.

5.2. System Overview
The main elements that compose the platform, in the class diagram in
Figure 5.1, are divided into three main categories:
• Entities
The Entities, conceptually divided into Cloudlet and Bubble, maintain the state of the system, including their hierarchical structure;
and encapsulate data regarding each of the individual entities. The
Cloudlet entity holds context data, including environment state and

99

5. Cloud2Bubble Implementation

«interface»
Entity

Service
history

«manages»

Domain
Management

Information
Processing

domainModel
registerBubble()
registerCloudlet()
moveBubble()
moveCloudlet()

Reasoner

«implements»

accessProﬁle()
updateProﬁle()
1
«holds»
1

«refers»

1..*

QoE Proﬁle

User Proﬁle
attributes[]
values[]

preferredValues[]
0..*
«implements»
0..*

Domain
Obligation

Bubble

estimateQoE()
validateQoE()

generateAction()
performAction()

«implements»

0..*

identiﬁer

0..*

executePolicy()

«holds»

0..*

Info. Processing
Obligation

1

«includes»

Reasoning
Obligation

0..*

Cloudlet
1

accessContext()
updateContext()
1

«implements»

1
0..*

Authorisation
origin
destination
type

condition
action
execute()

enforce()
«enforces»

Obligation

0..1
0..1

«handles»

«interface»
Event
type
origin
attribute
value

«holds»

Context Model
attributes[]
values[]

0..1

0..1

Message

Policy

Bubble Event

origin
destination
message

Figure 5.1.: Cloud2Bubble class diagram

100

Cloudlet Event

5.3. Main Services
the users in that space, and the Bubble maintains users’ personal profiles with individual preferences, needs and characteristics. The hierarchical structure allows the system to maintain a relational structure
between di↵erent entities, e.g. where is a user located or how two
spaces are related.
• Services
The services available in the platform implement the functionality of
the main modules, divided into: Domain Management, Information
Processing and Reasoning. Each of these services integrates in the
workflow of the system, performing a specific function.
• Policies
The policies define the behaviour of the system, from access authorisation to event handling. Policies are divided into authorisations that define the levels of access between di↵erent entities of the system
- and obligations - that implement the event-driven behaviour of each
of the services.
The services identified are supported by a set of software packages that
are used to target the requirements, described in detail in the next sections.
In short, the main software packages are a policy system, a rule engine and a
fuzzy inference system. The policy system provides low-level domain management of the di↵erent hardware and software components, manages authorisations as well as maintaining hierarchical and data structures. The rule
engine provides high-level domain management, complex event processing
and temporal reasoning. This module is also responsible for implementing
action generation, with the goal of providing an enhanced user experience.
Finally, the fuzzy inference system validates the actions for QoE optimisation in relation to the individual user profiles. Table 5.1 summarises the
relationship between the platform services and software packages.

5.3. Main Services
The development of Cloud2Bubble includes a number of software packages,
providing functionality for the di↵erent requirements identified in Chapter 4.
Some of these requirements, however, have implications for the instantiation

101

5. Cloud2Bubble Implementation

Table 5.1.: Platform services and software packages
Domain
Information
Management
Processing
Reasoning
Policy Sys- Low-level
domain High-level domain tem
management;
Au- management
thorisation enforcing
Rule Engine
Context and user Event processing; modelling
Action generation
Fuzzy Infer- UX monitorence System
ing and QoE
estimation
and usage in naturalistic environments. For example, dynamic domain management is a desirable feature for sensing users and the environment, but
raises challenges related to security and privacy. The following sub sections
describe the implementation details and challenges faced in the modules
specified.

5.3.1. Domain Management
Domain management constitutes the foundation of the platform and is responsible for maintaining the relationship between physical resources and
the virtual world. As stated in Section 4.4.2, the complexity associated with
a high number of heterogeneous devices requires a dynamic and adaptive
solution. In this context, policy-based management provides extensible behaviour adaptation, from resource management (low-level) up to business
logic (high-level). Policies enable the definition of system behaviour dynamically, without requiring the implementation of software code. For example,
a low-level policy may define how a new hardware component, e.g. a sensor,
is integrated in the existing infrastructure, while a high-level policy defines
the processing and aggregation of data from that device with others.
A number of projects and initiatives have explored the design and development of intelligent ubiquitous environments, as well as the challenges
raised, including the demand for a highly flexible and adaptive system and
the ability to respond to the needs identified in the environment, as described in Section 2.6.
A common approach is to focus on a specific domain, addressing the iden-

102

5.3. Main Services
tified needs and requirements. As a result, these projects tend to concentrate
on the low-level details of implementation, including resource management
and data fusion. Smart-system projects - such as smart homes - are an example where significant e↵ort is concentrated in modelling the home, even
if disconnected from other external infrastructures. On the other hand,
a high-level oriented approach tends to focus on an abstraction of system
behaviour adaptation and policy specification without directly addressing
the challenges of the domain being implemented. The KAoS policy language [203], as an example, provides an ontology-based policy specification.
While it provides a flexible approach to describe and incorporate a wide
range of elements, it fails to support the underlying resource infrastructure
directly. The rationale for using Ponder2 is its ability to bridge the gap
between these two approaches, providing support for domain management
and an integrated policy specification [188]. As such, the main features used
are related to component management, including communication, eventbased policy behaviour and resource access enforcing. Cloud2Bubble builds
upon these features, by implementing its own context, including entities and
structure, domain-specific behaviour and access authorisations.

Policy System
The Ponder2 platform provides a self-contained, stand-alone policy environment that may be applied to a wide range of contexts, from body sensor
networks to urban planning. The Self-Managed Cell (SMC) pattern in Figure 5.2, implemented by Ponder2, is an engineering paradigm for structuring
ubiquitous environments [188]. SMCs are independent entities that manage a set of heterogeneous software and hardware modules, with support
for adding and removal of components, dealing with erroneous sensors and
adapting automatically to users’ activity or environment.
The core functionality is composed of discovery and policy services an
and event bus. These elements allow the system to connect and manage
di↵erent resources within and between SMCs. Moreover, interconnected
SMCs are transparently linked via a common event bus that provides unified domain management features. As a result, higher-level services are
abstracted from dealing directly with remote components. Other services
may be added depending on its application, such as security and utility

103

5. Cloud2Bubble Implementation
Ponder2 Components
Monitoring

Security

Cloud2Bubble Components
Service
Discovery

Domain
Manager

Reasoner

Information
Processing

External
Interface

Event Bus

Policy
Management

Resource
Adapters

Context

Managed
Resources

Figure 5.2.: Self-Managed Cell (SMC) architecture, adapted from [188]

functions to optimise performance. Therefore, components can be scaled
according to the requirements, from single sensors to large-scale systems.
The abstract domain management in Ponder2 is supported by the following
main elements:

• Managed Objects: extend the capabilities of the platform, implement-

ing services, external resource access and domain elements. A managed object is a Java class that implements the ManagedObject interface, provided by Ponder2, and makes its functionality available to
the platform via user-defined keywords;

• PonderTalk: language used in Ponder2 for abstracting the communication between local and remote objects, accesses functionality ex-

posed by the available managed objects and establishes the connection
between all the available resources;

• Policies: define the behaviour of the system that is adaptable at runtime, divided into authorisations - that define access rules between

di↵erent managed objects - and obligations - that specify event handling and actions.

104

5.3. Main Services
Domain Model
The domain is organised in a hierarchical structure with two main entities in
Figure 5.3: Cloudlet and Bubble. Conceptually, a Cloudlet incorporates the
managed resources and users with a common spatio-temporal relationship.
These may include environment sensors and actuators, public displays as
well as personal devices. For example, in a smart home a Cloudlet for
the living room would include all the electronic devices, e.g. TV set and
games console; environment sensors such as temperature and luminosity;
and users’ own personal devices such as mobile phones and smart watches.
The Cloudlet is the entity in which local context is maintained and updated
using all the available resources, based on an event-driven architecture.
«interface»
Entity
identiﬁer

«includes»
0..*

Bubble
accessProﬁle()
updateProﬁle()
«holds» 1
1

QoE Proﬁle
preferredValues[]

«holds»
1

1

User Proﬁle
attributes[]
values[]

Cloudlet
accessContext()
0..* 1 updateContext()
1
«includes»
«holds»
1

1

Context Model
attributes[]
values[]

Figure 5.3.: Entities, class diagram
The Bubble entity is focused on the personal relationship between the
user and the system, that relies on both implicit and explicit interactions
with devices. A Bubble maintains personal context in relation to a unique
user, including expressed preferences, internal state and personal needs. In
the proposed domain model, a Bubble is a mobile entity that roams between
di↵erent Cloudlets, mimicking the behaviour of a user in the environment.
While the relationships are mainly shaped by the physical properties and
constraints of an environment, the management of the domain is not limited by physical constraints and thus other logical relationships could be
included. For instance, the social network aspect of human relationship

105

5. Cloud2Bubble Implementation
may be implemented on a distinct domain level. A graphical representation
of these entities and their relationship is shown in Figure 5.4.
Home
User A

Room

Acquaintances
Colleagues

User B

(a) Physical-based structure [43]

Friends

User A

User B

(b) Social-based structure

Figure 5.4.: Cloud2Bubble hierarchical structure
Each of these entities is implemented as a managed object in Ponder2, and
are available for instantiation as needed. A managed object, implemented
as a Java class exposing its methods via annotations, that may later be
used by PonterTalk messages. For example, an annotated constructor of a
class in Java would be available in Ponder2 for creating new instances, using
the user-defined keyword. Furthermore, managed objects have the ability
to receive and reply to platform wide commands in PonderTalk, enabling
communication between entities.

Policy-based domain adaptation
The domain management is based on two main types of policies in Figure 5.5: Authorisations and Obligations. The authorisation framework in
Ponder2 provides fine-grained control over both subject and target of an
action, and implements conflict resolutions based on domain nesting precedence [201]. The authorisations between the two entities are enforced at
four key points: inbound and outbound requests from both the subject and
target sides. The authorisations framework in Figure 5.6 provides flexible
and powerful methods for defining levels of access between entities. Authorisations are enforced at four Policy Enforcement Points (PEP) for preventing
access to, for instance, an unauthorised target or protect the privacy of the
subject by filtering target replies.
The model of levels of access between entities in the system follows a
generic approach, and is defined as follows:

106

5.3. Main Services

Policy

«interface»
Event

Obligation
condition
action

origin
attribute
value

«handles»

«enforces» origin
0..1
0..1 destination
message

origin
destination
type

execute()
0..1

0..1

Message

Authorisation

enforce()

Figure 5.5.: Policies, class diagram
• Bubble to Bubble
The direct action between Bubble entities is not authorised, for protection of direct unwanted access and due to the personal nature of
information maintained.
• Bubble to Cloudlet
The actions performed between Bubble and Cloudlet entities are authorised but restricted to child entities, i.e. when a Bubble entity is
contained within the Cloudlet entity.
• Cloudlet to Cloudlet
The actions between any Cloudlet entities are authorised, to enable
the system to evaluate and recommend alternatives.

Reply

PEP4
Inbound reply

PEP3 Outbound reply

PEP1 Outbound request
PEP2
Inbound request

Invocation

Subject

Target

Figure 5.6.: Ponder2 authorisations framework and policy enforcement
points (PEPs)
Other fine-grained policies may be defined, depending on the context
of application or personal preferences. For instance, a user may define
their own privacy that result in di↵erent policies. Due to the specificity of

107

5. Cloud2Bubble Implementation
such policies, they gain precedence over the ones specified for the platform,
independently of being restrictive or permissive.
While the authorisations define the level of access between entities, obligations define the behaviour of the system. Obligations are rules that define
system functionality and react to relevant occurrences in the system, defining its adaptive behaviour. Listing 5.1, for example, implements the update
of the domain model based on an event. In Ponder2, an obligation subscribes to a specific event via the event bus; when a new event is generated,
the condition is tested and the defined action is performed, subject to the
authorisations as described earlier. Events specify the attribute names and
values of relevant occurrences in the system and are not able to perform
any operations.
// definition of Bubble event attributes
bubbleEvent := event create : #( " bubbleId " " type " " value " )
// subscribe to event and define policy behaviour
policy
event : bubbleEvent ;
condition : [ : bubbleId : value | type == MOVE ];
// MOVE event holds the Cloudlet ’ id ’ in attribute ’ value ’
action : [ : bubbleId : value |
cloudlet := c2b / getCloudlet id : value .
c2b / moveBubble id : bubbleId cloudlet : cloudlet .
];

Listing 5.1: Ponder2 obligation: updating the domain structure
These rules are responsible for implementing the adaptive behaviour of
the system, however the support for event processing is limited. While
the SMC provides a flexible and robust building block for an ubiquitous
environment, the policy specification would benefit from a powerful rule
engine with support for more complex tasks. The intrinsic extensibility of
the platform allows for the introduction of other external components as
services.

Services
Cloud2Bubble includes a set of services, in Figure 5.7, that implement the
functionality supporting the specified requirements. The main services are:

108

5.3. Main Services

Service
history
executePolicy()

Domain
Management
domainModel
registerBubble()
registerCloudlet()
moveBubble()
moveCloudlet()

Information
Processing

Reasoner

«implements»
0..*

«implements»

0..*

Domain
Obligation

Authorisation
origin
destination
type

QoE Proﬁle

1..* preferredValues[]

estimateQoE()
validateQoE()

generateAction()
performAction()
«implements»

«refers»

«implements»

0..*

Info Processing
Obligation

0..*

Reasoning
Obligation

Figure 5.7.: Services, class diagram
• Domain Management Service
The Domain Management Service is responsible for creating and maintaining the state of the entities in the domain, as well as their hierarchical structure, e.g. the processes of adding a new Bubble entity and
assigning it to a Cloudlet entity. In addition it provides event routing
to the Information Processing Service.
• Information Processing Service
This service is responsible for processing all the incoming events that
are related with environment updates to a rule engine. In addition, it
keeps the representation of the structure between the domain manager
and the rule engine updated. The rule engine performs complex event
processing and action generation.
• Reasoner Service
This service acts as a messenger between the main system and the
reasoner to assess the validity of the actions generated by the rule
engine, with the goal of optimising user experience. This service relies

109

5. Cloud2Bubble Implementation
on the user profile to assess and estimate QoE, that is used as an
utility function.

5.3.2. Information Processing
Information processing, as described in Section 4.4.3, enables the system to
perform context modelling and user profiling, the building blocks that enable reasoning upon environment characteristics and personal needs. The
rule engine provides support for complex event processing and temporal
reasoning. A set of rules is implemented for processing events generated
throughout the platform, and transformed into a meaningful representation
of the environment and users. The rationale for introducing a rule engine
originates in the need for more flexible and powerful event processing capabilities. The rule engine provides such capabilities, including complex
event processing and temporal reasoning, that Cloud2Bubble leverages by
integrating with the existing domain structure and behaviour.

Rule Engine
The JBoss Drools (JBD) is a rule engine, based on an enhanced implementation of the Rete algorithm. The original Rete algorithm was designed
for efficient pattern matching in large production rule systems [73]. JBD
implements an enhanced version of the original algorithm, ReteOO, with
added support for object oriented systems [189]. In addition to the rule engine core (JBD Expert) JBD provides extensive support for complex event
reasoning and temporal reasoning (JBD Fusion).
Some research has focused on the design and development of policy reasoning based on the JBD, with support for ontology specification [205]. Such
implementations were based on a generic policy model, shared among di↵erent domains of application and with specific language extensions to address
particular needs. In addition to the flexibility in applying a common policy
language to a wide range of contexts, it includes advanced support for policy
reasoning, including conflict resolution and optimisation.

110

5.3. Main Services

rule " Update Vehicle Sound Level "
when // averages the sound level in the last minute
$avgSound : from accumulate (
Event ( type == SOUND ,
$source : source , $value : value ) ,
over window : time (60 s ) ,
average ( $value ) )
$vehicle : Cloudlet ( id == $source )
then // updates the value of the vehicle sound level
$vehicle . sounde = $avgSound ;
update ( $vehicle ) ;
end

Listing 5.2: JBD Rule, update vehicle sound level
JBD is developed in Java and the definition of rules follows a similar pattern to Ponder2’s obligations, facilitating its interoperability. Furthermore,
it is composed of a set of modules that allow for the extension of functionality, including a rule engine, event processing and temporal reasoning. The
support for complex event processing and temporal reasoning improves the
ability of the system to process and adapt to complex situations that arise
in a naturalistic environment, such as UPT among others.
The JBD was introduced to support the Information Processing Service
in Cloud2Bubble, that may be executed within an independent SMC or
integrated in an existing one. While the authorisations are implemented
and enforced by the Ponder2 platform, the adaptive behaviour of the system
was implemented on JBD. The events are therefore re-routed and processed
in JBD. In addition, the domain was made available to the rule engine to
support contextual reasoning. Listing 5.2 illustrates how sound level events
generated within a vehicle are processed and result in the context update.
Listing 5.3 illustrates the event-based strategy integrating Domain and Information Processing services. Domain related events, e.g. create or move
components, are processed directly by the Domain service. In contrast,
information update is routed to the Information Processing service, to be
further processed. Upon receiving this type of event, the Information Processing service adds new data to its facts base and, resulting in a state
change, propagates that new state.

111

5. Cloud2Bubble Implementation

// Bubble related events (similar behaviour for Cloudlet)
when Domain Event do
if Event is Create then
Create new Bubble;
Set Bubble Info;
Generate Move Event;
else if Event is Move then
Find Bubble;
Find Cloudlet with Bubble location;
Add Bubble to Cloudlet;
else
Generate Info Event;
end
end
when Info Event do
Add Info to Facts Base;
// adding new facts may trigger state changes and
instantiation-specific rules
if state changes then
Update Bubble;
Generate Domain Event;
end
end

Algorithm 5.3: Domain and Information Processing services integration

Action Generation
The context model, maintained by the system, is updated upon processing of relevant events. This triggers the action generation, with the goal
of addressing users needs and preferences in di↵erent circumstances. The
generated actions may act directly upon the environment, e.g. via actuators, or provide a service to the potentially a↵ected users. While acting
upon an environment is possible in di↵erent ways, performing such actions
without involving the user has a negative e↵ect on the relationship and interaction with such systems. As stated in Section 4.2.3, doing so results in
a reduced sense of responsibility and contradicts the defined non-functional
requirements.

112

5.3. Main Services
As an alternative, users may be included in the loop, providing them with
personalised and relevant information about the context change, or even
recommendations that result in a potential improved experience. While
ensuring the quality of an experience is not feasible, providing such services
assists users in improving it. Furthermore, action generation is specific to
the domain in which Cloud2Bubble is instantiated. Each domain has its
own specific requirements, and therefore the specification of the actions is
performed at a later stage. The facilities that enable Cloud2Bubble to reason
about the context state and decision making, however, are present in the
platform.
Cloud2Bubble monitors the environment state and user profiles to estimate QoE, the utility measure that the system aims at optimising. However,
due to the subjectivity and uncertainty in assessing QoE, action generation
and decision-making involve a degree of uncertainty. The possible actions
may be divided into two main groups: request- and event-based. Requestbased actions tend to be reactive in nature and answer to direct user requests for QoE-based information. Furthermore, this information may be
integrated with existing information services. For example, when searching
for service alternatives, the results may include the expected QoE in relation to the environment conditions in addition to other utilitarian measures.
Proactive actions, on the other hand, rely on the continuous monitoring of
the environment to identify and provide relevant information at key moments, as a notification or suggestion, that may lead to an enhanced QoE.

5.3.3. Reasoning
The previous sections focused mainly on collection and aggregation of information, as well as its direct implications on users’ privacy. The ability
to reason about an environment enables a system to adapt its behaviour
to achieve a specified goal. The usage of quantifiable measure enables the
system to evaluate its performance in relation to an outcome. As an example, the performance of a network in terms of speed or latency may be
measured using Quality of Service (QoS). A low QoS triggers the system
to reallocate resources, improving its performance and contributing for an
improved QoS.

113

5. Cloud2Bubble Implementation

when Domain Updated do
Find child Bubbles;
foreach Bubble do Generate QoE Event;
end
when Info Request do
Find parent Cloudlet;
Generate QoE Event;
end
when QoE Event do
Load FIS with Bubble;
Evaluate FIS;
Generate Estimate Event;
end
when Estimate Event do
Find Bubble;
Update Bubble;
// may trigger other, instantiation-dependent actions
end

Algorithm 5.4: Information Processing and Reasoning services integration
In Cloud2Bubble this measure is based on the a↵ective state as an emotional reaction to a service, defined as QoE. This measure is used to assess
the UX performance of an intelligent ubiquitous system. The usage of QoE
as an utility function enables systems to actively take action to improve
experience in ubiquitous environments based on subjective factors. These
actions may be defined as computing policies that adapt the system behaviour accordingly, by either providing for a positive experience or assisting with a negative one. The capability to provide enhanced experiences
by acting on an individual-level presents a number of direct benefits for
users, such as increased satisfaction and wellbeing. The rationale for using fuzzy logic is the capability of approximate reasoning, that facilitates
the processing of incomplete or imprecise data. A fuzzy engine provides
Cloud2Bubble with the fuzzy logic methods for estimating QoE based on
a set of inputs. Cloud2Bubble integrates these methods with the context
model and user profile to achieve a personalised estimative, based on both
environment characteristics and personal preferences.

114

5.3. Main Services
Fuzzy Logic
In addition to policies for system behaviour, the subjectivity and uncertainty
in assessing QoE requires a flexible decision making component. As a result
fuzzy logic was introduced, where a set of rules determines, for each user,
how well an environment performs in relation to their profile. This module
was implemented using the jFuzzyLogic package [32].
Fuzzy logic – a form of many-valued logic – allows for approximate reasoning rather than fixed and exact, having emerged from the development of
the theory of fuzzy sets [214]. Fuzzy logic variables, unlike traditional binary
sets, may assume a degree of truthness, or partial truth, ranging between
completely false (zero) and completely true (one). Although the philosophical question of whether everything is ultimately describable in binary terms
remains, in practical applications much data is in some state in between,
with applications ranging from control theory to artificial intelligence.
(true) 1

quiet

loud

(false) 0
30

80

sound level (dB)

Figure 5.8.: Fuzzy sets, sound level
The level of truthness of a variable is defined by fuzzy sets, defining its
degree of membership (in contrast to the traditional boolean notion of membership). For example, consider sound level as a variable and the intuitive
characterisation as quiet and loud. Any value in the range between the reference levels of quietness (30dB) and discomfort (80dB) may be defined as
both quiet and loud, with di↵erent degrees of truthness. Figure 5.8 illustrates how these membership functions may be defined for the two terms.
These fuzzy sets support the process of transforming a numeric input into
meaningful concepts, by defining the degree of membership for each of its
sets, characterised by linguistic terms.
Fuzzy rules are conditional statements in the form:
IF x is A THEN y is B

(5.1)

115

5. Cloud2Bubble Implementation
Knowledge Base
Fuzzy Sets

Fuzzy Rules

Inference System
Fuzziﬁcation

Input

Inference

Defuzziﬁcation

Information Processing

Output

Figure 5.9.: Fuzzy Logic Controller (FLC), adapted from [33]

In Rule 5.1 x and y are linguistic variables e.g. sound level, while A
and B are linguistic values determined by the defined fuzzy sets, e.g. quiet
and loud. These rules are at the core of fuzzy rule based systems, such
as the Fuzzy Logic Controller (FLC). FLCs, in Figure 5.9, are composed
of a Knowledge Base (KB), typically specified by human operators in the
form of linguistic rules, and an Inference System (IS) [104]. The KB is
divided into rules and sets, as defined previously. The IS is divided into
three main components: a Fuzzification interface, that transforms the crisp
values of the input variables into fuzzy values; an Inference module, that
combines these generated values with the information in the KB to perform
the reasoning process; and a Defuzzifiction interface, which takes the result
from the Inference module and converts it into the resulting crisp value.
The abstraction provided by the Fuzzification enables the reasoning upon
imperfect sets of data. Continuing with the previous sound level example,
QoE derived from sound level may be defined as follows:
IF Sound is Loud THEN QoE is Low

(5.2)

Having inferred QoE from the input value of sound level from Rule 5.2,
the Defuzzification takes care of converting it to a final numeric value, using
fuzzy sets for QoE and its linguistic terms, e.g. low, high. This final value
may then be used, by our platform, to compare di↵erent alternatives and
assess which one may enhance QoE.

116

5.3. Main Services

FUNCTION_BLOCK sound_to_qoe
VAR_INPUT // input variable ( s )
sound : REAL ;
END_VAR
VAR_OUTPUT // output variable
qoe : REAL ;
END_VAR
FUZZIFY sound // sound fuzzification sets
TERM quiet := (0 , 1) (90 , 0) ;
TERM loud := (60 , 0) (80 , 1) (100 , 1) ;
END_FUZZIFY
DEFUZZIFY qoe // qoe defuzzification sets
TERM low := (0 , 1) (5 , 1) ;
TERM high := (5 , 0) (10 , 1) ;
// defuzzification settings
METHOD : COG ; DEFAULT := 5;
END_DEFUZZIFY
RULEBLOCK inference
// inference settings
AND : MIN ; ACT : MIN ; ACCU : MAX ;
RULE 1 : IF sound IS loud THEN qoe IS low ;
RULE 2 : IF sound IS quiet THEN qoe IS high ;
END_RULEBLOCK
END_FUNCTION_BLOCK

Listing 5.5: Sound to QoE FCL implementation
jFuzzyLogic is an open source Java implementation of the standard specification of a Fuzzy Control Language (FCL) [32], combined with a complete
library for easy integration and extension of new features. The package
specifies all the elements present in a FLC under a function block (see
Figure 5.9) [33]. Each function block specifies input and output variables,
including fuzzification and defuzzification strategies for each of the variables
and finally the rules for inference. In addition to this, the processing strategies are also defined, such as the defuzzifier method e.g. center of gravity,
activation and accumulation methods. Refer to jFuzzyLogic documentation

117

5. Cloud2Bubble Implementation
for a comprehensive list of methods and their implications.
Listing 5.5 provides an implementation of an inference module for the
example used previously, with sound level as input and QoE as output. This
example demonstrates how the di↵erent components are specified, including
the definition of fuzzy sets. The fuzzy sets are modelled using piece-wise
linear membership functions, under the format (xi , yi ). The variables and
their linguistic terms are then used in the inference rules. The linguistic
terms are intended to be descriptive rather than precise definitions.
Events

Type
Create

Origin
Bubble

Create

Cloudlet

Move

Bubble

Move

Cloudlet

Update

Bubble

Update

Cloudlet

Table 5.2.: Events description
Attribute
Description
Identifier
Creates a new Bubble in the
platform with the specified
Identifier
Identifier
Creates a new Cloudlet in
the platform with the specified Identifier
Location
Moves the originating Bubble
to a new Location in the domain structure
Location
Moves
the
originating
Cloudlet to a new Location in the domain structure
Domain specific, e.g. Updates the user profile asa↵ective state
sociated with the originating
Bubble, instantiation specific
Domain specific e.g. Updates the context model asphysical property
sociated with the originating
Cloudlet, instantiation specific

The rule engine subscribes to both Bubble and Cloudlet-generated events,
each of which is associated with the respective entity, and identifies distinct
state changes: the former related to the personal profile of a user and the
latter related to the state of the environment. The update of the domain
model, however, does not derive directly from the attributes of an event, but
is rather subject to complex processing and reasoning. The vehicle sound

118

5.3. Main Services
level example in Listing 5.2 demonstrates how the combination of several
events may be used to update a property in the context model over time.
Events include four main properties: type, origin, attribute and value.
While origin identifies the Bubble or Cloudlet generating the event, type
specifies one of a set of actions to handle, described in Table 5.2. The pair
attribute and value constitutes the payload of the event, with the specific
data which is handled in accordance to the type of event. For example,
an event originated from a Cloudlet of the type update will be handled by
the Information Processing service for updating the context model. The
attribute is openly defined, with a set of attributes that allow the platform
to perform its basic operations, such as domain management, and can be
extended with instantiation-specific attributes. The events are referred to
as Domain, Information or Reasoning events, in accordance to the service
handling them, with the same name. The distinction is mostly due to the
technical requirement of converting them between software packages.
The implementation approach includes all types of attributes and is dynamically extensible. For example, if a previously unknown attribute is
received for a Cloudlet, e.g. a new sensor device, the value is stored even if
no immediate action is taking place. The definition of new rules will later
define the behaviour, based on the new parameter. As a result, the e↵ort
to introduce new devices and functionality in the system is very low, providing a solid foundation for autonomous behaviour updates. Listing 5.6
implements the default behaviour of the system for unspecified events.

rule " Fallback for non - specified behaviour "
when
$event : BubbleEvent ( bubbleId : id )
from entry - point " EventListener " ;
$bubble : Bubble ( id == bubbleId )
then
modify ( $bubble ) {
setAttribute ( $event . getAttribute () , $event . getValue () ) ;
}
end

Listing 5.6: JBD Rule, state update default behaviour

119

5. Cloud2Bubble Implementation
Context model
The context modelling is encapsulated within each Cloudlet entity. The
attributes are maintained as attribute-value pairs that are continuously updated upon processing of new events originated from devices contained in
that space.The access to the context model is maintained open, subject only
to the high-level authorisations defined for the platform.
The context model is composed of a list of attributes – extendable for
specific instantiations – and their respective values, as shown in Figure 5.3.
These attributes tend to be numeric-based describing the physical environment, e.g. temperature in a room or number of people in a vehicle. These
are then used as input for inference, as described in Section 5.3.3. The
combination of an objective environment description with the subjective
user-specific profile, allows Cloud2Bubble to generate a personalised estimation of an physical environment. This physical environment is also the
basis for domain structuring, being one of the intrinsic attributes of the
context model. Examples of other properties include room temperature,
sound level, lighting and vibration. These values being constantly updated
as new events arrive, subject to Information Processing service rules. As a
result, the temperature may be the result of a combination of a number of
temperature sensors, for instance, by averaging the di↵erent measures.
The distribution of context in a hierarchical structure facilitates the processing of localised events and actions. In addition, a global context model
is available, based on the aggregation of related entities, e.g. calculating the
temperature in a house based on several room temperatures. This implements the models required by the Cloud2Bubble specification.
User Profile
Similarly to the context model, user profiles are encapsulated within the respective Bubble entity. The attributes, also stored as attribute-value pairs,
maintain personal information of an individual user. The information maintained, however, is divided into three main categories: internal state, stated
preferences and personal information. In addition to the event-based update, where a profile may be updated based on data collected from sensor
or other device, manual specification is also possible. Each of these categories refer to di↵erent aspects of a user profile and access may be defined

120

5.3. Main Services
individually by the user.
Stated preferences include explicit settings, including platform behaviour
and service delivery details, from receiving notifications to level of personalisation. For instance, manually setting the type and configuration of preferred environment characteristics. In addition to this, user profiles include
demographic information, including age, education and occupation. These
details constitute the user on a broad level, using demographic information,
but also set the parameters that allow Cloud2Bubble to estimate QoE for an
individual. These details are set as attribute-value pairs on the profile, that
are easily accessed by the Reasoner service for building a user-specific inference system, described in the next Sub Section. Similarly to the context
model, these attributes are defined for a specific instantiation. However, in
addition to the location as a facilitator for domain structuring, the internal
state is part of the platform. Thus, both dimensions of the circumplex of
emotion – arousal and valence – are user-specific attributes. These dimensions are used as an important element in the QoE estimation, as it provides
the implicit loop of interaction.
The modular definition of personal data relates to the notion of privacy as
a non monolithic construct but rather a fluid notion with a di↵erent range of
trust levels [96]. In the context of privacy, two novel examples emerge (see
Figure 5.10): a proposed Android permission model [112]; and the Facebook personal data model [24]. The Android platform implements a set of
permissions that users review and agree before installing a mobile application. The mobile device acts, in this instance, as a physical representation
of a personal profile: holds personal information, is location aware and enables the collection other information such as social habits and patterns of
usage. The permissions include access to some of the hardware features,
such as internet access or location sensors; and personal data, such as the
contact list. This model, however, is focused on permissions and research
has demonstrated that a privacy-oriented model performs better and makes
users more aware of the impact of the application [112].
The Facebook platform, on the other hand, implements a model of privacy
where users may define what parts of their profiles are accessible. In this
case, all personal information is already on the Facebook platform, that acts
as a mediator between users and other application. In addition, Facebook
apps must be granted permission to certain areas of a user profile, and denied

121

5. Cloud2Bubble Implementation
access to others. E↵orts are being made to allow users to comprehensively
understand their privacy options and its implications, in particular in a
increasingly connected world.

(a) Privacy Facts [112]

(b) Privacy Settings and Tools [24]

Figure 5.10.: Privacy management on Android and Facebook
The access to personal information is modelled as authorisation policies
on Ponder2 [177], where an entity may not be granted access to parts of
the profile. These granular authorisations have precedence over the ones
defined globally. An example of an authorisation to access a profile is shown
in Listing 5.7.
// define authorisation parameters
auth = ( newauthpol
subject : root / c2b / cloudlet
action : " accessProfile "
target : root / c2b / bubble
focus : " t " ) . // t : target ; s : subject
// set access conditions
auth reqcondition : [ : profileAccess | profileAccess == TRUE ].

Listing 5.7: Ponder2 authorisation, profile access

Estimating QoE
The implementation of an FLC component in Cloud2Bubble as the Reasoner
service enables the platform to estimate QoE based on a number of inputs
that relate to both environment and user. The implementation of this service was extended to support user-dependent sets, which enable the system

122

5.3. Main Services
to target and estimate QoE for individual users, rather than generalising
the same result for all users.
The service is used for evaluating QoE on request, for example, to estimate
the expected QoE in a given environment and a specific user. While the
fuzzy rules define the overall behaviour and are shared between all users,
fuzzy sets are individualised and define the levels for individual users. The
same environment conditions may then result in di↵erent estimations of
QoE.
Fuzzy rules are defined globally, by a human operator, who specifies both
input variables, linguistic terms and other specificities, such as methods
for combining and calculating sets, as demonstrated in Listing 5.5. This
however may be extended to include learning capabilities, that would lead
to increasingly accurate results.
Fuzzy sets, on the other hand, are part of the user profile and defined
individually. To this end, our implementation extends the language specification, to include modifiers that are populated prior to the inference execution. Listing 5.8 illustrates the placeholders for two linguistic terms of a
generic input variable: SET VAR A and SET VAR B.
VAR_INPUT // input variable
var : REAL ;
END_VAR
FUZZIFY var // variable fuzzification sets
TERM a := { SET_VAR_A }; // placeholders , to be replaced by
TERM b := { SET_VAR_B }; // user - specific fuzzy sets
END_FUZZIFY

Listing 5.8: Generic fuzzification variable block
The reasoning service, prior to performing the inference evaluation, populates the file with generated piecewise linear functions, generated from
user profiles. As a result, each evaluation is based on individual preferences
and need, providing personalised estimations. The absence of certain characteristics from a user profile, however, does not prevent the execution of
the evaluation, being these functions replaced by global values rather than
user-specific.

123

5. Cloud2Bubble Implementation

Load FCL file;
// replace all placeholders
foreach input variable do
foreach linguistic term do
Search placeholder in FCL file;
if placeholder exists then
Create personalised Function;
else
Select default Function;
end
Replace placeholder in FCL file;
end
end
Load FIS;
// set all inputs from Cloudlet
foreach input variables do Set FIS variable;
// generate user-specific QoE estimation
Evaluate FIS;

Algorithm 5.9: User-specific fuzzy sets algorithm

The approach in Algorithm 5.9 enables the platform to be set to specific
domains using intuitive rules, while the user-specific sets provide di↵erentiation between them. In addition, this approach allows the system to
progressively adapt to user specific needs, either explicitly defined by users
or through learning supported by the continuous a↵ective loop.

Rather than acting upon the environment, the primary focus is to inform
the user and assist with alternatives to the current experience or inform of
negative incidents. Providing information about the benefits of an action
involves the user in the process, resulting in an adjustment of expectations.
In addition, this information results in a greater user awareness of the overall
system, as well as the impact of their actions. Thus, while the behaviour
change may not necessarily result in a direct enhanced experience in the
short term, it may contribute for it in the long-term, opening a number of
other opportunities to explore. The implementation of the services described
in this Section enable sthe adaptive behaviour of the system.

124

5.4. System Behaviour

5.4. System Behaviour
This section describes the high-level behaviour of the system. The main
features focused in this section are the domain update, including context
model and user profile as well as the system response to direct user requests
and environment events. An illustrative scenario will be used, based on
UPT, to assist with the examples. In this context a Bubble embodies a
single passenger and a Cloudlet represents a vehicle.
The event-driven architecture relies on the di↵erent components of the
system to generate relevant events that reflect the state of the environment.
The update of the domain allows the system to respond accordingly with
the goal of optimising QoE. The events generated by the components, e.g.
sensors and other devices, are low-level events that describe local details of
the environment, rather than global aspects.
The low-level events are propagated to the Information Processing service, where complex processing and temporal reasoning take place. At this
stage, events from multiple sources are combined to reach a more accurate
representation of the environment, for example, determining the temperature in a vehicle based on multiple sensors. This processing allows the
system to derive high-level events and trigger actions accordingly. The system behaviour is divided into request-based - responding to an explicit user
request - and event-based - triggered by a change of state in the system
and generating appropriate actions. Examples of this are shown in the Sub
Sections 5.4.1 and 5.4.2.

5.4.1. Request-based behaviour
The request-based behaviour of Cloud2Bubble is, at least from a user perspective, very similar to other ATIS: the user performs a request with a set of
parameters and receives a response accordingly. An example, in UPT is the
request by a passenger for travelling options for a specific route or between
two locations. Typically, an ATIS system provides the passenger with a list
of alternatives, including price, duration and even real-time information.
Each of this alternatives, however, provides di↵erent experiences, not only
due to service characteristics, but mainly due to their unique environment.
The availability of a context model that specifies the environment in each of
these travelling alternatives, and the unique user profile describing personal

125

5. Cloud2Bubble Implementation
preferences and needs, allows Cloud2Bubble to estimate individual QoE. As
a result, in addition to cost and duration, the user may be provided with
an expected QoE for each alternative.
Bubble
user requests
service

Domain Manager
plan-request

Info Processing

info-request

Cloudlet

Reasoner

request-journey

request-proﬁle
user-proﬁle

TIS (external)

journey-plan

foreach Cloudlet
request-context
context-state
estimate-qoe
expected qoe

personalised-plan

personalised-info

Figure 5.11.: Service request, sequence diagram
The process is illustrated in the sequence diagram in Figure 5.11, where
the user request is propagated through the di↵erent components of the system, from the Domain Management and Information Processing Services,
triggering the necessary policies. The role of the Information Processing
Service, in this example, focuses on integrating an existing ATIS service,
external to the platform, and the estimation of QoE for the user based on
personal profile and context model. The combination of the ATIS, context
model and personal profile information enables the system to estimate an
expected QoE for each of the journey alternatives. The personalised journey plan is finally sent to the user, who is responsible for making the final
decision.

5.4.2. Event-based behaviour
Event-based behaviour, as opposed to request-based behaviour, assumes a
more proactive role. In this case, the system detects changes in the context and acts accordingly, without an explicit request from the user. The
continuous domain update allows the system to identify potential situations
where QoE is sub-optimal and act with the goal of improving it. In UPT
there are a number of opportunities to integrate in the travelling activity.
For example, passengers who commute everyday to work may be notified,
even before boarding their usual service, that an alternative exists with the

126

5.4. System Behaviour
potential to provide a higher QoE.
The delivery of such a personalised service, that may impact the decision
of the user to use an alternative service in exchange for an enhanced experience, depends on the activity itself and how well it integrates in the decision
process. The notification or suggestion of alternatives is opportune before
the user boards the vehicle, but may lose its purpose during the actual
journey. When within the vehicle, the type of service to provide assumes a
di↵erent profile. An example of a service of this type, in London, is operated
by double-decker bus drivers: the driver announces the availability of seats
on the upper deck when the lower deck becomes crowded.
In Figure 5.12 the sequence diagram illustrates the process of actively
delivering a service to users based on the environment conditions, that is
limited to a notification with the goal of adjusting passenger expectations.
The event triggers a reaction where the Information Processing Service,
when updating the context state, selects all the Bubble entities that may be
a↵ected by the change, and generates a set of possible actions: a notification about the change. These actions are finally validated by the Reasoner
Service, that estimates the expected QoE for each of the passenger based
on the update, selecting only the relevant ones.
Domain Manager
event

Info Processing

TIS (external)

Cloudlet

Reasoner

Bubble

update

context-event

request-alternatives
select-bubbles

journey-plan
request-context

bubbles

context
generate-actions

foreach Bubble
validate
action
[IF valid action] perform-action

Figure 5.12.: Environment update and user notification, sequence diagram

5.4.3. Calculating QoE
While the main goal of Cloud2Bubble is to provide for enhanced experiences,
the dependence on external factors and users internal states poses a number

127

5. Cloud2Bubble Implementation
of constraints. As a result, QoE provides an evaluation of the utility of
the system as a subjective measure of experience. QoE constitutes the
foundation for providing a personalised service, based on the environment
conditions and personal preferences, but also to evaluate the e↵ect of the
system on users. In addition to providing a service based on an expected
QoE, the continuous loop allows for an improvement of the user profile based
on the actual environment conditions and user reaction. This allows profiles
to be increasingly accurate in reflecting users’ preferences and needs, but
also enables the analysis of the long term impact on their overall wellbeing
and satisfaction with the environment in general and UPT in particular.
Miserable

Bad

Good

Excellent

(true) 1

(false) 0

QoE
Figure 5.13.: QoE de↵uzification dets

Using the fuzzy inference described in Section 5.3.3, the QoE is the result
of a defuzzification. QoE is divided, for the purposes of Cloud2Bubble, into
four levels: miserable, bad, good and excellent. The terms, however, are
not intended as accurate descriptions of QoE, but rather descriptive terms
that can be used intuitively in the definition of rules. The functions model
QoE between 0 and 10, from miserable to excellent, respectively. The sets
divide this range in four sections distributed evenly, as shown in Figure 5.13.
These sets intuitively define the extreme terms coinciding with the range
limits, both minimum and maximum, while placing moderate terms below
and above the average.
These defuzzification sets map the output of the inference, where rules
define the level of QoE according to the input. These are, as described
earlier, instantiation specific. However, user internal state is an important
part of this process and a set of four rules are defined for the platform, to
support the conversion between a↵ective state and QoE. These rules are
a first approach and may be further developed to improve the impact of
arousal and valence on estimated QoE. Thus, the following rules provide

128

5.5. Architecture: Deployment Approach
the first definition:
• IF Arousal IS Inactive AND Valence IS Happy
THEN QoE IS Good

• IF Arousal IS Active AND Valence IS Happy
THEN QoE IS Excellent

• IF Arousal IS Inactive AND Valence IS Unhappy
THEN QoE IS Niserable

• IF Arousal IS Active AND Valence IS Unhappy
THEN QoE IS Bad

5.5. Architecture: Deployment Approach
The prototype implementation of Cloud2Bubble is focused on two main
components: a cloud-based infrastructure and the interface with users based
on personal devices. These components were identified due to the focus on
the loop of interaction described in Section 4.3.1, and the ability to aggregate
di↵erent sources of data and deliver personalised services.
In a naturalistic environment, however, a number of restrictions are imposed. The implementation of the Cloud2Bubble platform is based on the
specification provided while it addresses some of these restrictions. Furthermore, the usage of a real-world environment raises a number of concerns and
requirements that are described in the next Sections.
The main components di↵er in the software modules implemented, in
Figure 5.14. While the information processing and reasoning modules are
fully functional on the cloud-based infrastructure, the personal device version is limited to the domain management, routing all the relevant events
to the services located in a di↵erent computational node. The flexibility
of module management allows the scaling of the platform according to the
requirements. The event bus provided by the SMC allows for a transparent
communication of events between the di↵erent nodes.

5.5.1. Cloud-based Infrastructure
The cloud-based infrastructure is deployed on a Java-based execution environment. Even though at this stage the main services are concentrated in

129

5. Cloud2Bubble Implementation

Cloud infrastructure
Cloud2Bubble
Domain
Management

Environment
State

Rule Engine
User Proﬁle
Reasoner

Personal device
C2B UI
C2B Domain
Management

Environment dev.
C2B Domain
Management

Figure 5.14.: Deployment diagram [43]

one main package, these may be distributed transparently according to the
needs and resource demand. Cloud2Bubble is a PaaS (see Section 2.3.2), according to the model introduced in Chapter 2, since it provides the necessary
tools and services for aggregating and processing data, without providing
specific support for an environment or application in particular.
In the current implementation of the system, all the main services and
data, including both context model and personal profile, are centralised in
a single cloud-server. This facilitates information processing and decision
making at an early stage of development for a proof of concept. The distribution of the resources by di↵erent computing nodes is intrinsically supported
by Ponder2. Maintaining user profile on personal devices, as a way of ensuring users’ complete control over personal information is possible, even
though it raises other concerns regarding data storage and integrity. Losing
of damaging the physical device would result in the loss of the user profile,
for example.

130

5.5. Architecture: Deployment Approach

5.5.2. Mobile device
A scaled down version of the platform for mobile devices was developed for
the Android platform. While the migration of Ponder2 to be executed in this
environment does not pose major challenges, it requires access to advanced
features of the platform. One of the major obstacles is the implementation
of the event bus due to the required access to advanced communications,
i.e. local network broadcast. The unusual access to advanced features of
the device, while not a technical constraint, may prevent users from using
the application.
The prototype developed was focused on the domain management, for
integration of the device in Cloud2Bubble, and the development of a graphical user interface, for direct interaction with the platform (see Figure 5.14).
Features include the registration of the device as a Bubble in the system,
trigger certain events and receive notifications. Ponder2 was executed as
a single service, that was permanently active in the background. This approach allowed us to quickly convert a single device into a component of
Cloud2Bubble, however a number of optimisations are desirable for a enduser application. Such optimisations include less resource intensive services
and deeper integration with native functionality.
P2Android
Ponder2 provides a prototype extension of the platform to be executed in
Android-based environments, called P2Android. The common execution
environment, based on the Java language, facilitates this integration. The
approach, however, links a number of Ponder2 resources directly to Android
Activities. In this context, the role of an Activity is to display graphical
interfaces and perform light computational tasks for a specific mobile application. As a result, P2Android does not provide a stable execution environment and is not able to support Ponder2 correctly. As an example, when
the user switches between mobile applications, the corresponding Activity
may be destroyed, resulting in the termination of P2Android, even though
the mobile application may still be available in the background.
In order to solve this issue, Ponder2 was ported based on an alternative
method, implementing a mobile application with a Service and an Activity.
The core component of the platform was ported to the service, that is able to

131

5. Cloud2Bubble Implementation
be executed in the background without interruption. The activity is then
linked to establish the connection with Ponder2 functionality as needed.
The resulting application was successfully executed and integrated in the
domain along with other nodes. The implementation of Ponder2, however,
supports only device-to-device communication in local networks, limiting
its application in other environments.
This approach consists of developing a mobile application that can be
installed on personal mobile devices. While this allows for the integration
of the mobile device as a node in the platform, these features should be
implemented as part of the platform, rather than implemented as a mobile
application. As an aside, it would be recommended that these features
should be integrated in widely used platforms, such as Android and others.

5.6. Instantiation Methodology
The methodological procedure for instantiating the platform in a specific
domain of application is constituted of the following six main steps:
• Domain Specification;
• Context Modelling;
• System Behaviour;
• User Interface;
• Implementation & Testing;
• Deployment;
The first two steps focus on the specification and modelling of the domain
in which the platform is to be applied and can alternate between them, as
knowledge about the domain deepens. The next three steps define how the
system will behave, what interface will be used to interact with the user and
its implementation details. These three steps may also alternate between
them, however they are only started after the first two are completed, when
the domain is well defined. Finally, the last step aims at deploying the
system in its natural execution environment, where its performance may be
evaluated.

132

5.6. Instantiation Methodology

Step 1: Domain Specification
In the first step, an investigation of the overall domain of application is
performed, with the goal of identifying the main user activities, and how
these may benefit from an intervention from Cloud2Bubble. In addition
to the identification of key moments in the activity and potential services,
this step aims at defining the hierarchical structure that will support the
experience, estimation of QoE and delivery of personalised services. In UPT,
one of the main target activities is commuting, where di↵erent moments
allow for intervention with a relevant service with potential to enhance their
experience.

Step 2: Context Modelling
The second step is related to the first one as it implements the data structures and their relationship that support the specification in the previous
step. In addition, this step identifies the channels of communication that
are available, from both the user and environment sides, including devices
and external services as well as the definition of the environment and user
characteristics to be maintained. In UPT, the main entities are vehicles,
represented by Cloudlet entities - holding environment characteristics such
as crowding and noise - and Bubble entities that encapsulate passenger information and preferences. In this context, existing ATIS provide extensive
support for journey planning, while personal devices allows Cloud2Bubble
to establish a personal communication with the passenger and their surrounding environment.
Some iteration between the two last steps may be necessary to refine the
specification and modelling, as new aspects of the domain come to light.
These establish the foundation for implementing specific behaviour.

Step 3: System Behaviour
This step defines the behaviour of the system in relation to the target activity and how to influence the experience. The definition of behaviour includes the factors that enable Cloud2Bubble to identify relevant moments,
i.e. where sub-optimal QoE is present, as well as the actions to take to provide for an enhanced experience. The definition of behaviour relies largely
on the context model and user profile, specified earlier, for estimating QoE

133

5. Cloud2Bubble Implementation
accordingly. In a commuting activity, an interesting moment to investigate
is the period of time preceeding the actual journey, where an action may
significantly impact user behaviour to explore other alternatives. In case a
sub-optimal situation is detected a potential influencing behaviour may be
based on providing other alternatives.

Step 4: User Interface
Having defined the behaviour, the next step focuses on defining the interface
with the user and how to actually deliver the service. This step involves a
more technical component, as it starts defining how the actions are reflected
and communicated to the user and how their state is sensed. The mobile
device is, in this context, a powerful resource that not only provides environment sensing capabilities, but a privileged channel of communication
with the user. Sensing users, or passengers in UPT, becomes more participatory and allow us to explore their relationship with the environment and
the travelling experience.

Step 5: Implementation & Testing
The final step aims at implementing the di↵erent components needed for
Cloud2Bubble to perform, including: hierarchical and data structures, domain modelling, events and rules specification and user interface. The integration between these components and the targeted activity must be well
defined and executed. An iterative process between these last three steps
will help refine the system for a correct and accurate instantiation.

Step 6: Deployment
The final step aims at deploying the platform in the specified domain, leading to its execution and evaluation. The evaluation involves an aspect of
technical feasibility and correctness, but also at exploring the impact of the
system on QoE and user experience, both in the short and long terms. This
step deals with the process of releasing the finalised instantiation, ensuring
the capabilities of the execution environment and other restrictions.

134

5.7. Summary

5.7. Summary
This Chapter introduced the implementation of the Cloud2Bubble platform,
including the di↵erent software packages that compose and implement the
specification in the previous Chapter. In addition, the deployment approach
is discussed in the context of ubiquitous environments. The system behaviour is demonstrated based on two main types of behaviour: requestbased and event-driven behaviour. Finally, the methodological procedure
for instantiation of the platform in a specific domain of application was presented. The next chapter is based on this methodology to instantiate the
Cloud2Bubble platform in the UPT domain.

135

6
Instantiation in Urban Public Transport

6.1. Introduction
In this Chapter, Cloud2Bubble is instantiated in the context of UPT based
on the methodology introduced in the previous Chapter, illustrated in Figure 6.1. In this domain, Cloud2Bubble aims at leveraging the existing infrastructures to collect and explore personal services and the potential to
enhance experience. The targeted experience is therefore defined as well as
the approach for measuring QoE.
1. Domain
Speciﬁcation

4. User Interface
3. System
Behaviour

2. Context
Modelling

6. Deployment
5. Implementation
& Testing

Figure 6.1.: Cloud2Bubble instantiation methodology

6.2. Domain Specification
The particular domain of UPT, introduced in Chapter 3, is the subject of
instantiation and will be explored in this section under the scope of the
Cloud2Bubble methodology.

137

6. Instantiation in Urban Public Transport

6.2.1. Urban Public Transport Context
The application of Cloud2Bubble on a specific domain requires an investigation of the context focused on user needs but also the requirements and
restrictions from service providers. The implementation of empathic UPT
services has a number of benefits, from increased passenger satisfaction to
resource efficiency, as explored in Chapter 3.
In UPT networks, the investment on state of the art monitoring and information technology enables the collection and modelling of the environment.
The PRONTO project [108], as an example, relies on a number of in-vehicle
deployed sensors for event detection. However, while advanced information
systems are widely available and provide live information to passengers,
event recognition technology is not always deployed or available for usage.
London (UK) and Porto (Portugal), the locations initially selected for
conducting our research, pose some restrictions at this level. While both
providers demonstrated interest and have plans to implement some of the
features required for an extensive instantiation of the platform, they were
not able to provide the necessary integration to conduct the proposed research. As a result, some aspects of the platform were adapted to accommodate the limitations and integrate the available infrastructures.

6.2.2. Travelling: An Experience
The definition of experience as a continuous stream of self talk encompasses
the di↵erent activities performed during the course of the day, as well as
interactions with the elements available in an environment [93]. Commuting
may be defined as an experience: an activity that can be named and has
a clear start and finish. Moreover, the act of travelling from the starting
point to a destination is not limited to the UPT route between two locations,
but includes the planning and travelling from the actual starting and end
points, e.g. commuting from home to work includes walking to the station,
see Figure 6.2.
Boarding
Vehicle
Origin

Journey

Alighting
Vehicle

Commute

Figure 6.2.: Commuting and journey timelines

138

Destination

6.3. Context Modelling
The travelling experience is therefore not limited to the in-vehicle journey, but includes the moments that precede and follow that activity. The
limited scope allows us to implicitly include passenger expectations, as well
as the reactions to the journey. Requesting passengers to actively participate in the evaluation of the journey, e.g. via their personal mobile devices,
results in a reflective process that allows them to become more aware of the
characteristics of the service, since commuters tend to not pay attention to
their surroundings due to being accustomed [2].

6.2.3. Commuting Satisfaction and QoE
Measuring QoE in UPT, or passenger satisfaction in Section 3.4, is based
on the a↵ective reaction that results from the expectations and perceptions
from using a product or service. Satisfaction is usually assessed via questionnaires performed during or after a journey experience - that may or may
not be included in the physical activity of travelling.
In order to explore the relationship between commuters and the travelling
environment, a questionnaire was developed based on the Customer Satisfaction Index (CSI). This method was chosen due to its potential direct
application in quantitative analysis and facilitated integration within the
Cloud2Bubble structure. The questionnaire was designed to collect travellers’ a↵ective states as well as perception in relation to the environment.
Due to the constraints imposed by a mobile-based device, both physical and
cognitive requirements, a reduced number of items were included for users
to evaluate. These, however, include some of the most important aspects of
public transport, identified in Section 3.4, to be evaluated on a continuous
scale between 1, low satisfaction, and 10, high satisfaction.

6.3. Context Modelling
6.3.1. Hierarchical Structure
The specification of the UPT domain identifies a number of entities with a
complex structure between them: passengers, vehicles and other supporting
structures like bus stops and train stations. In order to facilitate the focus on
the travelling experience and the investigation of the relationship between
users and the environment, some of the domain complexities were simplified.

139

6. Instantiation in Urban Public Transport
As a result the entities are based on the representation of the physical
structure, where a vehicle in UPT is defined as a Cloudlet entity, and the
users, including their profiles, are encapsulated in Bubble entities.
While the representation of the overall domain, including routes and bus
stops, provides a more detailed description of the environment, it significantly increases complexity without providing added benefits for the chosen
experience. These features are, however, providing by existing infrastructures, such as the supporting ATIS, that enable the coordination between
existing services, such as journey planning, with the ones proposed to enhance user experience.
The privacy policies, as defined for the Cloud2Bubble platform, are appropriate for this scenario. No passenger is allowed to access other passenger
details, and a vehicle is only able to access passengers that are currently on
board. Communication between vehicles is, however permitted. Therefore,
no further adaptation is needed. The result of this access configuration is
transmitted to the passenger under a mutual agreement that specifies how
their data is handled.

6.3.2. Context model and User profile
Based on the identified environment characteristics that impact passengers
experience, the context model will maintain data relative to:
• Location: sensor or route based;
• Sound level: amplitude sensed by the microphone;
• Atmosphere: ambience in vehicle, including cleanliness and other passengers;

• Comfort: level associated with crowding and other vehicle characteristics.

Similarly, the user profile stores a number of personal attributes:
• A↵ective state: reported by the user, or sensed;
• Demographics: personal profile including age, education and occupation;

140

6.4. System Behaviour
• Commuting satisfaction: subjective evaluation of journey conditions.
• Preferences: stated preferences in relation to journey characteristics
and application behaviour.

• Commuting history: past journeys, used to assess the long term e↵ect
on satisfaction;

Maintaining these data supports the investigation of the relationship between user a↵ective state and environment satisfaction, as well as its characteristics. As a result a number of attributes were implemented, together
with the respective rules, detailed in Appendix B.

6.4. System Behaviour
While the main goal of the system is to monitor and influence QoE in UPT,
the restrictions imposed to the instantiation of the platform led to a division
into two stages: the first one aims at collecting data, to investigate of the
relationship between passengers and the surrounding environment; and a
second stage aiming at identifying the impact of such services on passengers
through semi-structured interviews.

6.4.1. Monitoring QoE
In order to support the monitoring of QoE, as well as establishing the relationship with the service characteristics, a number of policies were implemented to process environment data, resulting in the context model and
user profile. The event processing is logically divided in relation to the
element of origin: Cloudlet- and Bubble-based events.
The Bubble events, in addition to generating profile information in relation to the user, are also the foundation to maintaining the hierarchical
structure. For example, when a passenger boards the vehicle, the corresponding Bubble entity is transferred to the Cloudlet representation of the
vehicle. This structure assists the platform in identifying and locating users
that are a↵ected by certain environment characteristics. In addition, this
structure allows personal smartphones to be used and environment sensing
devices. For example, the noise in a vehicle may be sensed via a personal

141

6. Instantiation in Urban Public Transport
device. The aggregation of di↵erent data sources results in a robust context
model, that may later be used to estimate QoE.
The authorisation policies, as described earlier, were not modified. However, individual users may define their own, more or less restrictive ones,
if they so desire. For instance, users may define what sensors are active in
the mobile device, and if the application is authorised to issue personalised
notifications.

6.4.2. Influencing QoE
This stage is based on the findings obtained on the previous stage, as it relies on the identification of patterns of satisfaction and dissatisfaction with
the UPT service. Ideally, both stages could be performed simultaneously,
where the first would inform the second progressively. A basic personal
profile could be set, to provide the platform with a starting point and improve from there. The identification of this basic profile is, however, part
of this research. The added difficulty is the inability to process the data in
real-time, as it was not possible to establish a partnership with the UPT
providers.
Influencing the UPT experience, however, has a great potential to enhance
QoE. Two examples, based on the estimation of QoE, are possible. The first
responds to user requests and integrates the estimated QoE, such as list of
journey alternatives, providing QoE in addition to duration and cost. The
second example could go a step further and notify the user of the expected
QoE proactively, integrated in their daily commute. In both cases, delivering
a service of this type has the potential to adjust the expectation towards
commuting that may lead the user to find a more suitable alternative or
simply be prepared to face a sup-optimal experience.

6.5. User Interface
The interface with the user is built around three key moments of interaction: the first requires users to manually start the sensing process; the
second stops sensing as soon as the journey is finished; and the third consists
of a evaluation questionnaire to be filled shortly afterwards. The sensing
samples the available sensors from the user device, allowing the system to

142

6.5. User Interface
build an approximate model of the environment in-vehicle. Simultaneously,
this process was simplified as much as possible to minimise its impact and
maintain ecological validity, while involving and raising users’ awareness.

6.5.1. Personal Mobile Device
The mobile device may be used to collect data, both from the environment
and the user, as well as delivering information. In addition, it acts as a hub
for devices to connect and send data (see Figure 6.3). For instance, wearable
devices in Section 2.3.2 connect to the device, that will subsequently transfer
data to the Cloud2Bubble platform.

External
Services

Cloud2Bubble
Personal &
Environmental Data

Participatory
Sensing

User Wearable

Devices

Environment
Data

Mobile Device
(hub)

Opportunistic
Sensing

Environment
Sensors
Cloudlet area

Figure 6.3.: Mobile device as a central hub [207]
A mobile application allows the platform to leverage the personal device,
as it is often present in most daily activities throughout the day. Ideally, the
implementation of such mobile application would benefit from the integration of di↵erent data sources, however some of them are not always available
or have limitations in a naturalistic environment. For instance, the usage
of location-based services to infer UPT usage requires local resources to be
active leading to battery consumption and may even raise privacy-related
concerns, while the communication network may not be available in the
underground.
The prototype developed at this stage relies on a hybrid sensing approach,
combining opportunistic and participatory methods to collect environment

143

6. Instantiation in Urban Public Transport
and user data. Users are asked to actively input data at key moments of
interaction in their daily travelling habits as a way of exploring their relationship with the environment and investigate the potential in the delivery
of personalised services.
In addition, an explicit description was provided via the mobile application and a more detailed version available on the user manual in Appendix E.
The description stated clearly what type of data was being collected, the intrinsic anonymity, data handling and usage. The disclosure of such details in
the beginning, supported by the protection of personal privacy, established
a mutually agreement between the parts, contributing for the unconcerned
usage of the application.

6.5.2. Hybrid sensing
The application developed relies on hybrid sensing to collect user and environment data. While participatory sensing relies solely on users for input,
opportunistic sensing focuses uniquely on the available sensors to collect
data. A hybrid approach tends to combine the advantages of both sides
resulting in higher quality sensed data with minimal user input [118].
Android-based smartphones are provided with a number of sensors, including location and motion-based ones. This sensors have been used in
di↵erent contexts, from activity or a↵ect recognition [117] to bus route validation [160]. In addition, using the device as a central hub allows the
collection of other data sources, such as wearable devices and others sensors deployed in the environment, providing a scalable solution for enriching
data collection.
The Android platform alone provides support for motion (accelerometer
and gyroscope), environmental (thermometer, barometer and photometer)
and position (location and compass). However, due to the heterogeneity of
devices, the sensors available and their accuracy di↵er substantially from
device to device. Nevertheless, all the available sensors are collected and
transmitted to Cloud2Bubble. Personal wearable devices like the Q Sensor a bracelet for collecting user a↵ective data - are paired with the smartphone
via a communication interface, e.g. Bluetooth, to aggregate additional data.
Collecting and transmitting data is a resource intensive process in terms of
storage and communication. In order to improve the efficiency of the appli-

144

6.5. User Interface
cation, some pre-processing was performed on the raw data. Acceleration,
in particular, is a case where fine-grained sampling is required to model
in-vehicle comfort, generating a large amount of raw data. In Table 6.1,
the list of supported sensors is presented with the pre-processing methods.
These sensors are sampled at approximately 5Hz, the same frequency used
by the Android platform for monitoring screen orientation changes.

6.5.3. Experience Sampling
The usage of the application by travellers, on a first stage, is focused on
exploring the relationship between users and the travelling environment as
well as the feasibility of the platform in delivering enhanced experiences
in intelligent ubiquitous environments. The Experience Sampling Method
(ESM), from the field of psychology, is a research method to collect data
from participants in-situ and with ecologically validity [37]. ESM facilitates
the collection of both quantitative and qualitative data from a number of
participants over time. Typically, users are asked to respond to short questionnaires about their thoughts and feelings while immersed in the activity,
reducing the cognitive bias associated with recall-based techniques, e.g. interviews and surveys.
Traditionally, users are prompted to fill a questionnaire during a day in
relation to the theme being studied. The ubiquity of personal devices has
enabled the usage of this technique at a mass scale. The Mappiness application, as an example, is publicly available for the iPhone and prompts users
at random times during the day to report their feelings and surroundings
based on the ESM [128]. This particular application has collected data from
over 55.000 people in the UK, and displays live a↵ective information on the
Mapiness website1 , including a map and hedonimeters [35].
A particularly interesting implementation of this method is focused on
studying mobile privacy [133]. In this case, the participants are prompted
to fill the questionnaire shortly after performing an action. Part of the
questionnaire is an area where the participants are asked to write a memory
phrase: a word or sentence about that specific moment in time. Based on
this input, the participants are able to recall the situation and discuss it
during the contextual interviews.
1

Mappiness mappiness.org.uk

145

6. Instantiation in Urban Public Transport
The ESM complimented with contextual interviews is a powerful method
to obtain ecologically valid data in-situ, supported by a memory phrase that
allows for memory priming and explore aspects of the experience in detail.
In the context of UPT, we are interested in obtaining data about a single
journey. The collected data - both quantitative and qualitative - facilitates
environment and user modelling, as well as exploring the potential of empathic services. The mobile application samples a number of sensors during
the journey, prompting the user to fill in the questionnaire in Table 6.2
shortly afterwards. Furthermore, the open feedback field constitutes the
memory phrase, that is used during contextual interviews to explore the
travelling conditions and potential services.

6.6. Implementation & Testing
In addition to the configuration of Cloud2Bubble behaviour, to reflect the
logical structure of the components as well as environment and user data,
a mobile application was developed to act as a sensing device and interface
with the user. The development of an application to be used in a naturalistic
environment, however, raised some challenges in integrating the device with
the platform, requiring the implementation of a set of additional modules.

6.6.1. Cloud-based infrastructure
The architecture described in Section 5.5 relies on the integration of the
di↵erent hardware components in a unified platform, at the expense of individual device aggregation. Such an integrated approach, however, requires
access to advanced features that could be used for malicious purposes in
the real world. For example, Ponder2 requires an Android permission used
for local network broadcast. This is however an uncommon request, that
would certainly raise concerns amongst the users. In addition, the current
implementation of Ponder2 on the mobile device is not optimised for efficient
energy consumption, that would significantly impact users’ device usage. In
order to prevent the concerns involved in releasing such software publicly, a
middle layer was implemented to mediate the communication between the
central node and the mobile devices. While the ability to connect a device
directly to Cloud2Bubble was maintained, an alternative module was imple-

146

6.6. Implementation & Testing
mented with the goal of addressing the concerns previously identified. The
module provides a set of web services, based on the representational state
transfer (REST) protocol. A REST-based web-service, or RESTful, is designed to transfer representations of resources, and relies on a client-server
architecture. The communication is typically initiated by the client with a
request, that is then processed by the server and an appropriate response
returned. The web-service provides communication with the core modules
of the platform via a standardised web service channel (see Figure 6.4). This
module is based on the Google App Engine (GAE), a PaaS platform that
provides automatic resource management for web applications. GAE was
chosen due to the implementation flexibility and integration with Android.
The implemented web services allow external clients to dispatch any collected data to Cloud2Bubble transparently, that is either stored for further
analysis or transformed into meaningful events, according to the specific
needs.
Cloud Server

GAE

Cloud2Bubble
Information
Processing

Middle Layer

Reasoner

Domain Management

Web Service
GCM
Push Service

Mobile Device
Android App
Android
Activity
Android
Service

Figure 6.4.: Cloud2Bubble, Web Services integration
Two main sets of data are generated on the mobile device side and transferred using web services: sensed data and user feedback. These data are
transformed into representations of the in-vehicle environment and user profile that are then processed by the platform. The delivery of services, on the
other hand, relies on a di↵erent method of communication, initiated by the
platform. The Google Cloud Messaging (GCM) service allows servers to
send push messages and data directly to the device, handling all aspects
of the communication automatically.

The usage of these two modules,

GAE and GCM, to support the communication between mobile devices
and Cloud2Bubble, facilitates significantly the usage of passengers’ personal
smartphones to conduct research.

147

6. Instantiation in Urban Public Transport

6.6.2. Mobile Application
The mobile application, developed for the Android platform, implements
the user interface and the integration with the Cloud2Bubble platform. The
user interface integrates features of the application with key moments of the
travelling experience, using the opportunity to perform environment sensing
and requesting user feedback. The state diagram in Figure 6.5 shows the
flow between user and mobile application, and how it is supported by the
Cloud2Bubble platform.
Passenger

Mobile App

Cloud2Bubble

Board Vehicle
Sensing

Process Data

Send Data

Store Data

Stop Sensing

Alight Vehicle
Request
Feedback
Reply to
Feedback
Send
Feedback

Store
Feedback

Figure 6.5.: Journey, state diagram
The Android architecture provides developers with two di↵erent components: Android Activities for implementing graphical interfaces; and Android Services for performing background computational work. This distinction allows applications to execute services in the background, releasing

148

6.6. Implementation & Testing
enough resources for the device to be used in other tasks.
Background Service
The background service supports the continuous device sensor sampling,
data pre-processing and transfer to the platform via the available web service. In addition, the system is able to store the data and transmit it at a
later stage, in case communication networks are not available, e.g. when in
a tunnel or underground. Table 6.1 lists the sensors sampled, as well as the
method for pre-processing.
Table 6.1.: Sensor collection details
Sensor
Pre-Processing
Microphone
sound amplitude [13]
Accelerometer
comfort level [126]
Location
no processing
Temperature
interval average
Pressure
interval average
Relative Humidity interval average
Luminosity
interval average
Proximity
no processing
Sensors are typically sampled at a rate of 5Hz - the same rate used for
monitoring screen orientation changes - resulting in a large amount of sensed
data. In order to optimise data storage and transmission, the mobile device
processes the raw data in intervals of 2 seconds. While sensors values such
as temperature and location may be simply averaged or sampled at a slower
rate, sound and acceleration require a di↵erent processing method.
The acceleration obtained from the accelerometer sensor was converted to
a comfort level, according to the ISO 2631 standard [126]. The calculation of
the comfort level is based on a logarithmic scale that uses vehicle vibration
and is divided into six levels, ranging from comfortable, with vibration levels
under 83dB, to uncomfortable, with vibration levels over 103dB. Then, the
comfort level is transmitted to the Cloud2Bubble platform and processed
accordingly. Similarly, the sound level is calculated using the sampled sound
amplitude through the device microphone.
The sensed data is stored progressively during the journey and transformed into a JSON document. JSON refers to the text-based data for-

149

6. Instantiation in Urban Public Transport
mat, derived from the JavaScript language. These documents, based on the
JSON schemas in Appendix Section B.6, are then sent via the RESTful web
service, and contain the following elements:
• Bubble identification;
• Sampled environment;
• Journey details:
– Vehicle type and Route;
– Start and Stop locations;
– Date, Time and Duration;
The feedback data, obtained from the passenger after the journey, is based
on a similar method, containing the Bubble identification, a↵ective state,
satisfaction evaluation and the open text entry. All transactions were logged
for facilitating data analysis. Algorithm 6.1 illustrates how the object types
received by the web service are then converted to di↵erent event types,
resulting in the required domain structure on Cloud2Bubble.
switch read JSON Document do
case User
// Create a new Bubble based on user object type
Generate Bubble Create event;
case Journey
// Cloudlet based on a single journey
Generate Cloudlet Create event;
case Feedback
// Update user profile with reported feedback
Generate Bubble Update event;
case Sensed
foreach Sensing do
// Update context model with sensed data
Generate Cloudlet Update event;
end
endsw

Algorithm 6.1: Web service to events conversion

150

6.6. Implementation & Testing
Interface Activity

Table 6.2.: Questionnaire Items
Term
Definition

Attribute
Personal
Valence
Arousal
Environment
Sound
Saturation
Smoothness
Ambience

Happy
Relaxed

Cognitive valence of a↵ective state
Physical arousal of a↵ective state

Noise
Crowding
Smooth
Ambience

Sound level in-vehicle
Experienced crowding in-vehicle
Driving quality of the service
Overall feeling including cleanliness, vehicle condition and other passengers

Service
Speed
Reliability
Feedback

Speed
Reliable
Feedback

Time spent travelling
Performance in relation to planned service
Open text entry for user feedback

The main interface, in Figure 6.6, allows passengers to input data about
the journey, as described in the previous Section, and actively participate
in the process. The main features include start and stop journey sensing,
editing preferences and their personal profile as well as provide journey
feedback.
The elements included in the questionnaire, in Table 6.2, cover the main
aspects of travelling, and range between low and high satisfaction. In addition, an open text entry is available, where users are encouraged to include
episodes that particularly impacted their experience - both positive and
negative ones. The open feedback enriches the collected data from users
and provides a memory phrase to be used later on during the contextual
interviews, to prime the participants’ memory.

6.6.3. Usability Testing
Before proceeding to the field with the mobile application, a session of
usability testing was conducted to assess the usability of the application
and the comprehensibility of the questions about the environment. For this
purpose a functional prototype was designed and implemented. This session
resulted in a number of changes, that were implemented in the final version.

151

6. Instantiation in Urban Public Transport
Journey
Origin

Boarding
Vehicle

Home screen with
main features
available and panels
(left), and
informative panel
including instructions
and progress (right).

Filling-in basic
journey information
after pressing Start
(left), and optional
view of sensor
sampling for
information purposes
(right).

Pressing Stop when
alighting a vehicle to
stop the sampling
process.

Alighting
Vehicle

Feedback
Request

Subjective feedback
request, to be ﬁlled
shortly after, quick
and easy to evaluate
the journeyy
experience.

Journey
Destination

152

Figure 6.6.: Angry Commuters mobile application flow

6.6. Implementation & Testing
The lab-based usability testing was conducted in April of 2012 at Imperial
College London and the selected participants were recruited via personal
invitation. They were asked to fill in pre- and post-test questionnaires
covering demographics and profile, e.g. public transport and smartphone
usage as well as thoughts and opinions about the application (Appendix C).
During the test, they were given a set of tasks to complete related with
the main use cases and encouraged to think aloud while doing so. The
descriptive statistics of the participants can be found in Table 6.3.
Table 6.3.: Descriptive statistics of usability testing participants
(N = 6) n
Current Occupation
Researcher
4
Professional
2
English Speaker
Native
2
Foreign
4
Gender
5 male / 1 female
Age
M = 26.8 (4.99)
The session was composed of three di↵erent scenarios covering a wide
range of features, including the main sensing and feedback form (Appendix D):
• Scenario 1: sensing a journey, including a wearable device and checking information about the current vehicle;

• Scenario 2: plan a journey assuming a personal profile, and correcting
the inferred comfort measure;

• Scenario 3: receiving a notification about an unexpected event with a
suggestion.

The tests were performed using a non-functional prototype, where all interactions were simulated, through with a pixel-perfect user interface. These
were designed to take the user through the range of features expected from
a mobile application of this type. However, only a sub-set of those features
was implemented on a first stage, for collecting data for analysis in our
study.

153

6. Instantiation in Urban Public Transport
Results
Overall, all users performed well and were able to complete the three tasks,
showing no major issues with either the interface or the concepts associated
with the overall experience. The users reported the interface to be intuitive,
able to convey information well and, conceptually seemed to integrate well
in a UPT environment. This integration, however, requires a pilot study in a
real environment, with the goal of assessing it in a naturalistic environment.
Furthermore, due to the limitations with the final application, a pilot study
allows us to assess the performance of the overall system prior to a full scale
field study.
The users identified a group of issues with the interface developed, that
were addressed during the implementation of the final version. The most
important changes were related to the layout used to indicate the progress of
journey sampling, as well as input of route information. Some of other the
suggestions include wording throughout the application, e.g. “Trip History”
vs. “Journey Reviews”, and facilitate data input, e.g. autocomplete and
memorisation, due to the restrictions associated with device limitations and
the chosen environment.
In addition to testing the graphical user interface and its relation to the
commuting experience, the terms used in the feedback form were also validated. In order to facilitate interaction and readability, a more colloquial
tone was used. Thus, the users were asked to define each of the terms in
their own words. Both native- and foreign-speakers were able to correctly
describe the di↵erent aspects of a↵ective state, environment and service
characteristics, validating the one-word terms used for self-report satisfaction.

6.7. Deployment
The last step of the instantiation of the platform consists of the deployment
of the application in a naturalistic environment. The main goal, at this
stage, is to assess the impact of the system in the domain of UPT - i.e.
how it a↵ected the overall environment - and its e↵ect on QoE - i.e. how
are users reacting to the usage of the platform. The mobile application was
made publicly available, including a clear description of its purpose and data

154

6.8. Summary
handling policies. The web-service and messaging services were deployed on
third party infrastructures, and the main Cloud2Bubble node was deployed
on a local machine.

6.8. Summary
This Chapter presented the instantiation of the Cloud2Bubble platform in
the specific domain of UPT. Having specified and modelled the domain,
including the target experience and the di↵erent entities, the instantiation
focused on defining the behaviour of the system aiming at exploring QoE
in-situ. Due to restrictions imposed by the environment intrinsic to the
distribution of the mobile application to the public, a set of changes and
auxiliary software packages were implemented. In addition, the direct QoE
influencing was left to a second stage of instantiation, to be executed with a
more extensive support from UPT providers. The user interface was tested
in a controlled environment with a set of users to ensure its live performance.
Finally, the solution was deployed and ready to be used. The next Chapter
presents the evaluation of the system.

155

7
System Evaluation

7.1. Introduction
The evaluation of Cloud2Bubble is divided into a general trial, with the goal
of comprehensively test the platform in a controlled environment; and field
studies in the domain of UPT, to explore di↵erent aspects of the system.
After the first trial, the system was evaluated over the course of two studies.
The first pilot study was conducted in the city of Porto (Portugal) and aimed
at obtaining early user and environment data and assess the feasibility of
the overall design. Following the pilot study, a field study was conducted in
London (UK) at a larger scale and for a prolonged period of time to explore
the relationship between user and the travelling experience. The results
obtained are analysed and discussed, resulting in relevant findings in the
context of UPT in particular. Finally, a set of design principles is identified,
contributing for the development of intelligent ubiquitous environments in
general.

7.2. Cloud2Bubble Evaluation
In Chapter 5, the implementation of the Cloud2Bubble platform was described. In order to evaluate it, an experiment was conducted in a lab
setting to ensure all the components and features perform as expected. In
addition, this experiment aims at exploring, in a controlled environment,
how QoE is a↵ected by the surrounding conditions and the ability of the
system to anticipate this change. Thus, in order to explore the e↵ect of

157

7. System Evaluation
di↵erent environment conditions on users’ emotional responses, the levels of
noise and luminosity were manipulated while the participants performed a
cognitive task. We thus hypothesise the main outcomes of this experiment
in relation to the e↵ect on overall QoE to be as follows:

• H1: Higher levels of noise have a detrimental impact on on QoE;
• H2: Lower levels of lighting have a detrimental impact on QoE.
Due to the nature of the test, described in the following Sub-Section,
we do not expect the performance to be related to either the environment
conditions or participants’ QoE (H3). In addition to this, the Cloud2Bubble
platform was configured to estimate an expected QoE based on environment
conditions and a↵ective state. We expect this basic configuration to predict
this change in QoE (H4).

7.2.1. Methods
Platform Configuration
The system was setup with a basic configuration, for estimating QoE based
on users’ self-reported a↵ective state and sensed environment conditions.
Thus, a number of fuzzy sets and rules were implemented, in Appendix A.
All data interactions and estimations were recorded, though no action was
taken since our objective was to investigate the ability of the application to
collect and process data. These data were later analysed and assessed.
The Cloud2Bubble platform was distributed between a computer, running
the cloud-based version of the platform, and a mobile device to sense the
environment. The environment conditions, e.g. noise and luminosity, were
then manipulated, while the mobile device measured these changes. The
environment was modelled as a single cloudlet for the room, containing the
environment conditions, and a bubble for the participant with its personal
reported data. User profiling was based on the assumption that all users
respond to similar environment conditions, thus no individualised profiles
were developed at this stage.

158

7.2. Cloud2Bubble Evaluation
Cognitive Test
The experiment carried out engaged participants in a test for assessing
their approximate number system, a cognitive system that supports the
estimation of the magnitude of a group without relying on language or
symbols [92]. The application chosen to perform this test, Panamath (freely
available on the authors website1 ) was configured to run for three minutes,
excluding reaction time, with the predefined configuration. Two groups of
circles, yellow and blue, were shown on screen for a short period of time, and
participants were then asked to estimate the larger group (see Figure 7.1).

(a) 9 yellow vs. 12 blue

(b) 12 yellow vs. 6 blue

Figure 7.1.: Panamath screenshots, used for assessing the cognitive approximate number system
The participants were also asked to self-report their QoE as well as a↵ective state before and after each test.

7.2.2. Participants
The participants were 24 graduate students and postdocs from Imperial
College London. The participants, known to the researcher conducting the
experiment, were invited to participate. However, during the execution
of the experiment, and due to limitations related to the location chosen,
external factors interfered in the tests, e.g. external noise.
As a result, 3 of the 24 participants were discarded. In total, 21 participants were retained, with ages between 21 and 38 years old (M = 28.9,
SD = 4.9), of which 33% are female.
1

Panamath: panamath.org

159

7. System Evaluation

7.2.3. Design and Procedure
Upon arriving, participants were invited to sit in a quiet in front of a computer. They were provided with an information sheet, describing the experiment and main terms, in Appendix A, and were asked to sign a consent
form prior to starting the session. In addition, a short trial of 1 minute was
provided, to help them familiarise with the objective and procedure of the
cognitive test.
The tests were repeated, in random order, for the di↵erent combinations
of environment conditions: quiet and light (QL), noisy and light (NL), quiet
and dark (QD), noisy and dark (ND). For each of them, the participants
self-reported their QoE and a↵ective state both before and after taking the
test.
The sessions lasted between 20 and 30 minutes, with 3 to 5 minutes
per test. This resulted in 168 valid observations, complete with test performance, noise level and luminosity, as well as pre- and post-test QoE, arousal
and valence.
Independent Variables
Two environment characteristics were manipulated, resulting in four di↵erent conditions:
• Quiet and Light (QL): The room was well lit and set with a low level

of noise. This is the control condition, as it exposes the participants
to reasonable conditions in a work environment: the measured level of
noise was around 35 dB and the lighting around 500 lux, generated by
a fluorescent lamp. The room is in fact used for meetings and student
tutorials;

• Noisy and Light (NL): In this condition the level of noise was raised
from 35 dB to around 65 dB, based on a cafe ambient sound2 ;

• Quiet and Dark (QD): In this condition the lights were turned o↵,

reducing the lighting to around 10 lux, providing a dark ambience to
the room;

2

Rainy Cafe: rainycafe.com

160

7.2. Cloud2Bubble Evaluation
• Noisy and Dark (ND): Finally, this condition is a combination of the
two previous ones, with a noisy background and dark ambience.

These manipulations, and the derived hypothesis, are based on the recommendations by Health and Safety Executive3 , a national independent
institution for work-related health, safety and illness.
Dependent Variables
The dependent variables used for investigating the e↵ect of environment
conditions on the participants are:
• QoE: A self-evaluation representing participant satisfaction in relation

to their overall experience in session, measured on a continuous scale
between 0 and 10;

• Test-performance: The test result provided by Panamath, based on

the Webber fraction, a ratio defining the accuracy in di↵erentiating
small and large sets.

In addition, the a↵ective state was also self-reported, based on Russell’s
dimensions: physical arousal and cognitive valence, both of which measured
on a continuous scale between 0 and 10. The a↵ective state was used for
estimating QoE, in combination with the values of noise and luminosity.

7.2.4. Results
The analysis of the collected data used for investigating the e↵ects of environment conditions on QoE and test performance as well as the system’s
ability to predict QoE.
Environment Conditions E↵ect
In order to explore the e↵ect of the environment conditions, in Table 7.1,
a two-way factorial analysis of variance (ANOVA) was conducted for each
of the tests in the four existing conditions (QL, NL, QD, ND), focusing on
the change in QoE before and after each test. The results show a significant di↵erence between them (F (2.18) = 4.37, p < 0.01), supporting the
3

HSE: hse.gov.uk

161

7. System Evaluation

Table 7.1.: Results from environment e↵ects on QoE
Condition
Mean SD
Pre
7.35 1.67
Quiet Light (QL)
Post
7.40 1.56
Pre
7.02 1.97
Noisy Light (NL)
Post
6.20 2.17
Pre
7.30 1.82
Quiet Dark (QD)
Post
7.31 1.58
Pre
7.00 1.76
Noisy Dark (ND)
Post
6.32 2.10
thesis that environment conditions have an impact on QoE, represented in
Figure 7.2a.
Planned Dunnett’s comparisons were performed, comparing the control
condition (QL) to the others (NL, QD, ND). The di↵erence between QL and
NL confirms the detrimental e↵ect of noise on QoE (z =

2.8, p < 0.05).

This e↵ect is also noticeable in Figure 7.2b, with a↵ective states before
the test closer to high valence and low arousal – typically associated with
relaxation and happiness – while after the test there seems to be a slight
shift towards low valence and high arousal.

10

1

9
8
7

Arousal

QoE Variability

0

−1

−2

6

●

5

● ●

4

●

3

●
● ●●
●
●
●
●

2

●
●

Post

1

−3

●

●

● Pre

●
●

0
ND

NL

QD

QL

Condition

(a) Variability of QoE per Condition

0

1

2

3

4

5

6

7

8

9

●
●●
10

Valence

(b) A↵ective States in NL condition

Figure 7.2.: Variability of QoE and A↵ective States
However, the di↵erence between QL and QD was non-significant, suggesting that luminosity did not a↵ect the participants. In fact, some of the users

162

7.2. Cloud2Bubble Evaluation
voiced their opinion in relation to the unsuitability of the installed fluorescent lamp, for being too strong in their opinion, or their personal preference
towards darker environments. Finally, the di↵erence between QL and NL
was marginally significant (z =

2.34, p = 0.05), confirming the detrimen-

tal e↵ect of noise but not luminosity. In conclusion, the results support H1:
higher levels of noise have a detrimental e↵ect impact on QoE, but do not
support H2: lower levels of lighting have a detrimental e↵ect on QoE.
Cognitive Test Performance
Participant performance was investigated in relation to condition and QoE.
Firstly an ANOVA was performed for test performance, similar to the previous one. The results confirmed that test performance was unrelated to
condition, with non significant results. In addition, a correlation was performed between test performance and QoE, which showed a week coefficient
with non significant results. The independence between test performance,
room condition and participant QoE supports H3: the execution of the test
is independent of its outcome.
QoE estimation
Our final analysis aims at investigating the ability of the system to predict changes in QoE. The system relies on the sensed values of noise and
luminosity, combined with reported a↵ective state, to generate an estimation of QoE. Figure 7.3 shows the corelation between the two environment
conditions and the resulting QoE: noise presents a moderate, significant correlation while luminosity is non significant, as expected from our previous
analysis.
The variability of self-reported and system-estimated QoE was thus analysed and labeled as positive, negative, according to the direction in which it
changed. These were then compared, counting valid estimations when the
values coincided, and invalid otherwise. This method relies on the assumption that recommendations may be produced based on comparison of QoE
rather than its absolute value. The system was able this change for 79.8%
of the observations, supporting H4: the basic configuration of the system is
able to predict change in QoE.
In order to assess the quality of our predictions the mean square error

163

7. System Evaluation

●

70

●●

●

●

600

●

●

●

●

●
●
●
●
● ●

●

65

●

Noise (dB)

60
●

● ●
●●
●

● ● ●
●

●●

●

● ●
● ●
●

●
●
●

500

● ●
●● ●
●

● ●
● ●●●
●

●●

●
●
●

Luminosity (lux)

75

●

55
●

50
●

45

400

300

200

40
●

100

35
30
2

3

4

5

6

7

8

2

3

QoE

(a) r =

0.69, p < 0.001

● ●
● ●●

●●

0

4

5

6

●●●
●

7

8

QoE

(b) r =

0.18, p = 0.09

Figure 7.3.: Noise (left) and Luminosity (right) correlation coefficients
(MSE) method was used. This method calculates a coefficient based on
the error between observed and estimated values. The resulting MSE coefficient is 5.68 out of 10 – the scale used for QoE. This value indicates
that, even though the system is able to predict direction, the quality of
prediction is not very accurate and it may be further improved. Firstly,
due to di↵erences between participants, individual profiles as supported by
Cloud2Bubble support more accurate predictions, e.g. the sensitivity towards environment conditions. Secondly, the assumption of a lower QoE
due to lighting conditions was not valid and resulted in a number of erroneous estimations.
Final Considerations
The results obtained support 3 of the 4 hypothesis initially formulated: H1
confirmed the impact that environment conditions may exert on users’ QoE,
namely noise; H3 validated the detachment between environment conditions, QoE and test performance; and H4 shows the ability of the system to
correctly estimate QoE change, though with low quality. However, H2 was
not supported by the analysis performed, which is likely due to a combination of inappropriate environment setting and personal preference. While
the former hints at an improvement to the current workplace conditions,
the latter shows that di↵erences between users’ is present and the flexible

164

7.3. UPT Studies
approach of Cloud2Bubble is able to accommodate individual user profiles.
In addition, the conduction of this experiment allowed us to comprehensively test the developed platform and its di↵erent components. Both server
and mobile based modules performed as expected in data collection, from
both user and environment, as well as QoE prediction with a reasonable
degree of correct values. This result allows us to confidently progress to the
next stage and exploit the platform in the field studies.

7.3. UPT Studies
Two evaluation studies were conducted in the cities of Porto (Portugal)
and London (UK) with the goal of exploring the user experience in a UPT
environment.These studies were conducted with the goal of investigating
the performance of the platform in a real-world environment, in addition to
exploring the impact of di↵erent environment conditions on individualised
QoE.

7.3.1. Methods
The conduction of the field studies is based on the platform instantiation
described in Chapter 6. The combination of the cloud-based component
of Cloud2Bubble and the developed mobile application, enable us to collect
self-reported and sensed data from a naturalistic environment. Two studies
were conducted: a pilot study in Porto (Portugal) and a field study in
London (UK). While both follow the same structure and procedure, the
pilot study aims at validating the experiment design and the performance
of the developed platform for the purposes of the evaluation. Following,
the field study implements some of the early findings and conducts the
experiment on a larger scale.

7.3.2. Study Design
The study design is divided into two main components: data collection
and contextual interviews. Data collection comprises both quantitative and
qualitative data. On the first stage, the participants used the application
to report their individual journeys for a period of time, including a↵ective
states, satisfaction with UPT and an open area for describing occurrences.

165

7. System Evaluation
In addition, the mobile application sensed the journey, and using the participatory sensing, collected a number of journey characteristics. The second
stage included semi-structured interviews with a selection of participants,
that focused on di↵erent aspects of the overall experience as well as specific journeys. This experiment is based on a between-subject design with
repeated observations, followed by a debrief session with some participants.
The format of the study includes quantitative and qualitative research.
The quantitative data, collected through the developed mobile application, includes opportunistic and participatory sensed data: the device sensors were used to collect environment data (e.g. noise and acceleration) and
the participants asked to provide further detail (e.g. route and mode). In
addition, the participants provided their satisfaction via a feedback form,
augmented by an open text area for further considerations.
The analysis is divided into the investigation of self-reported data and
its relationship with sensed data. Firstly, the levels of satisfaction and
a↵ective states are analysed to explore the relationship between the two,
and investigate how the environment conditions impact the participants’
a↵ective responses. Secondly, these will be analysed with the sensed data, in
order to investigate how the actual environment conditions have an impact
on di↵erent travellers.
The qualitative data is based on semi-structured interviews conducted
after the data collection period, that allows for a flexible exploration of
themes rather than a rigorous set of questions. The interview explored
the interaction with the application, the experience in public transport,
personal data collection and finally some individual journeys. The protocol
is available in Appendix B.1.
Independent Variables
The journey conditions constitute the independent variables:
• Sensed, using participatory sensing:
– Start and Stop stations: manually added;
– Mode of transport: manually added;
– Time and Duration: calculated between Start and Stop moments;
– Location: coordinates sensed using the location sensor;

166

7.3. UPT Studies
– Noise level: sound level sensed using the microphone;
– Luminosity: luminosity level sensed using the device’s lux sensor;
– Vibration: acceleration sensed using the device’s accelerometer;
– Temperature: temperature sensed using the device’s thermometer.
• Self-Reported on a continuous scale between 0 and 10, as defined previously:

– Ambience;
– Saturation;
– Noise;
– Vibration;
– Speed;
– Reliability.
Dependent Variables
The a↵ective state, divided into arousal and valence as defined in Section 2.2.1, composes the dependent variable in this study for the quantitative
analysis. Both dimensions are measured on a continuous scale between 0
and 10: arousal is presented as relaxation ranging between stressed and
relaxed; and valence presented as happiness ranging between unhappy and
happy.

7.3.3. Pilot Study: Porto (Portugal)
The first evaluation study was conducted in Porto (Portugal) over a period
of two weeks during June 2012. The main goal of this pilot study was
to evaluate the feasibility and performance of the system in a naturalistic
environment, as well as to gain a deeper understanding of the relationship
between travellers and their environment while in transit. The results were
then used for improving the experiment design that was conducted on a
larger scale.

167

7. System Evaluation
Setting
The urban area of Porto (Portugal) includes approximately 1.3 million people
in an area of 389km2 . Porto is served
by an extensive UPT network, composed of mainly bus and metro services
(see Figure 7.4), provided by STCP and
Metro do Porto entities respectively.
The unification of services converged in
Figure 7.4.: Metro do

Porto4

a single smart card - andante - allowing
users to travel using di↵erent services

and modes for completing their journeys. In addition, other UPT providers
operate other local services in the outskirts of the city, or between cities and
towns.
Porto is also one of the cities involved in the civitias initiative and has
been a case study for a number of innovations in urban mobility. The
move-me service [156], as an example, aggregates transportation data from
di↵erent sources to o↵er a unified information service to passengers as a
result of the e↵orts and innovations implemented.
Participants
The recruitment of subjects for the pilot study was based on a questionnaire composed of three main sections: travelling habits, smartphone usage
and improvements suggestions for public transportation. The questionnaire
was distributed via mailing lists and social networking platforms, resulting in a total of 172 respondents, with a wide range of characteristics and
backgrounds.
The suggestions provided by the respondents demonstrate an interest in
the improvement of some of the travelling characteristics. In addition to
cost and duration-related attributes, a considerable amount of suggestions
were based on other aspects of the service, such as dynamic and personal
information services as well as subject qualities of experience like comfort
and entertainment.
The most active respondents in the questionnaire, and who contributed
4

By diogoperez74 (photo taken by diogoperez74) CC-BY-SA-3.0, via Flickr

168

7.3. UPT Studies

32%

18%

16%
8%

Real-time info

Service

Comfort

Trip planning

5%
Price

9%

5%

Internet Entertainment

8%

N/A

Figure 7.5.: Improvement suggestions by category
the most for the suggestions in Figure 7.5 were pre-selected for our study.
In addition, the selection was focused on the following criteria: commuter
in the area of Porto and user of android-based mobile phones. As a result,
a total of 10 subjects, represented in Table 7.2, were invited to participate
in the pilot study and o↵ered a retail voucher for their contribution.
Table 7.2.: Descriptive statistics of pilot study subjects
Attribute
(N = 10) %
Completed Education
High-School
30%
Bachelor degree
30%
Masters degree
40%
Current Occupation
Student
80%
Professional
20%
Travelling Mode
Bus
60%
Metro
80%
Gender
60% male / 40% female
Age
M = 24.1 (4.43)

Procedure
The study was divided into two main stages: a period of data collection
and a debriefing session. After confirmation of their availability, they were
asked to install the mobile application on their personal mobile devices and
instructed to report all the journeys in public transport. In addition to the
application, a user manual was made available with detailed instructions on

169

7. System Evaluation
how to use the application and how to report a journey in Appendix E. The
process, described in detail in Section 6.5, integrates with three moments
of interaction: when the journey starts, when it finishes and shortly after
for some feedback. The study resulted in 110 valid journeys, providing
over 26 hours of in-trip data and subjective feedback about the travelling
environment.
This period of data collection was followed shortly after by a debrief
session, consisting of individual interviews. The interviews were aimed at
exploring the ecological validity of the application itself, as well as its e↵ects
on behaviour towards travelling and other potential services. In addition
some of the individual journeys were discussed during the interviews based
on the feedback provided and its e↵ects on the travelling experience.

Results
The outcomes of this pilot study may be divided into technical enhancements, data requirements and early contextual mood findings. A set of
technical enhancements were identified, some of them in the early stages
of the experiment. Even though the application was tested with di↵erent
versions of the Android platform, the existing fragmentation in software
versions and hardware models revealed faults in the application, that were
corrected during the experiment. For the same reason, the sensors available
vary considerable between devices and collecting data for an extended period
of time resulted in a high consumption of battery, as well as incompatibility
with other applications or usage. As a result, some of the users restrained
themselves from using the application, in particular when the battery was
at a low level. The collection of sensor data was thus revised and limited
to the most common ones: microphone and accelerometer. Location-based
sensors were also deactivated and the route details were provided by users.
The data collected, while insufficient at this stage to perform a robust
statistical analysis, provides some insights in preparation for the conduction
of the study at a larger scale.
Figure 7.6a shows individual satisfaction, that is aggregated in Figure 7.6b.
Overall, there seems to be an association between satisfied states with the
lower right quadrant (high valence, low arousal), as well as dissatisfied states
with the upper right quadrant (low valence, high arousal). This trend be-

170

7.3. UPT Studies

8
10
7

9
8

4
3

●

●
● ●● ● ●●
●
● ●●●●
●
● ●●● ● ● ●
●
●
●●● ●
● ●
●
●● ●
● ●
● ●●●●
●●
● ●
●
●
●
●●
●
●
●●●●
● ●●
● ●● ●
Not Satisfied
●
●
●

6
5
4
3

2

2
1

●
●

● ●

7

5

Arousal

Satisfaction

6

1

● Satisfied

0

0
A

B

C

D

E

F

G

Subject

(a) Individual Satisfaction

0

1

2

3

4

5

6

7

8

9

10

Valence

(b) A↵ective State and Satisfaction

Figure 7.6.: Aggregated A↵ective States and individual Satisfaction

tween two quadrants suggests that QoE may be described as an association
between them, as overall a↵ect.
Measures and descriptive results are shown in Table 7.3. Firstly, it suggests a correlation between the measured satisfaction environment characteristics (see Figure 7.6). Moreover, certain aspects of the travelling environment seem to impact a dimension of a↵ect more than the other, e.g.
reliability tends to impact arousal, while crowding has a stronger e↵ect on
valence. This separation indicates two main group of recommendations: for
UPT providers, guidelines for managing their e↵orts on providing a positive impact; and for travellers, tailored recommendations with the potential
to enhance their travelling experience. In addition to a set of satisfaction
factors that are common to most of the participants, individual preferences
are also perceivable. This suggests that personal recommendations would
be even more beneficial if based on individualised profiles, rather than a
single common one for a group of users.
Finally, the interviews with the users revealed that the application was
well integrated with the travelling experience and therefore is an ecologically
valid solution. The introduction of automated methods for activating and
deactivating journey sensing were suggested by, for example, detecting the
usage of the personal travel card. However, the manual operation resulted in
users being more aware of their commute and therefore make them reflect on

171

7. System Evaluation

Table 7.3.: Measures and descriptive results
Measure
M (SD)
Aggregated
Valence
5.92 (1.59)
A↵ect
Arousal
4.49 (1.74)
5.85 (1.51)
Noise
5.41 (1.88)
Saturation
5.00 (1.99)
Setting
Smoothness 5.14 (1.66) 4.93 (1.28)
Global
Ambience
4.98 (1.57)
5.22 (1.21)
Speed
5.62 (1.76)
Service
Reliability
5.69 (2.02) 5.80 (1.61)

their travelling, as expected. The explicit data handling agreement provided
at the beginning of the study resulted in an unconcerned adoption, even
with the collection of sensitive data such as location and microphone. Users
reported that they trusted the conduction of the experiment, in addition to
being performed by well-known academic entities.
The pilot study was an important step in the conduction of our studies
with users in a naturalistic environment. This allowed us to validate our solution and improve some aspects. From a technical perspective, some of the
challenges were addressed, namely the reduction of energy-demanding sensors usage and the improvement of data collection interaction, e.g. replacing
location-based sensors with user-based input. The early findings seem to
point towards a relationship between a↵ective state and satisfaction, pertinent to our analysis, between arousal and valence values, corresponding
roughly to satisfaction and frustration.

7.3.4. Field Study: London (UK)
The second evaluation study was conducted in London (UK) in the last
quarter of 2012. Based on the findings obtained in the pilot study, a number
of changes were implemented to improve the application performance and
study outcomes. This second study is focused on exploring the relationship
between commuters and the travelling environment as well as the interest in
personalised information services in this domain. In spite of the limitations
uncovered during the pilot study, include the usage of mobile device sensors,
the design follows a similar approach to the one used previoulsy.

172

7.3. UPT Studies
Setting
The urban area of London (UK) is composed of approximately 8 million inhabitants and is served by one of the largest
and oldest UPT networks in the world,
including bus, metro, tram, boat and
other services. Transport for London
(TfL) is responsible for most aspects of
Figure 7.7.: London iconic buses5

the transport system and unifies the different UPT providers under a single en-

tity, facilitating the access through a single smart card - the oyster card.
TfL provides over 25 million journeys per day [200] and has introduced a
number of initiatives in recent years to improve information services. This
initiatives include live updates and free access to di↵erent data sources,
empowering end users to analyse, process and utilise the data in innovative ways. Popular uses include location-based mobile applications displaying live departure bus and metro times and augmented reality applications
showing the location of nearby stations.
Participants
The mobile application was made publicly available on the official Android
distribution channel (Google Play Store) and the description included the
purpose of the application, main goals and a link to a website [41], where
more detailed information was available. The mobile application was advertised via mailing lists, social networking platforms and other media websites. In addition, some mass circulation publications demonstrated interest
in featuring the application, resulting in a higher number of downloads. The
users were o↵ered a detailed travelling report upon completion of a predefined number of valid reported journeys, lasting for approximately two to
three weeks.
The mobile application was downloaded to 200 mobile devices during the
period of the experiment. However, most of the downloads did not result
in active participants, due to a lack of interest or a stronger incentive to
participate. In total, the participation of 30 subjects with valid observations
5

By Sou’wester (photo taken by Sou’wester) CC-BY-SA-3.0, via Flickr

173

7. System Evaluation
in the study resulted in 696 journeys.

Table 7.4.: Descriptive statistics of field study subjects
Attribute
(N = 30) %
Completed Education
High-School
3%
Bachelor degree
28%
Masters degree
38%
Doctoral degree
31%
Current Occupation
Student
33%
Professional
67%
Gender
69% male / 31% female
Age
M = 30.6 (SD = 8.3)

Procedure
The study was mainly focused on collecting a large amount of quantitative data over an extended period of time. Nevertheless, a sub-set of the
subjects were invited for individual interviews to validate the findings and
assess the performance of the study. The mobile application was modified
for this stage to include an illustrative diagram and a very short description
for assisting users in using the application in-transit. The application also
collected demographic information, including age, education and occupation. In addition, more detailed information was available on the project
website [41] and a direct form of contact was available for clarifying further
questions if needed.
The procedure for in-transit data collection and feedback was not changed,
as it proved to be ecologically valid, considering the restrictions imposed.
The progress, i.e. the number of completed observations versus the desirable amount, was made visible to incentivise users to report the required
number of journeys. The overall progress of the study was sent to users who
demonstrated interest on a weekly basis, including number of participants
and journeys reported.

174

7.3. UPT Studies
Results

The data collected at this stage provided a solid base for analysis and lead
to significant results and interesting findings. The descriptive results and
measures are presented in Table 7.5. The data supports some of the early
findings from the pilot study, in addition to providing new insights into QoE
in UPT domains.

Table 7.5.: Measures and descriptive results
Measure
Satisfaction M (SD)
Aggregated
Valence
5.11 (2.11)
A↵ect
Arousal
4.76 (2.01)
5.21 (1.90)
Noise
4.47 (2.08)
Saturation
4.95 (2.68)
Setting
Smoothness
5.72 (1.86) 5.35 (1.50)
Global
Ambience
5.09 (1.66)
5.49 (1.35)
Speed
5.79 (2.13)
Service
Reliability
5.79 (2.01) 5.79 (1.87)

The data displays a strong placement around the axis between the frustration and satisfaction-related quadrants of the emotional model in Figure 7.8
and is consistent with the levels of satisfaction measured. There is a tight
relationship between the measured environment conditions and the a↵ective state, that indicates overall satisfaction with that particular travelling
experience. The matching between the actual environment conditions - as
sensed by the mobile device - and the a↵ective state allows us to identify
dynamically the factors that influence a travellers’ experience. This identification leads, ultimately, to opportunities for enhancing experiences. The
next section discusses the collected data in context.
The results obtained, shown in Figure 7.8 confirm the tendency observed
in the pilot study: that the resulting a↵ective states are mainly distributed
between two quadrants. These two quadrants correspond to low satisfaction
(low valence and high arousal) and high satisfaction (high valence and low
arousal). Thus, the measured a↵ective states were fitted to a single line,
named A↵ect in Figure 7.8, as a representation of QoE.

175

7. System Evaluation

10
9
8
7

Arousal

6
5
4
3
2
1
0

●
●
●

●
●
●●
●●
●
●
●
●
●
●
●● ●
●● ●
●●
●
●●
● ●
●
●●
●
●
●
●●
●
●
●
●
●
●
●
●●
●
●●●
●
●
●●
●●
●●
●●
●●
●
●
●
● ●
●●
●●
●
●
●●
●
●
●
●
●
●
● ●
● ●
●● ●
●
●
●●
● ●●
● ●●
●
●●
●
●●
●
●
●
● ●●
●
●
●
●●
●
● ● ●●
●
●●
●●
●
●● ●
●
● ●●
●
●
●
●
● ● ●● ●
●
●
●
●
●
●
●
●
●
●
●
●
●
● ● ●
●
●
●
●
●
●
●
●
●
●
●●
●●
●
●
●
●
●
●
●
●
●
●
●
●●
●
●
●
●
●
●
●
●
●
●
●
●
●●●●●
●
●
●
●
●
●●
● ●
● ●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
● ●●
●
●
●
●
●
●
●
●
●
●
●
●
●
●●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●● ● ●●
●●●
●
●
●
●
●
●●
● ●
●
●
●
●
●
●
●●
●●
●
●
●
●
● ● ●
●●
●●
●
●●
●
●
●
●●
●
●
●
●
●
●
●
●
●
●
●
●
●●
●
●
●
●●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●●
●●●●●●
●
●
●
●
● ● ●●
● ●
●
●
Not Satisfied
●
●
Affect
● Satisfied
●
●
●
●

0

1

2

3

4

5

6

7

8

9

10

Valence

Figure 7.8.: Subjects’ a↵ective states

7.3.5. Results
The quantitative data analysis is focused on exploring the relationship between the di↵erent components of environment and satisfaction, or QoE. An
exploratory analysis was performed, to investigate these di↵erent aspects. A
number of relevant interactions were found relevant to our study, described
in the following sections.
Satisfaction and Quality of Experience
The first analysis aims at establishing the relationship between the satisfaction with di↵erent environment components, and dimensions of a↵ect,
including arousal and valence. As stated previously, the a↵ective states
were combined into a single measure, by fitting the values to the line labeled A↵ect in Figure 7.8, that corresponds to overall QoE in our study. As
a result three main a↵ective-related measures were investigated: arousal,
valence and a↵ect.
Table 7.6 presents the correlations between the satisfaction with individual environment characteristics and measures of a↵ect, valence and arousal.

176

7.3. UPT Studies

Table 7.6.: Satisfaction vs. a↵ective state correlation (p < 0.001)
Satisfaction A↵ect Valence Arousal
Noise
0.43
0.42
(0.37)
Saturation
0.58
0.61
(0.46)
Smoothness
0.41
0.42
(0.35)
Ambience
0.72
0.68
(0.67)
Speed
0.33
0.25
(0.36)
Reliability
0.29
0.24
(0.29)
The results reveal the importance of the vehicle setting, namely the impact
of ambience and crowding, to be greater than the characteristics of the service itself. The reliability of the service, in particular presents a very low
correlation coefficient with the final outcome. Figure 7.9 illustrates the contrast between the two: on the left there is a clear trend of higher a↵ect with
higher satisfaction levels of ambience, while on the right there is a bigger
dispersion resulting in a lower correlation coefficient. Perhaps contrary to
intuition, noise does not present a very strong correlation with satisfaction
levels. This was further explored in the contextual interviews, in the next
Section, unveiling some behaviour characteristics of travellers.
10

7

Affect

6
5
4
3
2

●

●

9

●●
● ●
●
●
●
●
●
●
●
●
● ● ●●
●●
●
●● ●
●
● ● ●● ●●
●
●
●●
●
●●● ●● ●●
●
●
●●●
● ●●● ●●●●
●
●●
● ●
●●●●
●
● ●●● ●●
●
●
●
●
●
●●
● ●
●
●
●● ● ●●● ●●●
●
●●
● ●●●●● ●●●●●●● ●●
●
●
●
●●
● ●
●● ●
● ● ●
● ●
● ●● ●●● ●
●● ●
●
●
●● ●
●
● ● ● ●
●● ●●●
●
●●
●
●
●
●
●●
● ●
● ●●●
●
● ● ●
●
●
●
●●
●
●●
●●
●
●
● ●●
●
●
●●
●●● ●
●
●●
●
●●●● ●
●
● ●
●
●● ●●●●●
●
●
●●●●●●●
●● ●●
●
●
●●
●
●
●●
●
●●
●● ● ●
●
●
●
●
●
●
●
●●●
●
●
●
●● ● ●
● ●
● ● ●

8
7
6

● ●
●●
● ●

●
●
●

3
2

0

1

●

●

5
4

●

1
0

●

Affect

8

10

●

●

9

0
1

2

3

4

5

6

7

8

9

10

Ambience

(a) Ambience vs. A↵ect (r = 0.72)

●

●

●
●

●
●
●
●
●● ●
● ●
● ● ●●
● ● ●
●●●
●● ●
●
●●
●
●
●
●
●
●
●●
●
●● ●
● ●
●
●●
●● ●●
●
●●●●●● ●
●
●
●
● ●
●●●● ●●●
●●●
● ●●●
●●
●
●
●
●
●●● ● ●● ● ● ●
●
●
●
● ●
● ●
●●
●
●●
●● ●
● ●● ●
● ●●
● ●
●
●● ●
●
● ●● ● ●● ●
●
●
●
●
● ●●●●● ● ●
●
●
●●
●
●
●
●
●● ● ● ● ●● ●●● ●
●
● ●
●
●
●●
●●
●
●
●
●
●
●
●● ●
●
● ●
●
●● ●
●
●
●
● ●● ●
●
●
●
●● ● ●
●
●
●
●● ●
●
●●
●
●
●
● ●●
●
●
●
●
●
●
●
●●●
●
●
●
●● ●
● ●
● ●
●
●● ●●● ● ●●
●
●
●
●●
●●
●●
●
●
●●
●
●●
● ●
●
●
●●
●
●
●
●
●
●
●●
●
●
●●
●
●
●
●
●
●
●
●
● ●
●
●

0

1

2

3

4

5

6

7

8

9

10

Reliability

(b) Reliability vs. A↵ect (r = 0.29)

Figure 7.9.: Ambience and Reliability correlations (p < 0.001)
Overall, the environment characteristics seem to be more correlated with
satisfaction than service characteristics. In order to have a more global
view, satisfaction indexes were generated to aggregate the di↵erent aspects

177

7. System Evaluation
of travelling. These indexes were calculated based on the satisfaction expressed for each of the evaluated attributes both globally and per blocks, as
present in Table 7.5. While the global index comprises all of the measured
attributes, the division in blocks focuses on di↵erent characteristics. Two
main blocks compose the satisfaction evaluation: UPT service and in-vehicle
setting. Two methods were used to calculate the index : the arithmetic mean
as the baseline and a weighed mean. The weighted mean is based on previously surveyed importance weighting [58, 47]. However, the arithmetic and
weighed means resulted in very similar results and are thus treated as one.
The calculated index was then compared with the expressed a↵ective state
- as the indicator of QoE. QoE is calculated as the overall a↵ect, fitted to
the connecting line between two quadrants: (high arousal and low valence)
and satisfaction quadrants (low arousal and high valence). The result is in
the table of correlations 7.7.
Table 7.7.: Baseline index vs. a↵ective state correlation (p < 0.001)
Index
A↵ect Valence Arousal
Global
0.59
0.56
(0.53)
Setting
0.62
0.61
(0.54)
Service
0.28
0.23
(0.30)
As shown in Table 7.7, there is a moderate correlation coefficient present
(0.53 < r < 0.62), between satisfaction index and QoE [44] - a value in accordance to previous work (0.19 < r < 0.69) [47]. In this context, a moderate
correlation is expected due to the restricted number of attributes measured
against the unlimited number of factors a↵ecting passengers [1]. It is noteworthy the significant impact of setting on satisfaction in comparison to
service, suggesting a stronger impact by the in-vehicle conditions rather
than service itself as noted earlier. Figure 7.10 compares both indexes,
where the slope is noticeably steeper for setting when compared to service. The di↵erence in environment conditions and service characteristics
supports the thesis that the surrounding environment impacts QoE and,
consequently, providing travellers with personalised experiences enhances
their overall satisfaction.
The usage of the weighted index, mentioned earlier, improved slightly
these relationships, however no significant variation was noted. This is in
agreement to the interviews, where the participants noted that reliability

178

7.3. UPT Studies

10

Affect

6

4
3

●

●

●

●

2

0

●●
●
●
●
●
●
● ●●
●● ●
● ●●● ● ●
●●● ●● ●● ●
●
●
●
●● ●●
● ●● ●
●
●
● ●●●
●
●
●●
●
●
● ●● ●
●
●
● ●●● ●
●
●●
● ● ●● ●
●●
● ●
●
●
●● ● ●
●
●
● ●
● ●● ●●● ●●
●
●
●
●
●
●
●
●
●
● ●●●
● ● ● ●●
●
●
● ●
●
● ●
●
●
●●●●
●
●
●● ●
●
●●●
●
●
●
●
● ●
●●
●
●
● ●●
●
●● ●
● ●●
●● ●
●
●
●
●
●
●
● ●●
● ● ●●
●
●
●● ●
●●
●
●
●●
●●
● ●
●
●
●
●● ●
●
● ●
●
●●
●
●●
●●
●
● ●
● ●
●
●
● ●
● ●
●
● ●
●
● ●
●
●
●●
● ●● ●
●●● ●
● ● ●●●● ● ●●
● ●
●
● ●
●
●
●●
●
●
●
●
●
●●
●
● ●
●
●
●
●
●
●
●
● ● ●●
●
● ●●
●
●
●
●

●
●

0

●
●

●

●

7
●
●

2

3

4

5

6

7

6
5
4

●

3
●

2
●

1
0

8

9

10

Service Index

(a) Service Index vs. A↵ect (r = 0.34)

0

●
●

●
●

●

8

●
●

●

1

●

9

●

1

10

●
●

●

●

●

7

●

Affect

●

8

5

●

●

9

●
●●
●●
●●
●
●
●
●● ●●●
●●
● ● ● ●
●●● ●●
●
●
●
●
●
●
●● ● ● ●
●●● ● ● ●●●
●
● ●●
●
●● ●
●● ●
●
●●
●● ●●
●
●
●
● ●●
● ●● ●
●
●
●● ●●
●
●
● ●
● ●● ●●●
● ● ●●●
●
●
●
●
●
●
●●● ● ●
●●
●
●
●
●
● ●●●● ●
●●
● ●●●●
●
●
●●●●●
●●
● ●●●
●
● ● ● ● ●
●
●● ● ●●
● ●
●
●
●●●●
●● ● ● ●
●
●
●●
●● ● ●
●●
●
●●
● ●
●●
●
●
● ●
●●
● ●
●
●
● ●● ●
●●
● ● ●● ●
●
●
●
●●
●●
●●● ● ●●
●
●●
●
● ●●
● ● ●●●
●
●
●
●●
●●
●●● ●
●● ●
●●
●● ●
● ●
● ●
●
●● ●
●● ●
●
●
●
●● ●
●
● ●●
●
●
●
●
●
●
●●
●●
●
●
●
● ●
●
●
●
●
●
●
●
●
● ●
●
●

1

2

3

4

5

6

7

8

●

9

10

Setting Index

(b) Setting Index vs. A↵ect (r = 0.71)

Figure 7.10.: Service and Setting correlations (p < 0.001)
and speed were not a significant factor likely due to the high availability of
alternative services and frequency.
Predictable Quality of Experience
In order to gain a deeper understanding of the impact and magnitude of
the di↵erent travelling characteristics, a regression analysis was performed.
The regression analysis allows us to estimate how QoE changes when one
of the environment conditions varies while others remain unchanged. These
values are widely used for prediction and forecasting, e.g. some methods
used in recommender systems suggestions rely on this type of estimates.
To evaluate the prediction of QoE based on the environment characteristics, and based on our study design, a hierarchical linear regression was
employed. A simple linear regression models the relationship between dependent variables, i.e. the a↵ective state, and predictors, i.e. journey conditions. A hierarchic, or multilevel, linear regression facilitates the analysis
of nested data when there is a natural hierarchical structure [52], such our
studies performed in UPT. The within-subjects design, resulting in repeated
measurements of the same user over time, needs to be taken into account.
There are two levels represented: the first one accounts for the repeated
observations of the same subject; and the second level for the variance between subjects. The data analysis was performed using the “nlme” package

179

7. System Evaluation
in R [165], and three separate investigations were performed: the first consisting of the global a↵ect; and two for each of the a↵ective dimensions
separately.
Table 7.8.: A↵ect regression analysis
Value
SE
p
(Intercept)
0.63 0.37 0.09
Noise
(0.04) 0.04 0.27
Saturation
0.20 0.03 0.00
Ambience
0.50 0.05 0.00
Smoothness
0.08 0.04 0.09
Reliability
0.06 0.05 0.17
Speed
0.05 0.04 0.23
The regression for a↵ect, in Table 7.8, shows that both saturation and
ambience have a significant impact on travellers’ QoE. In accordance with
the results obtained previously, the magnitude of ambience is higher than
saturation, both of them quantified in the Table. The regression values
correspond to an increase of 0.50 and 0.20 in QoE for every unit of ambience
and saturation satisfaction, respectively.
In contrast, other values of setting, such as noise and saturation, as well
as service, namely reliability and speed, do not seem to significantly explain
a↵ect. These questions were explored during our interviews with the travellers. In addition, two other regressions were performed, with the goal of
exploring the two separate measures of a↵ect.
The regression for valence, the cognitive component of a↵ect, in Table 7.9,
strengthens the findings obtained previously, when focusing on this a↵ective
component. Both saturation and ambience significantly impact the outcome, with slightly higher magnitudes: 0.29 and 0.52 respectively. Smoothness, though at a lower magnitude, also has an e↵ect on valence, with a 0.14
increase per unit.
The regression for arousal, the physical component of a↵ect, in Table 7.10,
reveals the importance of speed and not smoothness, in addition to saturation and ambience. Similarly to smoothness in Table 7.9, speed has a
weaker impact in the results, with a magnitude of only 0.12. Reliability did
not reach significance (p = 0.07), but it suggests that also this component
may have an impact on arousal when comparing to valence. Moreover, the

180

7.3. UPT Studies

Table 7.9.: Valence regression
Value
SE
(Intercept)
0.29 0.41
Noise
(0.04) 0.05
Saturation
0.29 0.04
Ambience
0.52 0.07
Smoothness
0.14 0.06
Reliability
0.02 0.06
Speed
(0.01) 0.05

analysis
p
0.49
0.49
0.00
0.00
0.01
0.68
0.81

significance of the intercept, suggests that arousal is the dominant component in the overall estimation of QoE, which is likely due to the impact
that UPT may have on how stressed a traveller feels. Valence, on the other
hand, does not translate directly to a commuting experience or a journey,
with a lower impact on happiness.
Table 7.10.: Arousal regression
Value
SE
(Intercept)
1.03 0.41
Noise
(0.06) 0.05
Saturation
0.12 0.03
Ambience
0.50 0.06
Smoothness
0.02 0.05
Reliability
0.10 0.05
Speed
(0.12) 0.05

analysis
p
0.01
0.18
0.00
0.00
0.74
0.07
0.01

This separate regression analysis for both a↵ective dimensions shows that
some aspects have a more significant impact on valence, e.g. smoothness,
while others contribute more for arousal, e.g. speed. Ambience may incorporate a di↵erent number of tangible and subjective characteristics and
is therefore expected to have a stronger impact on a↵ective states. This
separation between di↵erent components suggests di↵erent approaches for
actively improving travellers experiences, as well as the prioritisation of
measures in relation to the expected outcomes. For instance, focusing on
increasing the speed of a service may be less efficient than increasing its
capacity, when comparing their magnitudes.
Given a set of environmental characteristics, the regression model is able
to predict, with a certain degree of confidence, the expected QoE. This

181

7. System Evaluation
opens a number of opportunities, such as the expected QoE in-vehicle based
on sensed data, from either users themselves or sensors deployed in the
environment.
Proposed Statistical Model
Based on the previous findings, a regression model is proposed for the dependent variable QoE and with two independent variables: saturation and
ambience. In addition, a further reduction in the observations was conducted. As a result, the number of observations was reduced from 687 to
484, corresponding to the cases where either of the independent variables
was left unchanged. This reduction was employed as a way of focusing on
the cases where the QoE variation was associated with the variables directly.
The proposed model is able to explain 55% of the variation in QoE (R2 =
0.55, F (2, 481) = 301.3, p < .001). A representation of our model is shown
in Figure 7.11, where an increase in ambience (b = 0.17, t(454) = 7.32,
p < .001) and saturation (b = 0.52, t(454) = 13.54, p < .001) results in a
improved QoE.
QoE
10

Ambience
Saturation
10

9

00
0

Figure 7.11.: Proposed model: regression plane with residuals

182

7.3. UPT Studies
Sensed Data
Similarly to what had been observed in the pilot study, the collection of
sensed data in a naturalistic environment presented challenging complications. One the one hand, the variability of the devices’ capabilities, in terms
of available sensors (e.g. lack of environment sensors) and quality of sensed
data (e.g. low fidelity of sensors), results in low quality information and does
not constitute a reliable source of data. On the other hand, the natural usage of such devices does not allow for a descriptive collection of environment
characteristics, e.g. playing a game a↵ects the device motion while keeping
it in a pocket will a↵ect the sensed sound level and others. For this reason,
it is recommended for environment characteristics the usage of independent
sensors or devices rather than using personal devices as the primary source.
These include, on the users’ side, the exploitation of wearable technology
and other participatory methods; and deploying environment sensors for
collecting environment-related data. A di↵erent approach towards collecting environment data would solve the issues associated with using solely
the mobile device. For example, by deploying sensors in-vehicle that measure the di↵erent aspects of the travelling experience. The identified needs
suggest the implementation by UPT providers of sensors capable of measuring number of passengers in a vehicle, noise, temperature and vibration.
However, this invalidated our further investigation into the environment
characteristics and their impact on users.
Qualitative Data Analysis
Our qualitative data analysis was conducted on two data sources: participants’ responses to the open-ended question (presented at the end of each
journey) and the semi-structured interviews held with a subset of participants. A total of twelve interviews were conducted, based on the format
in Appendix B.1. Using thematic analysis, patterns were organised into
themes until we were able to describe new data through our coding scheme.
During the coding process, special attention was given to the environmental
conditions our participants regarded as problematic as well as the ways in
which they coped with the environmental disturbances that previous work
had identified [185].
The first section of the interview focused on exploring the performance of

183

7. System Evaluation
the mobile application in integrating and collecting personal information.
The participants were satisfied with its integration in their commuting experience and they felt that the features were well designed. The navigation
was intuitive and the feedback form relevant to the UPT environment. Some
of the reported issues included excessive battery consumption related to the
usage of the sensors; and the lack of motivation for a prolonged usage of
the application. The participants lacked a sense of impact of their contribution and considered it to be “cumbersome at the end of the second week”,
rather than a fruitful activity. Overall, the application was used for most
of the journeys during the period of usage. However the two main factors
for not using it were either due to battery concerns or simply because they
forgot. While measures were taken to reduce the number of sensors used
in subsequent versions of the application, a more elaborated solution is required to involve users in the activity. For instance, the implementation of
notifications reminding users at pre-defined times, e.g. at usual commuting
times; or a more integrated approach, involving UPT providers in an automated sensing process, e.g. start sensing when the travel card is activated.
The discussions with the participants confirmed the quantitative analysis
in showing that the perception of environmental characteristics could lead
to either positive or negative transport experiences. It also confirmed a
raised awareness in regards to the environment conditions, leading them to
consider some aspects of their commute.
We probed them to explain how they coped with problematic journeys and
what their travelling preferences were. Following [132], we also asked contextual questions, where participants’ earlier responses to the open-ended
question were used to queue their memory. This allowed them to reconnect
with a particular journey and revisit their experiences with us. Examining the subjective experience of individuals is important, as it allows us to
capture richer data around individual di↵erences regarding travelling experiences and preferences that our statistical analysis might mask. The
identified themes are organised as follows:
1. Impact of journey conditions
This theme embodies the e↵ect of journey conditions on travellers
experience, including positive and negative aspects. Based on users’
reports and inspired by our statistical analysis, these are divided into

184

7.3. UPT Studies
the following:
a) Travelling environment
Travellers refer to environment conditions as a cause for both
positive and negative experiences, that are not directly related
to UPT service and tend to be more related to cognitive pleasure.
b) Service characteristics
The characteristics and di↵erent aspects of a UPT service tend
to be associated with negative occurrences and result in physical
displeasure, mostly because they do not meet expectations.
2. Development of coping strategies
This theme refers to the strategies, developed by travellers, to cope
with the di↵erent situations occurring in a UPT environment. These
strategies are divided into:
a) Heuristics to avoid the negatives
Commuters, and experienced travellers in general, develop heuristics based on past negative experiences to guide themselves towards less negative conditions; this strategy is not, however, employed towards positive conditions.
b) Engaging in the positives
Travellers resorted to immersive digital experiences as a way of
shielding themselves against unpleasant or undesired environment conditions, used in combination with other strategies at
times.
3. Receptivity of personalised services
This theme focuses on the receptivity of personalised services, that
were not only well received but in some instances requested by travellers. Personalised services are not necessarily changes in the UPT
service, but refer to the notification of negative experiences, suggestion
of more suitable alternatives or even the delivery of digital experiences.
Impact of Travelling Environment
The travelling environment proved to be an important factor for travelling
satisfaction, in particular ambience. As one participant said, “I like to listen

185

7. System Evaluation
to people’s stories and conversations, when there’s a friendly atmosphere”.
A second traveller reported trying to take scenic routes if possible, with
others mentioning a “nice view” out the window or enjoying “sunny days”
when they need to travel. While these provided positive moments, a number
of negative experiences are also related to the contextual environment, such
as “noisy children”, “smelly buses”, “people arguing” and even “squeaky
breaks”. These factors, though not directly related to the provision of service, were decisive factors in travellers’ experience. As noted by another
participant: “Everything was fine up to the point when some people started
arguing, I just wanted to leave the train”. Participants also requested for
“newer buses with better lighting and suspension” as well as more considerate drivers, with one participant regarding a bus journey: “The bus driver
was just accelerating and breaking hard all the time, it was horrible”. All
of the interviewed participants had gone through an environment-related
experience that contributed to a better or worse experience, independently
of the service characteristics.
Despite their shared agreement about these characteristics, individual
di↵erences were found in the relative importance each participant assigned
to these conditions. A total of 66% travellers showed a strong preference
towards a non-crowded environment. One participant argued that “as long
as I get a seat I’m happy”. By contrast, 41% preferred a quiet environment.
Consider the following response: “I like to read in my commute and the
noise distracts me a lot”. The importance of this factors may seem, at first,
contradictory to our findings in the statistical analysis. However, the non
significance of these factors may be explained by the relative importance
for a sub set of travellers. Noise, as an example, is of little importance for
travellers who usually listen to music or even play games on their devices,
e↵ectively shielding them from the negative travelling aspects.

Impact of Service Characteristics
Service characteristics were found to influence participants’ appraisals of
their transport environment. Firstly, the providers oftentimes set certain
expectations. Frequent bus users found it difficult to form perceptions of
reliability and had come to accept this ambiguity. As one participant noted:
“I don’t really know how to assess reliability. The [bus] timetable says 8 to

186

7.3. UPT Studies
12 minutes. I can only consider a bus unreliable if it’s canceled when I’m in
it”. Train users, on the other hand, had constant access to arrival information through the announcement boards which also flagged train delays. As
a consequence, these travellers were acutely aware of delays and expressed
more annoyance about minor disturbances to the service. Moreover, as we
described above, some disturbances, e.g. packed early morning commutes,
were felt by participants to be more predictable as a result of their repeated
exposure to them. Other situations were seen as less predictable with travellers finding it difficult to adapt to these sudden changes.
Other service factors contributing to low satisfaction include service cancelation and sudden negative occurrences created by this “apparent” mismanagement – at least from the travellers perspective, who do not fully
comprehend why their service needs to be cancelled. For instance, the sudden crowding of a train due to cancelation of other trains. Other participants
noted the announcements to be too loud, annoying and unnecessary. One
participant even noted the announcements were detrimental in bringing to
the travellers attention the inefficiency of the UPT network: “announcements noting delays due to faulty signalling”, ironically hinting at the upgrade of track signalling rather than announcing it. On the other hand,
the way UPT sta↵ handle certain situations was in itself a factor, for instance “unhelpful drivers when the bus is cancelled” suggest better training
to attenuate the impact of these negative occurrences.

Heuristics to Avoid the Negatives
Travellers, for the most part, did not actively seek out to create positive
conditions or experiences, which is likely due to the utilitarian function of
UPT. However, coping strategies were available to assist them in improving
or enhancing the journey. When it came to responding to negative transport
experiences, at least two strategies had been developed, present in 83% of
the interviewees. The usage of past experiences in troublesome journeys
was one of such heuristics, for example, avoiding specific routes at certain
times of the day. These heuristics extend to a range of di↵erent travelling
behaviours, that are learned when users first start using UPT, but soon
stagnate to what they think to be an optimal behaviour, corresponding to a
sense of commuting proficiency.

187

7. System Evaluation
These heuristic-based strategies are employed in a wide range of situations. These include modes of transport and routes depending on the day
of the week (e.g. weekday, weekend), time (e.g. peak hours) and even period of the year (e.g. Summer, Winter); weather conditions influenced the
behaviour, with travellers preferring to use the bus with sunny, spring-like
weather. Even though adaptable behaviour is present, changing routes was
not usual, even when several options exist, due to the idea that a certain
route is the best, either due to duration or comfort. Only one traveller admitted to using di↵erent routes “just for a change. I get bored with using the
same route everyday.”. In contrast, other travellers become experts in their
daily commute, with some going as far as finding an area of the platform of
departure that allows them to reduce time or distance at their destination.
Finally, other irregular occurrences also impacted this adaptive behaviour,
even if less predictable, like high profile events e.g. concerts and football
matches.

Engaging in the Positives
In addition to trying to avoid negative occurrences, travellers engaged in a
range of activities that, directly or indirectly contributed to enhance their
experience. As one participant humorously pointed out “I snoozed for a
while, so who knows [what went wrong]”. One other pointed out, for a
particular journey¿ “was eating, so I didn’t really pay attention to anything”.
Curiously, this same act may have been the cause of dissatisfaction for other
travellers. In fact TfL is actively trying to raise awareness for such issues
and incentivise travellers to improve their behaviour, through its “Together
for London” campaign. The messages include “I won’t play my music out
loud”, ”I won’t drop litter” and, pertinent to our fellow traveller, “I won’t
eat smelly food”. This campaign tries to enhance the social context as a
way of impacting the overall travelling experience. In fact, taking advantage
of this existing social capital is one of the ways to contribute for the overall
experience [151].
In our interviews, however, the tendency for self isolation was predominant. Several participants engaged in activities they considered pleasant,
from reading to playing games. Some were, however, not compatible with
the environment conditions, paradoxically increasing frustration: “I prefer a

188

7.3. UPT Studies
quiet environment, otherwise I can’t read”. On the other hand, some activities had e↵ectively supplanted the actual environment, shielding travellers
from external influences. These immersive digital services were thus a very
e↵ective method and provide a powerful mechanism for addressing individuals and assisting them in enhancing their QoE. Engaging in such immersive
experiences included listening to music – an activity that is not interrupted
throughout the full travelling cycle – reading a book or watching a video
– both of which are more cognitive demanding in terms of attention – and
finally playing games on a mobile device, often resulting in full isolation. In
the words of one participant: “when I’m playing a game I forget everything
around me”.
These services hold great potential in enhancing QoE, as they constitute
a mechanism to provide for positive experiences by immersing travellers in
digital experiences. These can be personalised to individual preferences and
needs, e↵ectively engaging them in positive activities.

Receptivity of Personalised Services
Finally, the topic of personal information collection and sharing was discussed. Overall, the participants did not feel the collected data was intrusive, even though it included a considerable amount of personal information.
The collection of personal data, for some, was intrinsic to the usage of mobile applications and internet in general: “We already have our entire lives
on social networking platforms”. There was, however, a lack of understanding about the impact in providing such personal information and its real
value to other external entities. Nonetheless, the participants felt confident
in sharing such information due to the clear data handling policy: “There
really is no problem in providing any information, I trust that everything
is anonymised.”. There is, therefore, an implicit trust relationship between
the participants and the entity responsible for the experiment, based solely
on the information provided.
The potential of UPT service personalisation, based on the provided information was well received by the participants. Reflecting upon their travelling experience revealed some personal preferences towards certain types
of services, ranging from route estimated time of arrival to avoidance of
crowded or noisy vehicles. Due to the flexibility of the UPT network, all

189

7. System Evaluation
the participants were willing to adapt their commuting if that resulted in
more pleasant experiences. In fact, some of them change route to avoid certain unpleasant travelling aspects depending time and day, based on their
personal experience.
In spite of the lack of motivation or incentive for a continuous usage of
the application, the delivery of personalised services was very attractive
and there was an consensus that “those services would be worth all personal
data”. A mismatch between the amount and type of data provided and the
resulting service, that is symptomatic of the current digital services practice.
Even though there was a strong interest for such services, the participants
tend to view them as a normal evolution of ATIS and are reluctant to pay
for them, in particular when they provide their own personal data, perhaps
a first realisation of the intrinsic value of personal digital information.

Individualised Needs
There are significant di↵erences between participants, both in the aspects
that influence the QoE but also in the strategies used by them to cope or
enhance their travelling experience. Some of the travellers showed a strong
preference towards non-crowded journeys, while others did not seem to be
particularly a↵ected; noise also seemed to have a similar e↵ect.
Coping strategies were employed by di↵erent types of users, according to
the factors that had a strong impact. Most of the participants did not
actively seek out to create positive episodes, which is likely due to the
utilitarian function of UPT. In contrast, at least two main strategies were
identified in response to negative episodes. Some of the subjects used past
experiences as a heuristic, e.g. avoiding certain times of the day or specific
routes. Others developed methods to deal with undesirable characteristics
that were perhaps unavoidable, e.g. listing to music or reading a book.
The individual needs and strategies used for the travelling experience
encourage the development of personalised services that address individual
needs and lead to an improved QoE.

190

7.4. Design Principles

7.4. Design Principles
The investigation of user experience in intelligent pervasive environments,
the specification and implementation of the Cloud2Bubble platform and its
evaluation in the domain of UPT culminates in a set of principles for the
development of intelligent ubiquitous systems. The five design principles
derive from the di↵erent stages involved in the design, implementation, instantiation and evaluation of the platform, focusing on individual engagement, collective action and societal implications. These principles provide
a concrete fruition to the abstract concept of design contractualism [166],
and originate from own work (benefit and empowerment) as well as previous
work that is considered to relevant for the platform (privacy, reliability and
collective awareness):
• Design for Benefit

Recognises users as main contributors in intelligent systems, and thus
the primary beneficiaries of service personalisation and delivery;

• Design for Empowerment

Inspired by the idea of generativity, providing users with the appropriate resources empowers them to take action and actively contribute;

• Design for Privacy

Drawing from the Privacy by Design framework, some privacy and
data protection guidelines are revisited in context;

• Design for Reliability

Making interaction with technology and its impact explicit allows
users to be in control of their activities

• Design for Collective Awareness

Exploiting big data and raising awareness supports the orchestration
of individual action to address societal challenges

7.4.1. Design for Benefit
Intelligent pervasive systems rely heavily on big data for inferring patterns
of user behaviour and, in turn, generate actions that increase their usage.
User engagement is, therefore, essential for generating the required resource

191

7. System Evaluation
of digital information in such systems. In this context users are not only
the consumers but also the producers of digital information - or prosumers.
The collection of personal data, both explicit and implicitly, enables the
identification of a range of personal preferences and needs - from utilitarian
to hedonic and emotional - that sustain the appropriate adaptive behaviour.
The role of users as main contributors – with their personally generated
data as a central element of intelligent pervasive systems – entails the retribution as beneficiaries of the adaptive behaviour. Users will happily trade
data, including highly sensitive data, in exchange for enhanced services.
In the interviews conducted, in Section 7.3.5, the participants showed a
clear interest in being rewarded for their contribution. In their view, and
given the participatory nature of the study, both the e↵ort involved in the
approach used, and their personally generated data were seen as valuable
assets. While the continuous development of sensing technology combined
with the increasing trend of personal information sharing contribute to alleviate their e↵ort, it is the actual data that constitutes the real value in
this contribution–benefit relationship. As a result, the participants were interested in being involved in a simplified version of the mobile application,
requiting less interaction, in exchange for a beneficial service. The receptivity of personalised services theme supports this, identified in our qualitative
analysis. Consider the following illustrative response: “those services would
be worth all personal data”. Beneficial services, however, are dependent on
personal needs and preferences. The participants demonstrated their interest in a range of di↵erent information services and even immersive digital
experiences, that would assist their own commute: some participants were
interested in detailed transit information, while others wanted to know the
level of crowding or noise in the vehicle. In addition to the direct relationship between contribution and benefit, addressing users interests acts as an
incentive for continuous usage; rather than providing a personalised service
that benefits a third party, for example, a sale benefiting a company based
on personal profiles or merely governmental policy.
Cloud2Bubble was specified with the primary goal of providing for enhanced experiences by addressing individual supra-functional requirements.
In this context, enhanced experiences are the result from providing personal data and the incentive for continuous engagement and other forms
of social capital. Other goals may include other entities, such as commer-

192

7.4. Design Principles
cial or governmental ones, but only secondary to users main interests. In
our studies, users demonstrated their interest in providing personal data
in exchange for a experience oriented service. The recommendation in instantiating Cloud2Bubble is to benefit users as the primary goal, that also
includes other forms of collective behaviour.

7.4.2. Design for Empowerment
The generativity [215] qualities, present in some systems, allows users to
build and use them in new and di↵erent ways; and to generate and extend
new uses beyond the original ones. Making necessary resources available
enables users to actively contribute towards an activity or solution, but also
understand the cause of a problem and how their behaviour may result in a
positive impact. The disposition of users to adapt their behaviour suggests
a genuine tendency to be proactive. Thus, making the necessary resources
available enables users to actively participate. The result of releasing public data by some local authorities, for example the transport authority in
London, provided tools for commuters to analyse and build upon this resource. Some of the results include mobile and web-based applications to
raise awareness about local issues, e.g. criminality or education, or assist
members of the community. In the context of smart grids, providing users
with a visualisation of the overall usage of the grid allows them to take
action, collectively, to avoid overload and the consequential service interruption [168].
In our qualitative analysis, deriving from an instantiation of our platform,
this aspect emerged from a number of behaviours and coping strategies. In
a UPT context, a number of opportunities arise to provide users with the
necessary resources for contributing to an enhanced travelling experience.
The development of coping strategies theme, illustrates major strategies that
travellers employed with existing resources, and that may be leveraged. In
addition to avoiding the negatives, by using past experiences or information
services, travellers engage in positive experiences shielding them negative
ones. The participants showed some aspects of this generativity in the
current usage of existing resources, such as using online service countdowns
to make decisions before arriving at the bus or train station – which could
be in itself transformed into some sort of personalised service.

193

7. System Evaluation
The result of making resources available and providing an extensible platform that members of a community or a social context can take advantage,
empowers them to take action and actively contribute to solve or improve
existing circumstances. The generativity [215] aspect of Cloud2Bubble supports the creation of new and unforeseen features and services, by making
resources available and extensible to members of the society, including an
instantiation methodology in Section 5.6.

7.4.3. Design for Privacy
Privacy is one of the cornerstones in the development of pervasive computing environments and has a number of implications in the way users
interact and use the system. The collection of di↵erent sources of data,
sometimes implicitly and without awareness, raises a number of challenges
and concerns. These issues and their implications have been the focus of
much research and a set of guidelines have been compiled into the Privacy
by Design (PbD) framework [28]. This framework is intended as a reference
for embedding privacy and data protection throughout the entire lifecycle
of technologies, from early design stage, deployment and disposal. From
a user’s perspective, privacy is a complex and malleable concept that is
dependent on a number of factors, including situation and social context.
The same tools that enable the collection and processing of such information must include equally capable features to ensure the privacy requirements and preferences are met. Secondly, such a vast and complete source
of personal data becomes a very desirable resource due to its potential in
characterising people’s preferences and patterns of behaviour in detail.The
collected data must therefore be handled and processed in accordance to
the clearly specified and agreed terms, or contract [166].
The domain specification in Cloud2Bubble provides a secure environment
for data storage and, more importantly, the tools for complete user control
over privacy preferences. The granular specification of access levels to different personal profile elements and in relation to specific environments, in
Section 5.3.1, allows users to define di↵erent levels of access that reflect their
preferences. Privacy functionality is thus embedded in the system, ensuring
its integrity [28]. The recommendation for an instantiation of Cloud2Bubble,
in addition to ensuring that users’ preferences are met as well as the stor-

194

7.4. Design Principles
age and handling of data, is to ensure users’ have a clear understanding of
what personal data is being collected and what is its purpose for the service. Furthermore, users should maintain ownership and control over their
personal data and thus any requests met, such as investigation of own data
and deletion upon request.

7.4.4. Design for Reliability
The vision of ubiquitous computing to transform everyday’s objects into
computing nodes, results in a transparent integration of both physical and
virtual worlds. An unintended consequence of this integration is the increasing unawareness, from a user interaction perspective, resulting in a reduced
sense of responsibility and an apparent detachment between user action and
system behaviour [78, 98].
Involving users in a reflective process, e↵ectively engaging them in the
process of deciding what action to take by the system, results in an increased awareness of their individual actions, as well as its impact on a
collective level.System behaviour should thus be clear and involve users in
the decision process; rather than autonomously deciding and acting upon
the environment. This explicit engagement allows them to evaluate the
system performance and reliability, ensuring the system behaviour is well
understood and expected.
The instantiations of Cloud2Bubble, as defined in Section 5.6, are recommended to define explicit and reflective interactions, as demonstrated in
Chapter 6. The result of this, in the context of UPT, led travellers to be
aware of their interactions with the platform and travelling context, which
allowed them to evaluate their travelling behaviour and consider alternative
services.

7.4.5. Design for Collective Awareness
Collective awareness is a central element for users to understand how their
individual actions contribute to the greater whole, by being aware of the
same data and share the same legal, social and cultural context. Thus,
collective awareness constitutes a mechanism for the direct, e↵ective and
inclusive ways for citizens to respond to societal challenges that require synchronised action, such as definition of policies, achieving sustainable changes

195

7. System Evaluation
and participation in democratic processes. Individual action is then translated from an isolated activity, perceived primarily as local-only and with
little or no global e↵ect, to collective action, where a social group or community actively contributes towards a commonly solution or activity.
The combination of technological resources, including networks of sensors
and big data, with personal networks and social capital, enables the development of platforms that aim at engaging citizens in addressing societal
challenges, e.g. by providing the necessary tools for citizen interoception
and realisation of individual contribution [67, 168]. For instance, establishing the relationship between individual and collective action allows users
to perceive their individual contribution towards the improvement of conditions on a global level [4].
The inclusion of QoE in the loop of interaction between users and platforms, in Section 4.3.1, provides a mechanism to assist in assessing users’
needs as well as a way of delivering a personalised service. Furthermore,
this supra-functional based personalisation has the potential to e↵ectively
impact users’ behaviour, for example, commuters’ adaptive behaviour to
new services, in Section 7.3.5, where o↵ering a personal and relevant information service (e.g. noise and crowd levels) results in adjusted behaviour
to avoid uncomfortable services.

7.5. Summary
This chapter presents the studies conducted to investigate the relationship
between users and ubiquitous environments in the context of UPT. The
results were analysed and discussed, that resulted in a number of valuable
insights and relevant findings. Due to their focus in UPT, some of these
insights are directly applicable in the development of ATIS, but are also
relevant to intelligent ubiquitous environments. A set of six design principles
were identified that provide the guidelines that result from the experience
in designing and applying the Cloud2Bubble platform and that inform the
future development of such smart systems.

196

8
Conclusions

In the context of intelligent ubiquitous environments, a number of user
experience-centric opportunities arise. These opportunities include, on an
individual level, improving quality of user experience, by addressing suprafunctional needs through service personalisation; and on a community or
group level, a wider and more significant impact on collective action, by
raising awareness and empowering individuals to actively contribute for a
common solution. The same resources that enable these opportunities, such
as personal digital information and a sensor saturated environment, are simultaneously at risk of being used of other less considerate purposes. For
instance, exploitation of private data for economical benefit or the enforcement of unwanted policies.
This thesis focuses on the existing opportunities in smart environments
for enhancing quality of experience and providing a foundation for collective
action, as well as identification of the risks associated with such environments. While the focus was on answering the research questions initially
proposed, the work developed constitutes a stepping stone in answering
more complex and broader questions. These broader questions relate to the
impact that a↵ective-oriented ubiquitous environments may have on quality
of user experience.

8.1. Summary
The research conducted in this thesis resulted in the following outcomes:
• a review of empathic user experience in the context of intelligent ubiq-

197

8. Conclusions
uitous systems;
• the definition of quality of experience based on users’ a↵ective response
in a ubiquitous environment;

• a review of the importance of urban mobility, and public transport in
particular, in supporting the sustainable development of smart cities;

• the identification of the main components, including functional, non-

functional and supra-functional needs, and high-level architecture of
an experience-centric platform;

• the implementation of a proof of concept platform accompanied by a
methodological procedure for its instantiation;

• an instantiation of the platform in the context of urban public transport;

• an evaluation of the platform in a controlled environment, as well as
the instantiated system based on two field studies, in London (UK)

and Porto (Portugal), leading to insights for both transport and general intelligent information systems;
• a discussion of the impact and opportunities of the Cloud2Bubble platform, resulting in a set of design principles for the design and development of ICT systems for design contractualism.

8.2. Limitations
The research carried out was subject to some limitations, here specified.
Firstly, the specified requirements and proposed implementation were developed under a broad scope. This allowed for a deeper investigation into
the implications and requirements of user experience centric smart environments. The proof-of-concept instantiation in public transport, however, was
subject to a narrower scope and focused primarily on the collection of user
and environment data, leaving the active service delivery aside. In addition, a broader study requires the cooperation with external entities, such
as the public transport providers, and other external resources that were
not available at this stage, in spite of the e↵orts made to involve them.

198

8.2. Limitations
Cloud2Bubble builds upon on a set of software packages that constitute
the foundation of the platform, and focuses on addressing users’ suprafunctional needs towards an enhanced user experience. While in a controlled environment the software performs as expected, the deployment of
the platform in a real-world environment required adaptations to face the
limitations posed. As a result, the architecture of the system was modified
to allow users’ personal devices to communicate directly with the system,
rather than integrating them as main components. At this stage the impact
of this modification was not significative, since in both studies the main
goal was to collect personal and environment data. The inclusion of a more
dynamic interaction between the di↵erent elements of the system requires a
deeper integration, that also explores the feasibility of integrating personal
devices on the platform.

The pilot study was an important step in the process of development of
this research to assess the feasibility of the study. It revealed, however,
that some of the sensing data initially targeted would be challenging to
obtain - due to device restrictions or sensor noise and unavailability. The
following field study was therefore modified to incorporate these findings,
with a smaller set of data sources.

The sample size of the field study in London (UK) provided a reasonable
amount of data for analysis and discussion. However, the demographic
profile of the participants was skewed towards higher education participants,
which may not be an exact representation of the population. In spite of
the e↵orts made for distributing the application - and the high number of
downloads - a relatively small percentage of users adhered to the study.

Finally, the Cloud2Bubble platform, while developed with smart environments in mind, was instantiated and investigated in a specific domain of
application. The characteristics of the domain, as well as its impact on
users and ability to adapt to the identified needs may be specific to a subset of all possible domains of application. The application on other domains
would be beneficial to strengthen the implementation of the platform and
its ideas.

199

8. Conclusions

8.3. Further Work
The research carried out opens interesting avenues for further development.
Cloud2Bubble was developed to a prototyping stage, primarily focused on
the questions raised through the course of this investigation. The platform is, however, open for further development that enables the continued
research on quality of experience influencing services and its impact on collective awareness.
From the user perspective, the findings support the development of personalised services with the focus on addressing supra-functional needs. Affective recommender systems, for example, may include emotion as a factor
for recommendation of products or services. The o↵ering of personalised
services in smart environments relies on common technology, such as the
definition of a user profile and preferences.
Finally, the instantiation of the platform on other domains of application within the scope of smart environments presents a number of opportunities and challenges for expanding service personalisation and collective
action to di↵erent contexts and how they integrate in an experience enhancing environment. The following Sub-Sections are based on the developed
methodology to provide an overview on an alternative instantiation of the
Cloud2Bubble platform.

8.3.1. Design Principles
The design principles, presented in Section 7.4, derive from both own work
and external sources, as identified. The work presented, however, may be
revisited and further expanded to include other aspects that are relevant to
Cloud2Bubble as a platform for collective action, namely Self-Governance
and Emergence. These two relevant concepts are briefly described as follows:
Design for Self-Governance
Collective awareness platforms require the organisation of citizens to solve
societal challenges. This not only requires synchronised collective action
but also self-governance: the ability of a group to exercise all of the necessary functions of power without intervention from any authority which they
cannot themselves alter. In social-ecological systems, as an example, self-

200

8.3. Further Work
organisation ensured the maintenance of natural resources in a sustainable
equilibrium, rather than a centralised governing body [158]. These have, in
fact, produced quite the opposite result in some instances.

Design for Emergence
In large and complex systems, as it is the case in social groups or communities, changes in the state of a↵airs are often unaccompanied by their supporting platforms. These rapid changes in social, technological and physical
environment, require a new type of intrinsically adaptive platforms that are
able to combine top-down control and coordination with bottom-up emergence and adaptation.
In the development of our studies, in particular during the interviews
with the users, it was noticeable the need for an adaptable ATIS platform,
able to incorporate preferences and needs as they emerge. For example, the
ability to provide personalised services according to travellers needs or even
o↵er novel immersive services to assist them while in transit.

8.3.2. The Workplace as a Domain of Application
This section provides an overview of how the methodology proposed may
be applied to alternative domains of application. Pervasive environments,
and smart cities in particular, provide a number of other applications. For
illustrative purposes, the workplace is going to be used.

Domain Specification
The workplace lends itself naturally to an experience enhancing experience.
In an office environment, the conditions and social interactions influence
workers wellbeing and performance. Let us take the hot-desking scenario,
as an example. In some organisations, desks are shared between multiple
workers in di↵erent time periods. This dynamic context o↵ers a number
of opportunities to assess and influence workers experience, based on the
surrounding environment as well as coworkers.

201

8. Conclusions
Data Modelling
A simple model would provide support for the di↵erent physical spaces.
For example, a Cloudlet entity may represent an office and perhaps, in the
case of open plan offices, sub-areas of the same room. One other level of
modelling would provide support for the existing social structure in the
workplace, for instance to assist users in finding coworkers in the office, in
case they are working on the same project, or even avoid for other reasons. The Bubble entity on its turn encapsulates all the worker personal
information.

System Behaviour
The system may provide workers with a personalised service that suggests
what area of the building they would feel more comfortable or productive.
For instance, find a quiet area, a well lit meeting room, based on sensors
spread in the building; or even the localisation of relevant coworkers. The
utility measure, in this domain, may be related with productivity as a function of wellbeing in the workplace and, therefore, directly related to QoE.

User Interface
The usage of personal computers for professional use provides a direct channel of interaction with workers, and integrates seamlessly in their daily
working experience. In addition, mobile devices may provide more context,
for the same reasons that make them attractive in the public transport
scenario. Similarly, services may be delivered directly to the device upon
relevant moments, such as suggesting an office upon arrival to the building.

Implementation & Testing
The implementation of the final solution includes the development of tools
that integrate within the platform used by workers. For example, a small
application installed on their computers or laptops that assists them with
enhancing their working experience. Similarly, a mobile application synced
with the platform would provide an even wider range of possibilities.

202

8.3. Further Work
Deployment
This stage focuses on deploying the Cloud2Bubble instance in order to start
acquiring information about the environment leading to service delivery,
that must include the provision of service to coworkers throughout a range
of contexts. The final deployment would enable the investigation of the
e↵ectiveness of the system for improving working conditions and worker
performance.

8.3.3. Commercial-oriented Applications
Personal digital information is becoming increasingly relevant, in particular
to provide personalised services. In addition to the benefit for the user,
having access to this data is attractive for a wide range of commercial and
governmental entities, as discussed.
Inspired by the a↵ective aspect that facilitates service personalisation
and the implications involved in maintaining and processing personal digital data, we propose a model to mediate this relationship. A cloud-based
model, defined as Empathy-as-a-Service (EaaS), provides a unified personal
profile that is harvested via multiple user interactions in a wide range of
domains. The idea of a unified personal profile is not new, and was discussed previously. One of the main goals is to ensure users’ privacy and
security requirements are met, while providing the necessary infrastructure
for a personalised service. There is room for innovation in targeting the
emotional dimension that contribute not only to single experiences, and to
wellbeing in general.
The proposal of an EaaS model is common to the di↵erent layers of the
service, in Figure 2.6, allowing external entities to integrate it as needed,
from the infrastructure to service levels. The EaaS model is responsible for
collecting and aggregating di↵erent data sources, as well as maintain privacy
preferences and ensuring its security and correct usage. From an external
provider point of view, the service is available to identify the personal needs
of their users; or identify a group of users with a certain need. The tailoring
of services is then made according to the specific needs, without compromising privacy, security or usability.

203

8. Conclusions

8.4. Final Comments
This thesis resulted in a user experience centric platform that aims at collecting and aggregating personal data to deliver personalised services in
intelligent ubiquitous environments. The research conducted focused primarily on the first research question, related to investigating the collection
of personal digital information and exploring its societal implications. The
development of these systems creates resources and functionality that, when
applied responsibly, benefits individual users and society in general. On the
other hand, there is a risk of exploitation of these platforms to achieve other,
less considerate, objectives. There are, therefore, a number of opportunities
to proceed towards delivering personalised services and support collective
action. In addition, a set of design principles ensures the development of
socio-technical platforms focused on user benefit, empowerment, awareness,
privacy as well as collectivity and sustainability, as the main pillars for
implementing design contractualism.

204

A
Cloud2Bubble Experiment

A.1. Participant Information Sheet
We are conducting research about a↵ective interactions with computer systems for assessing and influencing quality of user experience in ubiquitous
computing environments. We are currently investigating the relationship
between environment conditions, user satisfaction and emotional reactions.
A software platform is currently collecting environment and user data to
explore how these following dimensions relate:
• Wellbeing: measures overall user satisfaction with a situation or an
experience;

• Happy: cognitive pleasure, ranging from unhappy to happy;
• Relaxed: physical arousal, ranging from relaxed to tense.
You are invited to participate in this research and we would appreciate
any assistance you can o↵er, although you are under no obligation to do so,
and you may choose to end the experiment at any time.
Participation involves a visit to our laboratory at Imperial College London, for approximately 20 minutes. If you agree to participate, you will be
asked to perform a set of short tests using the developed prototype. Your
interactions with the application will be recorded and you will be asked to
provide feedback throughout the duration of the experiment.
All the information you provide and recorded data will remain anonymous and used solely by the researchers within the scope of this project.

205

A. Cloud2Bubble Experiment
Your name will not be used in any reports arising from this study. The
information collected during this study may be used in future analysis and
publications and will be kept indefinitely. At the conclusion of the study, a
summary of the findings will be available from the researchers upon request.
If you do not want to participate, you don’t have to give any reason for
your decision, you may withdraw at any time during the session and you
can also ask for the information you have provided to be withdrawn at any
time.
If you agree to participate in this study, please first complete the consent
form attached to this information sheet. Your consent form will be kept
separately from your data so that no-one will be able to identify your answers
from the information you provide.
Thank you very much for your time and help in making this study possible. If you have any questions at any time you can contact the responsible.

A.1.1. Consent Form
I have been given an explanation and understand the purpose of this research project. I have had an opportunity to ask questions and have them
answered. I understand that at the conclusion of the study, a summary of
the findings will be available from the researchers upon request.
I understand that the data collected from the study will be held indefinitely and may be used in future analysis.
I understand that I may withdraw myself and any information traceable
to me at any time without giving a reason, and without any penalty.
I understand that I may withdraw my participation during the session at
any time. I agree to take part in this research by completing the session.
I agree for my data, collected during this session, to be used in future
research reports and publications about this project.

A.2. Fuzzy Sets
The variables are modelled using piece-wise linear membership functions.The
linguistic terms are intended to be descriptive rather than precise definitions.

206

A.3. Fuzzy Rules

A.2.1. Input Variables
Luminosity (lux)
Dark: (x0 , y0 ) = (0, 1), (x1 , y1 ) = (150, 0)
Light: (x0 , y0 ) = (150, 0), (x1 , y1 ) = (1000, 1)
Noise (dB)
Quiet: (x0 , y0 ) = (0, 1), (x1 , y1 ) = (30, 1), (x2 , y2 ) = (50, 0)
Average: (x0 , y0 ) = (45, 0), (x1 , y1 ) = (52.5, 1), (x2 , y2 ) = (60, 0)
Loud: (x0 , y0 ) = (55, 0), (x1 , y1 ) = (80, 1), (x2 , y2 ) = (100, 1)
Arousal (reported)
Active: (x0 , y0 ) = (0, 0), (x1 , y1 ) = (10, 1)
Inactive: (x0 , y0 ) = (0, 1), (x1 , y1 ) = (10, 0)
Valence (reported)
Unhappy: (x0 , y0 ) = (0, 1), (x1 , y1 ) = (5.5, 0)
Happy: (x0 , y0 ) = (4.5, 0), (x1 , y1 ) = (10, 1)

A.2.2. Output Variable
QoE
Miserable: (x0 , y0 ) = (0, 0), (x1 , y1 ) = (1.25, 1), (x2 , y2 ) = (2.5, 0)
Bad: (x0 , y0 ) = (2.5, 0), (x1 , y1 ) = (3.75, 1), (x2 , y2 ) = (5, 0)
Good: (x0 , y0 ) = (5, 0), (x1 , y1 ) = (6.25, 1), (x2 , y2 ) = (7.5, 0)
Excellent: (x0 , y0 ) = (7.5, 0), (x1 , y1 ) = (8.75, 1), (x2 , y2 ) = (10, 0)

A.3. Fuzzy Rules
• IF arousal IS inactive AND valence IS happy
THEN qoe IS good

• IF arousal IS active AND valence IS happy
THEN qoe IS excellent

• IF arousal IS inactive AND valence IS unhappy
THEN qoe IS miserable

• IF arousal IS active AND valence IS unhappy
THEN qoe IS bad

• IF noise IS loud THEN qoe IS bad
• IF luminosity IS dark THEN qoe IS bad

207

A. Cloud2Bubble Experiment

A.4. Descriptive Statistics
Table A.1.: Cloud2Bubble evaluation, descriptive statistics
Variable (N)

Mean (SD)

Range

28.90 (4.86)

23-38

.14 (.04)

.07-.26

QoE (168)

6.99 (1.86)

1.5-10

Arousal (168)

3.15 (1.97)

0-9.1

Valence (168)

7.24 (1.81)

1.1-10

QoE Est. (168)

5.86 (1.60)

2.5-8.8

Sound (168)

56 (13)

31-73

Lumix (168)

311 (269)

4-583

Age (21)
Performance (84)

208

Group (N)
Female (7)
Male (14)
Female (28)
Male (56)
Pre (84)
Post (84)
Pre (84)
Post (84)
Pre (84)
Post (84)
Pre (84)
Post (84)
Quiet (84)
Noise (84)
Light (84)
Dark (84)

Mean (SD)
28.57 (5.28)
29.07 (4.66)
.14 (.04)
.14 (.04)
7.17 (1.78)
6.81 (1.92)
2.93 (1.86)
3.37 (2.05)
7.39 (1.71)
7.09 (1.89)
6.00 (1.60)
5.73 (1.60)
47 (12)
64 (9)
487 (172)
136 (230)

Range
23-38
25-38
.7-.21
.9-.26
1.5-10
1.8-10
0-8.3
0-9.1
2.1-10
1.1-9.9
2.6-8.8
2.5-8.8
31-69
34-73
4-583
4-583

B
Public Transport Study

B.1. Interview Protocol
The semi-structured interview includes the questions in the following sections, with flexibility to explore di↵erent aspects of the study as they emerge
during interview. There are two sections: a general one, focusing on the
overall study; and a second one, depending upon user consent, more specific targeting individual journeys.

B.1.1. Interview Script
Hi, thank you for participating in this study. I would like to ask you to
record this interview, if that’s ok. The recording will be used for research
purposes only and remain confidential.
The data you provided so far by recording and reporting your journeys
allows us to have a better understanding of the commuting experience in
public transport and how it may be improved. The goal of this interview is
to explore your personal views on this study.
The interview is composed of a set of general questions and, if you agree,
we will focus on some individual journeys as well. Do you have any questions
before we start?
• You used the mobile application in the last few weeks, can you tell me
about your experience?

209

B. Public Transport Study

Application related questions
I would like to ask you about your interaction with the mobile application.
• How would you describe its usage? What were the positives? And the
negatives?

• Could you explain me how was the application flow integrated with
your daily commute? Can you describe the Start, Stop and Feedback
moments?
• Focusing on the feedback form, how relevant do you think it was to
describe the environment? Would you add any other aspect?

• Since you started using the application, what would be the ratio between your reported and unreported journeys?

Environment related questions
• Let us focus a bit more on the overall environment, and not only on
the interaction with the application.

• How do you think the usage of this application impacted your consciousness about the journey conditions and characteristics?

• How do you think it impacted the way you feel about commuting?
And perceive it?

• In relation to your mood while travelling, do you feel a↵ected by your

commute? Do you think those changes are tied to any specific conditions?

• Can you describe your mental process to report your mood? Did you
do it in relation to the journey in isolation; or as an overall feeling you
were experiencing on that period of time?

Specific journey questions
Comment: As an example, the interviewee is asked to describe a specific
journey, in particular for the ones where a positive or negative comments
was provided. The goal is to explore that specific experience, its cause and
how it may be either avoided or repeated.

210

B.2. Fuzzy Sets
I would like to explore some of the journeys your reported.
• Could you tell me about the journey on (date), at (time)?
• You reported “(comment)”, would you be able to describe this situation?

• How do you think this situation could be solved / improved / replicated?

• What would you personally do to solve / improve / replicate the scenario?

Data collection and sharing questions
The final part of this interview is related to personal information.
• Are you aware of the data being collected? How intrusive do you think
collecting such personal information is?

• Do you see yourself using this application outside this study? How
would you be interested in continuing using it?

• What type of services would you be interested in getting from this
application in a commuting scenario?

I don’t have any further questions. Is there anything you would like to
ask me? I would like to thank your participation once again. Feel free to
contact us at any time, should any questions arise.

B.2. Fuzzy Sets
B.2.1. Input Variables
Luminosity (lux):
Dark: (x0 , y0 ) = (0, 1), (x1 , y1 ) = (150, 0)
Light: (x0 , y0 ) = (150, 0), (x1 , y1 ) = (1000, 1)
Noise (dB):
Quiet: (x0 , y0 ) = (0, 1), (x1 , y1 ) = (30, 1), (x2 , y2 ) = (50, 0)
Average: (x0 , y0 ) = (45, 0), (x1 , y1 ) = (52.5, 1), (x2 , y2 ) = (60, 0)

211

B. Public Transport Study
Loud: (x0 , y0 ) = (55, 0), (x1 , y1 ) = (80, 1), (x2 , y2 ) = (100, 1)
Vibration (dB):
Smooth: (x0 , y0 ) = (0, 1), (x1 , y1 ) = (88, 1), (x2 , y2 ) = (103, 1)
Rough: (x0 , y0 ) = (88, 0), (x1 , y1 ) = (103, 1), (x2 , y2 ) = (150, 1)
Speed (kmh):
Slow: (x0 , y0 ) = (0, 1), (x1 , y1 ) = (14, 1), (x2 , y2 ) = (18, 0)
Moderate: (x0 , y0 ) = (14, 0), (x1 , y1 ) = (18, 1), (x2 , y2 ) = (29, 1), (x3 , y3 ) =
(33, 0)
Fast: (x0 , y0 ) = (29, 0), (x1 , y1 ) = (33, 1), (x2 , y2 ) = (100, 1)
Arousal (reported):
Active: (x0 , y0 ) = (0, 0), (x1 , y1 ) = (10, 1)
Inactive: (x0 , y0 ) = (0, 1), (x1 , y1 ) = (10, 0)
Valence (reported):
Unhappy: (x0 , y0 ) = (0, 1), (x1 , y1 ) = (5.5, 0)
Happy: (x0 , y0 ) = (4.5, 0), (x1 , y1 ) = (10, 1)

B.2.2. Output Variable
QoE:
Miserable: (x0 , y0 ) = (0, 0), (x1 , y1 ) = (1.25, 1), (x2 , y2 ) = (2.5, 0)
Bad: (x0 , y0 ) = (2.5, 0), (x1 , y1 ) = (3.75, 1), (x2 , y2 ) = (5, 0)
Good: (x0 , y0 ) = (5, 0), (x1 , y1 ) = (6.25, 1), (x2 , y2 ) = (7.5, 0)
Excellent: (x0 , y0 ) = (7.5, 0), (x1 , y1 ) = (8.75, 1), (x2 , y2 ) = (10, 0)

B.3. Fuzzy Rules
• IF arousal IS inactive AND valence IS happy
THEN qoe IS good

• IF arousal IS active AND valence IS happy
THEN qoe IS excellent

• IF arousal IS inactive AND valence IS unhappy
THEN qoe IS miserable

• IF arousal IS active AND valence IS unhappy
THEN qoe IS bad

• IF noise IS loud THEN qoe IS bad

212

B.4. Mobile Application Screens
• IF luminosity IS dark THEN qoe IS bad
• IF vibration IS smooth THEN qoe IS good
• IF vibration IS rough THEN qoe IS bad
• IF speed IS slow OR speed IS fast THEN qoe IS bad
• IF speed IS fast AND vibration IS rough
THEN qoe IS miserable

• IF noise IS quiet AND vibration IS smooth

AND speed IS moderate THEN qoe IS excellent

B.4. Mobile Application Screens

213

B.5. Descriptive Statistics

B.5. Descriptive Statistics
Table B.1.: UPT field study, descriptive statistics
Variable (N)

Mean (SD)

Range

Mean (SD)

Range

30.55 (8.31)

21-58

Female (9)
Male (20)

31.9 (4.6)
30.0 (9.6)

27-39
21-58

Arousal (698)

4.75 (2.01)

0-10

Bus (229)
Train (468)

5.42 (2.03)
5.16 (2.0)

.1-10
0-10

Valence (698)

5.18 (2.11)

0-10

Bus (229)
Train (468)

5.41 (1.98)
5.07 (2.16)

.2-10
0-10

Noise (698)

5.53 (2.07)

0-10

Bus (229)
Train (468)

5.73 (1.91)
5.44 (2.15)

0-10
0-10

Saturation (698)

5.04 (2.68)

0-10

Bus (229)
Train (468)

5.65 (2.40)
4.75 (2.76)

0-10
0-10

Ambience (698)

5.09 (1.66)

0-9.4

Bus (229)
Train (468)

5.27 (1.41)
4.99 (1.76)

.8-9
0-9.4

Smoothness (698)

5.72 (1.86)

0-10

Bus (229)
Train (468)

5.47 (1.80)
5.84 (1.89)

1.5-9.2
0-10

Reliability (698)

5.78 (2.01)

0-10

Bus (229)
Train (468)

5.27 (1.53)
6.04 (2.16)

0-9.6
0-10

Speed (698)

5.79 (2.13)

0-10

Bus (229)
Train (468)

5.40 (2.01)
5.98 (2.16)

0-10
0-10

Sound (569)

61.9 (8.1)

2.4-73.6

Bus (187)
Train (382)

65.8 (6.8)
60.1 (8.0)

37.1-73.4
2.4-73.6

Lumix (420)

81.4 (169.9)

0-1166.8

Bus (125)
Train (295)

119.8 (224.5)
64.6 (137.8)

0-1166.8
0-954.1

Vibration (569)

47.5 (9.6)

.2-53.3

Bus (187)
Train (382)

49.8 (3.4)
46.4 (11.3)

10.3-53.3
0.2-53.3

Location (0)

NA (NA)

NA

NA

NA

17:58 (14:09)

0:26-59:59

16:15 (12:35)
18:49 (15:02)

0:44-59:59
0:26-59:59

Age (29)

Duration (698)

Group (N)

NA
Bus (229)
Train (468)

B.5.1. Comments
cheaper; stuck in traffic; app crashed suddenly; less kids; my shoulder hurts badly, needed
a seat; people stop pushing the button multiple times for the same stop; driver was crazy;
clean bus; smelly; left the phone on the seat the whole time; don’t really know how to judge
reliability based on one single trip, so I didn’t change it; nice view; less squeaky breaks;
not having the people that spit chewing gum on the floor; can you see from the oscillation
data that I was playing abduction the whole trip? Hahaha; old man complaining about

217

B. Public Transport Study
foreigners; I was eating, wasn’t paying attention. nothing was above my comfortable
threshold; bus to the door, really cool; Removal of noisy girls. ; I took the wrong metro
grr; I had to carry heavy bag so was really unhappy ; I had to carry some heavy bags so
didn’t enjoy it; I was after drinks after work; left 4mins late; train was one min late and
arrived 4 min late.; was 1min late and arrived 4mins late at the destination; left 4 mins
late arrived 8 mins late.; return to Wimbledon is a hassle and unreliable. number of times
it terminated at phipps bridge put me of travel; late as always; left 5mins late arrived 6
mins late; was 2 mins late today due to previous delayed trains; A touch late arriving;
was fine; quite crowded difficult to get o↵; on time for a change. more like this!; Previous
train was canceled, this train full with no seats. More carriages, don’t cancel trains; Train
full and slow; metropolitan trains to wait until jubilee train opens doors; victoria line
very crowded, no fresh air till oxford st. after this stop was fine-got a seat!; noisy due to
air conditioning and very cold.; too crowded. need more frequent buses during rush hour;
had a little girl spelling out loud all the words that her mum was saying. annoying!; less
delays; too crowded; reduce the noise from the tracks. it was very cold. ; messages on
the train are too loud.; passenger emergency alarm pulled. very slow; newer buses with
better lighting and suspension ; was meant to go to Victoria but terminated early driver
unhelpful ; better signaling on the track; Not be cancelled after 1 stop; No more loud
kids getting on and sitting right behind me please !; No loud children or old bigots !; no
screaming kids and yelling parents; Not being hungover would have been a good start...;
I snoozed for most of it so who knows...; Cleaner bus; The bus was vibrating so strongly
that my glasses were bouncing around on my nose !; Not be held at Barons Ct due to a
problem with the train behind ! (was going to Hammersmith); No drunk Scotsman trying
to make conversation...
125
8

Affect
Satisfaction

7
75

Report

Number of Journeys

100

50

6

5
25
4
0
0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23

0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23

Hour

Hour

(a) Number of Journeys vs.
Day

Time of (b) A↵ect and Satisfaction Reports vs.
Time of Day

Figure B.1.: Journeys and user reports over time

218

B.6. Data Schemas

B.6. Data Schemas
{

" title " : " Journey " ,
" description " : " Describes a single journey details ." ,
" type " : " object " ,
" properties " : {
" local_id " : {
" description " : " Device specific journey identifier "
,
" type " : " integer "
},
" start_time " : {
" description " : " Date and time of start of journey " ,
" type " : " datetime "
},
" end_time " : {
" description " : " Date and time of end of journey " ,
" type " : " datetime "
},
" line " : {
" description " : " Train / bus service line used " ,
" type " : " string "
},
" origin " : {
" description " : " Station / stop of origin " ,
" type " : " string "
},
" destination " : {
" description " : " Station / stop of destination " ,
" type " : " string "
}
},
" required " : [ " local_id " , " start_time " , " end_time " , " line " ,
" origin " , " destination " ]

}

Listing B.1: Journey object schema
{

" title " : " User " ,
" description " : " Describes user profile ." ,
" type " : " object " ,
" properties " : {

219

B. Public Transport Study
" id " : {
" description " : " User identifier , based on device " ,
" type " : " integer "
},
" age " : {
" description " : " User ’ s age " ,
" type " : " integer "
},
" gender " : {
" description " : " User ’ s gender " ,
" type " : " string "
},
" education " : {
" description " : " User ’ s education level " ,
" type " : " string "
},
" occupation " : {
" description " : " User ’ s current occupation " ,
" type " : " string "
}

},
" required " : [ " id " ]
}

Listing B.2: User object schema
{

220

" title " : " Feedback " ,
" description " : " Describes the feedback for a journey " ,
" type " : " object " ,
" properties " : {
" journey " : {
" description " : " Identifies the journey it belongs " ,
" type " : " Journey "
},
" user " : {
" description " : " Identifies the user " ,
" type " : " User "
},
" arousal " : {
" description " : " Happy feedback " ,
" type " : " integer "
},
" valence " : {
" description " : " Relaxed feedback " ,

B.6. Data Schemas

" type " : " integer "
},
" sound " : {
" description " : " Noise feedback " ,
" type " : " integer "
},
" saturation " : {
" description " : " Crowding feedback " ,
" type " : " integer "
},
" smoothness " : {
" description " : " Smooth feedback " ,
" type " : " integer "
},
" ambience " : {
" description " : " Ambience feedback " ,
" type " : " integer "
},
" speed " : {
" description " : " Speed feedback " ,
" type " : " integer "
},
" reliability " : {
" description " : " Reliable feedback " ,
" type " : " integer "
},
" comment " : {
" description " : " Open text feedback " ,
" type " : " string "
},

},
" required " : [ " journey " , " arousal " , " valence " , " sound " , "
saturation " , " smoothness " , " ambience " , " speed " , "
reliability " ]
}

Listing B.3: Feedback object schema
{

" title " : " Sensed " ,
" description " : " Reports all sensed data for a journey " ,
" type " : " object " ,
" properties " : {
" journey " : {
" description " : " Identifies the journey it belongs " ,

221

B. Public Transport Study

" type " : " Journey "
},
" timestamp " : {
" description " : " Date and time of sensing " ,
" type " : " array " ,
" items " : {
" type " : " datetime "
}
},
" acceleration " : {
" description " : " Accelerometer sensed data " ,
" type " : " array " ,
" items " : {
" type " : " long "
}
},
" humidity " : {
" description " : " Humidity sensed data " ,
" type " : " array " ,
" items " : {
" type " : " long "
}
},
" latitude " : {
" description " : " Location latitude sensed data " ,
" type " : " array " ,
" items " : {
" type " : " long "
}
},
" longitude " : {
" description " : " Location longitude sensed data " ,
" type " : " array " ,
" items " : {
" type " : " long "
}
},
" light " : {
" description " : " Luminosity sensed data " ,
" type " : " array " ,
" items " : {
" type " : " long "
}
},

222

B.6. Data Schemas
" pressure " : {
" description " : " Pressure sensed data " ,
" type " : " array " ,
" items " : {
" type " : " long "
}
},
" proximity " : {
" description " : " Proximity sensed data " ,
" type " : " array " ,
" items " : {
" type " : " long "
}
},
" sound " : {
" description " : " sound sensed data " ,
" type " : " array " ,
" items " : {
" type " : " long "
}
},
" temperature " : {
" description " : " Thermometer sensed data " ,
" type " : " array " ,
" items " : {
" type " : " long "
}
}

},
" required " : [ " journey " , " timestamps " ]
}

Listing B.4: Sensed object schema

223

C
Questionnaires

225

Pre-Usability Test Questionnaire
I. Public Transport
What modes of transportation do you use on your usual journeys?
! _ Bus!
_ Coach!
_ DLR!
_ Rails!
_ River!
_Tram!

_ Tube

What is the main purpose of your Public Transport usage?
! ___________________________________________________
How often, on average, do you use Public Transport for:
More than once per
About everyday
2 to 6 times a week Once a week, or less Only when needed
day
( )
( )
( )
( )
( )
( )
( )
( )
( )
( )
While in-transit, how do you browse for journey alternatives?
! _____________________________________________________
What are the main factors for deciding a journey alternative?
! _ Duration!
_ Time!
_ Cost!
_ Mode!
_ Other _________________________________
In what area do you usually use Public Transport?
! eg, start and stop destinations in your usual commute)
! _____________________________________________________
What is your opinion about your journey experience?
Bad

Below Average

Neutral

Above Average

Good

Comfort

( )

( )

( )

( )

( )

Timeliness

( )

( )

( )

( )

( )

Crowded

( )

( )

( )

( )

( )

Noisy

( )

( )

( )

( )

( )

Easy to Plan

( )

( )

( )

( )

( )

Easy to Commute

( )

( )

( )

( )

( )

Public Info

( )

( )

( )

( )

( )

II. Smartphone Usage
How comfortable do you feel using mobile devices?
! _ Uncomfortable! _ Not very comfortable! _ Netral! _ Comfortable! _ Very Comfortable
What kind of mobile phone(s) do you use on a regular basis?
! _ Android OS based!
_ iOS based!
_ Windows based!
_ Other
!
!
!
!
___________________
I use my smartphone for:
! _ voice communication (calls, video calls, skype)!
_ instant messaging (SMS, messaging)
! _ internet (browsing, news, social networking)!
_ entertainment (music, films, games)
! _ services (information, banking, shopping)!
_ productivity (writing documents, photo editing)
Do you use any journey planning app, or realtime transit information on your device?
! _ Yes, the app(s) is/are: _________________________________
! _ No

Post-Usability Test Questionnaire (1/2)
I. Tasks
I understand the purpose of the task:
Strongly Disagree

Disagree

Neutral

Agree

Strongly Agree

1.1

( )

( )

( )

( )

( )

1.2

( )

( )

( )

( )

( )

1.3

( )

( )

( )

( )

( )

1.4

( )

( )

( )

( )

( )

1.5

( )

( )

( )

( )

( )

1.6

( )

( )

( )

( )

( )

1.7

( )

( )

( )

( )

( )

1.8

( )

( )

( )

( )

( )

2.1

( )

( )

( )

( )

( )

2.2

( )

( )

( )

( )

( )

2.3

( )

( )

( )

( )

( )

3.1

( )

( )

( )

( )

( )

3.2

( )

( )

( )

( )

( )

The tool assisted me in completing the task:
Strongly
Disagree Neutral
Agree
Disagree

Strongly
Area reserved for the researcher
Comments
Agree Duration

1.1

( )

( )

( )

( )

( )

_____

_____________________________

1.2

( )

( )

( )

( )

( )

_____

_____________________________

1.3

( )

( )

( )

( )

( )

_____

_____________________________

1.4

( )

( )

( )

( )

( )

_____

_____________________________

1.5

( )

( )

( )

( )

( )

_____

_____________________________

1.6

( )

( )

( )

( )

( )

_____

_____________________________

1.7

( )

( )

( )

( )

( )

_____

_____________________________

1.8

( )

( )

( )

( )

( )

_____

_____________________________

2.1

( )

( )

( )

( )

( )

_____

_____________________________

2.2

( )

( )

( )

( )

( )

_____

_____________________________

2.3

( )

( )

( )

( )

( )

_____

_____________________________

3.1

( )

( )

( )

( )

( )

_____

_____________________________

3.2

( )

( )

( )

( )

( )

_____

_____________________________

Post-Usability Test Questionnaire (2/2)
II. Prototype
I understand the purpose of the application and its functioning.
! _ Strongly Disagree!
_ Disagree!
_ Neutral! _ Agree!

_ Strongly Agree

I would like to use this application in my own commuting scenario.
! _ Strongly Disagree!
_ Disagree!
_ Neutral! _ Agree!
_ Strongly Agree
Navigating through the different application was easy and intuitive.
! _ Strongly Disagree!
_ Disagree!
_ Neutral! _ Agree!
_ Strongly Agree

III. Comments
Please provide us with your comments, suggestions and recommendations.
! _______________________________________________________________
! _______________________________________________________________
! _______________________________________________________________
! _______________________________________________________________
! _______________________________________________________________
! _______________________________________________________________
! _______________________________________________________________

Quality of Experience in Public Transport, Participant Selection
This questionnaire will be used in the selection of participants for an experiment to assess the journey quality
in Public Transports between May and June 2012. Your contribution is essential to the success of this
project.

I. Public Transport Usage
Do you use Public Transport on a regular basis?
! _ Yes, and I own a subscription (eg, monthly ticket, pre-paid ticket)
! _ Yes, but I don’t own a subscription!
_ No
How often, on average, do you use Public Transport for:
More than
once per day

About
everyday

2 to 6 times a
week

Once a week,
or less

Never

your main activity
(work, college, ...)

( )

( )

( )

( )

( )

other purposes
(leisure... )

( )

( )

( )

( )

( )

How much time do you spend, on average, in a single journey?
! _______
What modes of transportation do you use on your usual journeys?
! _ Bus!
_ Coach!
_ DLR!
_ Rails!
_ River!
_Tram!

_ Tube

In what area do you usually use Public Transport?
! eg, start and stop destinations in your usual commute)
! _____________________________________________________
In what way do you think your journey experience can be improved?
! tell us your ideas and suggestions for service improvements
! _____________________________________________________
! _____________________________________________________
! _____________________________________________________
! _____________________________________________________

II. Mobile Device Usage
What kind of smartphone(s) do you use on a regular basis?
! _ Android OS based!
_ iOS based!
_ Windows based!
_ Other
!
!
!
!
___________________
I use my smartphone for:
! _ voice communication (calls, video calls, skype)!
_ instant messaging (SMS, messaging)
! _ internet (browsing, news, social networking)!
_ entertainment (music, films, games)
! _ services (information, banking, shopping)!
_ productivity (writing documents, photo editing)

III. Demographic Information
Age!

_____!

Main Occupation
! _ Work Full Time!
! _ Not working!

Gender ! _ M _ F!

Contact (e-mail) _______________________________

_ Work Part Time!
_ Unemployed!

_ Student Full Time!
_ Retired

_ Student Part Time!

Level of Education
! _ Less than High School! _ High School! _ Bachelor’s degree! _ Master’s degree! _ Doctoral degree
I’m willing to actively contribute with daily, anonymous reports on my Public Transport experience
through my smartphone during the course of this experiment.!
_ Yes!
_ No

D
Mobile Application Usability Test

D.1. Participant Information Sheet
We are conducting research into a↵ective ubiquitous computing for enhancing quality of experience in urban public transport at Imperial College London. We are investigating new ways to support peoples’ travelling decisions
based on their emotional states and environment conditions. A smartphone
application will be developed as an interface with the commuter. In order to explore our ideas, we are involving regular travellers in the design,
usability testing and evaluation of the application prototype. This study,
in particular, focuses on testing design ideas for better serving the general
public.
You are invited to participate in this research and we would appreciate
any assistance you can o↵er, although you are under no obligation to do so,
and you may choose to end the test at any time.
Participation involves one visit to our laboratory at Imperial College London, for approximately 30 minutes. If you agree to participate, you may be
asked to perform a number of tasks using an application prototype. The
scenarios and tasks will be fully explained. You will be asked to navigate
through the prototype to accomplish the tasks provided. The activities you
undertake and the time you spend working on each task will be digitally
recorded together with synchronised video. You will be asked to fill in a
short questionnaire about your age, education level and existing experience
with the tasks and technology, as well as a short questionnaire on your experience afterwards. This is a test of the application; we are not testing

231

D. Mobile Application Usability Test
you. If you find something difficult to use, chances are that others will do
as well. This test is simply a mean of evaluating the application design, to
discover any issues we need to address and improve its usability.
All the questionnaire information you provide and recorded data will remain anonymous and used solely by researchers whithin the scope of this
project. Your name will not be used in any reports arising from this study.
The information collected during this study may be used in future analysis and publications and will be kept indefinitely. At the conclusion of the
study, a summary of the findings will be available from the researchers upon
request.
If you do not want to participate, you don’t have to give any reason for
your decision. If you do participate, you may withdraw at any time during
the session and you can also ask for the information you have provided to
be withdrawn at any time.
If you agree to participate in this study, please first complete the consent form attached to this information sheet. Your consent form will be
kept separately from your questionnaire data so that no-one will be able to
identify your answers from the information you provide.
Thank you very much for your time and help in making this study possible. If you have any questions at any time you can contact the responsible.

D.1.1. Consent Form
I have been given an explanation and understand the purpose of this research project. I have had an opportunity to ask questions and have them
answered. I understand that at the conclusion of the study, a summary of
the findings will be available from the researchers upon request.
I understand that the data collected from the study will be held indefinitely and may be used in future analysis.
I understand that I may withdraw myself and any information traceable
to me at any time without giving a reason, and without any penalty.
I understand that I may withdraw my participation during the session at
any time. I agree to take part in this research by completing the session.
I agree/do not agree for my digital and video recordings, taken during the
session, to be used in future research reports and publications about this
project.

232

D.2. Usability Test Script

D.2. Usability Test Script
Title: Smart Mobile Sensing for Measuring Quality of
Experience in Urban Public Transport
Persona and Context
You are a worker/student in London with a fixed/semi-flexible schedule. In
addition, you go to your workplace/college every day using urban public
transportation. You downloaded the application, and you expect it to suggest you alternative routes. You were guided through the steps explaining
it how the application works. Finally, you have a wearable device, e.g. a
smartwatch, capable of collect a↵ective readings, compatible with the application.

Scenario 1
Today you go to work/college and you want to collect the data from the
journey to support the quality of journey inference.
Tasks
1. You enter the vehicle. Start collecting the application data for the
trip.
2. Connect your smartphone to your smartwatch, so you may collect
personal a↵ective data.
3. Ensure the application is receiving data from your wearable device.
4. While travelling you want to navigate through the application. What
is the delay of the current vehicle you are in?
5. You have to make a call so you exit the application. When you are
finished, check your personal profile.
6. You realise your profile is wrong so you want to edit. Change preferred
temperature to 18 C to 20 C interval.
7. You arrived at the workplace/college, stop sensing.

233

D. Mobile Application Usability Test
8. When you received a notification, provide your feedback for the journey.

Scenario 2
You have had the application for some time now and gathered enough personal information from your trips. Today you want to go play tennis with a
friend on the other side of town and you decide to use public transportation.
Tasks
1. Plan the trip from the closest station to the tennis complex, pick your
preferred alternative.
2. You decide you will play tennis at this time every week and you do
not want to plan it every time. Find a way to receive notifications in
the following weeks when the conditions are not the best for you.
3. You finished your trip and you received one notification, but you are
late and do not have time to respond now.
4. Later on you device to review the journey. You decide the comfort
inference is not correct and decide to correct it.

Scenario 3
You are coming back home from work in the afternoon. However, today
there is a special event in the city, making public transportation more
crowded than usual. You receive a notification on your smartphone.
Tasks
1. How are you going to get home today?
2. You have to do some shopping in a di↵erent location from. How would
you plan for an intermediate destination?

D.2.1. Prototype Screens

234

E
Mobile Application User Manual

239

Angry Commuters
User Manual
London, November 2012

Contents
Goals ..................................................................................................................................................2
What is Angry Commuters? ............................................................................................................2

1. Install .......................................................................................................................3
2. Using the Application ............................................................................................4
2.1. Overview .....................................................................................................................................4
2.2. Usage Example ..........................................................................................................................6

3. Data Handling and Privacy ....................................................................................7
4. Contacts .................................................................................................................7

Angry Commuters - User Manual

Goals
The main goal of this study is to collect user data from a sample of regular passengers, or commuters, representative of the potential future users. The data collected is obtained through the Angry
Commuters application and sent to a server for further analysis. This information enable us to analyse
in what way journey conditions influence the perception and experience of each traveller. Thus, this
experiment will allow us to explore comfort patterns for each individual traveller.

What is Angry Commuters?
1. Angry Commuters is a mobile application that enables the interaction between a central system
and users. From the app is possible to collect or sense certain environment variables while in transit.
This collection of data is done through smartphone sensors and other sensors installed throughout
the public transport network. These data is aggregated with the emotional state of the user based on
their perception of the journey, using participatory sensing.
2. After a journey, all the information is sent to a cloud-based system through the communication
network where it is processed. This enables the generation of user profiles, with preferences based
on the context-emotional correlations identified. The profile will become increasingly accurate with a
higher number of reported journeys.
3. Finally, with access in real-time to public transport conditions as well as user profiles (including
their daily/weekly routines) Angry Commuters aims at informing the user through the smartphone of
alternatives with the potential to provide an enhanced travelling experience. In addition, it allows for a
personalised search for better alternatives at any given moment.
Note: Given the project’s early stage of development, the application is focused on stages 1.
and 2. described above.
More information available at http://www.cloud2bubble.com/case-studies/experiment/

2

Angry Commuters - User Manual

1. Install
You may install Angry Commuters via the Google Play Store:
1. Search for “Angry Commuters” on the Google Play Store app;
2. Press “Install” at the top of the screen;
3. Read and accept the app permissions to initiate the download
and installation;
4. When finished, press “Open” and find it on your app list.
5. Quando terminado, pressionar “Abrir” ou encontrá-la na sua lista
de aplicações.
Alternatively, you can install it through the browser via:

https://play.google.com/store/apps/details?id=com.cloud2bubble.trial

Spread a little empathy on your journey to work with the Angry Commuters app - The Next Web
http://tnw.to/mJrx
20 Best Android apps this week - The Guardian

http://www.guardian.co.uk/technology/appsblog/2012/nov/09/best-android-ap
ps-boots-echofon
Best Android apps this week - Stuﬀ Magazine

http://www.stuff.tv/best-android-apps-week/news-7

3

Angry Commuters - User Manual

2. Using the Application
Angry Commuters follows a simple structure, the following descriptions provide an overview of the
main features available on this version of the application.

2.1. Overview

1. Main Screen

2. Journey details

3. Sensing

- start journey sensing with “Start”

- input journey details

- “Now” show live details as they

- press the “Menu” option for extra

- memory for previous journeys

are being collected from the sen-

- these details may be added at any

sors

options
- “Sensing” is not available until the
data collection is initiated

point during the journey, however
they will be needed before finishing

- the options at the top lead to
screens (7) and (2) respectively
- “This Line” not implemented

4

Angry Commuters - User Manual

4. Journey Feedback

5. Revisions List

6. Trial Info

- move the sliders according to your

- “User Feedback” shows journeys

- edit personal profile: age, gender,

satisfaction with the journey
- insert optional comment
- press “Done” when finished
- may be filled in later, at users’ own
convenience

awaiting for user feedback
- chronological order: most recent
at the top

education and occupation
- quick instructions on how to use
the application

- “System Reviews” not implemented

- progress bar showing number of
reported journeys

Note: The screens shown are taken from the Android 4.0 version. The look may vary in older
versions of the platform.
Note: Not all features are implemented at this stage. This image is
shown for the features that are not available, with a description of its
functionality.

5

Angry Commuters - User Manual

2.2. Usage Example

1. Press “START” on the

2. Insert journey details

3. The notification

4. Inspect what data is

main screen to initiate

at any point: beginning,

shows the state of data

being collected and cur-

journey sensing after

during or end

collection

rent values.

5. STOP journey sensing

6. The notification show

7. Press the notification at

8. Provide your journey

before leaving the vehicle,

the pending feedback for

the top at any point, or go

feedback with an op-

on the main screen or in

that (or more) journeys

to Trip Reviews later

tional comment

boarding the vehicle

Sensing

6

Angry Commuters - User Manual

3. Data Handling and Privacy
The process of data collection is only active while Sensing is active, for sensor data, via the feedback
form and the personal profile. The sensors used are: microphone, location, motion, temperature, luminosity and barometric pressure. Support may vary depending on your device model, and may be
deactivated on the Settings screen.
All data is collected anonymously, no personal identifiers are included in the data. A unique identifier
is generated when the application is installed, that allows us to group journeys from the same source,
however, it doesn’t identify the individual in any way.
We would like you to use the application continuously to provide us with a reasonable amount of
data. You can check your progress on the Trial Info screen. If you wish to stop contributing you may
do so at any time, deleting the application will erase the unique identifier used to collect data.
If you wish, we can provide you with a summarised report of your personal contribution. To do so,
please contact the researchers, as you will need to provide a form of data identification. Finally, any
personal generated data will be deleted upon request.

4. Contacts
You can get more information about the project visiting www.cloud2bubble.com
At this stage of the project, your contribution is essential for us to explore and improve the quality of
your commute. Your feedback is highly appreciated. For further questions, suggestions or any other
comments, please contact:
•

Pedro Maurício Costa
pm.costa@imperial.ac.uk
Imperial College London

Happy commuting!

7

Bibliography

[1] Abou-Zeid, M., and Ben-Akiva, M. Happiness and travel behavior modification. Proceedings of the European Transport Conference
(2008).
[2] Abou-Zeid, M., and Ben-Akiva, M. The e↵ect of social comparisons
on commute well-being. Transportation Research Part A: Policy and
Practice 45, 4 (May 2011), 345–361.
[3] Abowd, G., Mynatt, E., and Rodden, T. The human experience [of
ubiquitous computing]. Pervasive Computing, IEEE 1, 1 (2002), 48–
57.
[4] Adger, W. N. Social Capital , Collective Action , and Adaptation to
Climate Change. Economic Geography 79, 4 (2003), 387–404.
[5] Adomavicius, G., and Tuzhilin, a. Toward the next generation of
recommender systems: a survey of the state-of-the-art and possible
extensions. IEEE Transactions on Knowledge and Data Engineering
17, 6 (June 2005), 734–749.
[6] A↵ectiva.

Q Sensor:

Emotional Arousal Measurement.

www.

qsensortech.com, 2009. Accessed: July 2013.
[7] Allanson, J., and Fairclough, S. A research agenda for physiological
computing. Interacting with Computers 16, 5 (2004), 857–878.

249

Bibliography
[8] Alusi, A., Eccles, R. G., Edmondson, A. C., and Zuzul, T. Sustainable cities: oxymoron or the shape of the future? In Harvard Business School Organizational Behviour Unit Working Paper, vol. 110062
(2011), 27.
[9] Anable, J., and Gatersleben, B. All work and no play? The role
of instrumental and a↵ective factors in work and leisure journeys by
di↵erent travel modes. Transportation Research Part A: Policy and
Practice 39, 2-3 (Feb. 2005), 163–181.
[10] Arapakis, I., Moshfeghi, Y., and Joho, H. Integrating facial expressions into user profiling for the improvement of a multimodal recommender system. In Multimedia and Expo, 2009. ICME 2009. IEEE
International Conference on (2009), 1440–1443.
[11] Armbrust, B., Griffith, R., Joseph, A. D., Katz, R., Konwinski, A.,
Lee, G., Patterson, D., and Rabkin, A. A View of Cloud Computing.
Communications of the ACM 53, 4 (2010), 50–58.
[12] Atzori, L., Iera, A., and Morabito, G. The Internet of Things: A
survey. Computer Networks 54, 15 (Oct. 2010), 2787–2805.
[13] Azizyan, M., and Choudhury, R. R. SurroundSense : Mobile Phone
Localization via Ambience Fingerprinting. In MobiCom ’09 Proceedings of the 15th annual international conference on Mobile computing
and networking (2009), 261–272.
[14] Baker, D. a., and Crompton, J. L. Quality, satisfaction and behavioral
intentions. Annals of Tourism Research 27, 3 (July 2000), 785–804.
[15] Baltrunas, L., Ludwig, B., Peer, S., and Ricci, F. Context relevance
assessment and exploitation in mobile recommender systems. Personal
and Ubiquitous Computing 16, 5 (June 2011), 507–526.
[16] Bardram, J. E. Activity-based computing: support for mobility and
collaboration in ubiquitous computing. Personal and Ubiquitous Computing 9, 5 (Jan. 2005), 312–322.
[17] Beauregard R, Younkin, A., Corriveau, P., Doherty, R., and Salskov,
E. Assessing the Quality of User Experience. Intel Technology Journal
11, 01 (2007), 77–88.

250

Bibliography
[18] Beirão, G., and Sarsfield Cabral, J. Understanding attitudes towards
public transport and private car: A qualitative study. Transport Policy 14, 6 (Nov. 2007), 478–489.
[19] Bell, G., and Dourish, P. Yesterdays tomorrows: notes on ubiquitous
computings dominant vision. Personal and Ubiquitous Computing 11,
2 (Nov. 2006), 133–143.
[20] Bettini, C., Brdiczka, O., Henricksen, K., Indulska, J., Nicklas, D.,
Ranganathan, A., and Riboni, D. A survey of context modelling and
reasoning techniques. Pervasive and Mobile Computing 6, 2 (Apr.
2010), 161–180.
[21] Bohn, J., Coroama, V., and Langheinrich, M. Social, economic, and
ethical implications of ambient intelligence and ubiquitous computing.
In Ambient Intelligence, vol. 10. Springer Berlin Heidelberg, 2005, 5–
29.
[22] Boune↵ouf, D., Bouzeghoub, A., and Gançarski, A. L. Hybrid- ✏ greedy for Mobile Context-aware Recommender System. Advances in
Knowledge Discovery and Data Mining (2011), 468–479.
[23] Bourcier, J., Diaconescu, A., Lalanda, P., and McCann, J. Autohome: An autonomic management framework for pervasive home applications. ACM Transactions on Autonomous and Adaptive Systems
(TAAS) 6, 1 (2011), 8.
[24] Boyd, D., and Hargittai, E. Facebook privacy settings: Who cares?
First Monday 15, 8 (2010), 2.
[25] Calvo, R., and D’Mello, S. A↵ect detection: An interdisciplinary
review of models, methods, and their applications. IEEE Transactions
on A↵ective Computing 1, 1 (2010), 18–37.
[26] Campbell, A., Choudhury, T., and Hu, S. NeuroPhone: brain-mobile
phone interface using a wireless EEG headset. Proceedings of the
second ACM SIGCOMM workshop on Networking, systems, and applications on mobile handhelds (2010), 3–8.
[27] Campbell, A., Eisenman, S., and Lane, N. The rise of people-centric
sensing. Internet Computing, IEEE 12, 4 (July 2008), 12–21.

251

Bibliography
[28] Cavoukian, A. Privacy by Design The 7 Foundational Principles. In
Office of the Information and Privacy Commissioner (2011).
[29] Centre of Regional Science.

Smart cities - Ranking of European

medium-sized cities. Tech. Rep. October, Vienna University of Technology, Vienna, Austria, 2007.
[30] Chorus, C., Molin, E., and Van Wee, B. Use and E↵ects of Advanced
Traveller Information Services (ATIS): A Review of the Literature.
Transport Reviews 26, 2 (2006), 127–149.
[31] Choudhury, T., Hightower, J., Lamarca, A., Legrand, L., Rahimi, A.,
Rea, A., Hemingway, B., Koscher, K., Landay, J. A., Lester, J., and
Wyatt, D. The Mobile Sensing Platform: An Embedded Activity
Recognition System. Pervasive Computing, IEEE 7, 2 (2008), 32–41.
[32] Cingolani, P., and Alcalá-Fdez, J. jFuzzyLogic: a robust and flexible
Fuzzy-Logic inference system language implementation. In Fuzzy Systems (FUZZ-IEEE), 2012 IEEE International Conference on. IEEE,
Ieee (June 2012), 1–8.
[33] Cingolani, P., and Alcalá-Fdez, J. jFuzzyLogic: a Java Library to
Design Fuzzy Logic Controllers According to the Standard for Fuzzy
Control Programming. International Journal of Computational Intelligence Systems (2013), 61–75.
[34] Civitas.

CIVITAS, cleaner and better transport in cities.

www.

civitas-initiative.org, 2013. Accessed: July 2013.
[35] Colander, D. Retrospectives Edgeworth’s Hedonimeter and the Quest
to Measure Utility.

The Journal of Economic Perspectives 21, 2

(2007), 215–226.
[36] Consolvo, S., and McDonald, D. Activity Sensing in the Wild: A
Field Trial of UbiFit Garden. Proceedings of the SIGCHI Conference
on Human Factors in Computing Systems (2008), 1797–1806.
[37] Consolvo, S., and Walker, M. Using the experience sampling method
to evaluate ubicomp applications. Pervasive Computing, IEEE 2, 2
(2003), 24–31.

252

Bibliography
[38] Cook, D., and Das, S. How smart are our environments? An updated
look at the state of the art. Pervasive and Mobile Computing 3, 2
(Mar. 2007), 53–73.
[39] Cook, D. J., Augusto, J. C., and Jakkula, V. R. Ambient intelligence:
Technologies, applications, and opportunities. Pervasive and Mobile
Computing 5, 4 (Aug. 2009), 277–298.
[40] Cook, D. J., and Das, S. K. Automated Decision Making. In Smart
Environments: Technology, Protocols and Applications. John Wiley &
Sons, 2004, 229–249.
[41] Costa, P. M. Cloud2Bubble. www.cloud2bubble.com, 2013. Accessed:
July 2013.
[42] Costa, P. M., Falcão e Cunha, J., and Galvão, T. Cloud2Bubble: a
context-aware platform for enhancing quality of experience. awareness
magazine (2012).
[43] Costa, P. M., Pitt, J., Falcão e Cunha, J., and Galvão, T.
Cloud2Bubble: Enhancing Quality of Experience in Mobile Cloud
Computing Settings. In The Third ACM Workshop on Mobile Cloud
Computing and Services (2012), 45–52.
[44] Costa, P. M., Vasalou, A., Pitt, J., Galvão, T., and Falcão e Cunha, J.
The Railway Blues: A↵ective Interaction for Personalised Transport
Experiences. In Proceedings of the 12th international conference on
Mobile and ubiquitous multimedia (2013).
[45] Cowie, R., Douglas-Cowie, E., Tsapatsoulis, N., Votsis, G., Kollias, S.,
Fellenz, W., and Taylor, J. Emotion recognition in human-computer
interaction. IEEE Signal Processing Magazine 18, 1 (2001), 32–80.
[46] Damasio, A. Descartes’ error: Emotion, reason, and the human brain.
1994.
[47] del Castillo, J., and Benitez, F. Determining a public transport satisfaction index from user surveys. Transportmetrica, May 2013 (Jan.
2012), 1–29.

253

Bibliography
[48] Desouza, K. C., and Bhagwatwar, A. Citizen Apps to Solve Complex
Urban Problems. Journal of Urban Technology 19, 3 (2012), 107–136.
[49] Dey, A., and Abowd, G. Towards a Better Understanding of Context and Context-Awareness. In Handheld and Ubiquitous Computing,
vol. 4. Springer Berlin Heidelberg, 1999, 304–307.
[50] Diener, E., and Chan, M. Y. Happy People Live Longer: Subjective
Well-Being Contributes to Health and Longevity. Applied Psychology:
Health and Well-Being 3, 1 (Mar. 2011), 1–43.
[51] Diener, E., Suh, E., Lucas, R., and Smith, H. Subjective well-being:
Three decades of progress. Psychological bulletin 125, 2 (1999), 276–
302.
[52] Diggle, P., Heagerty, P., Liang, K.-Y., and Zeger, S. Analysis of
longitudinal data. Oxford University Press, 2002.
[53] Dijk, E. N. R. V., and Hitge, G. Public Transport Lifestyle: hot to
promote public transport orientated behaviour? In Proceedings of the
31st Southern African Transport Conference (SATC 2012), no. July
(2012), 81–93.
[54] D’Mello, S., and Kory, J. Consistent but modest: a meta-analysis on
unimodal and multimodal a↵ect detection accuracies from 30 studies.
Proceedings of the 14th ACM international conference on Multimodal
Interaction (2012), 31–38.
[55] Dolan, P., Hallsworth, M., Halpern, D., and King, D. MINDSPACE:
influencing behaviour through public policy. Tech. rep., Institute for
Government, 2010.
[56] Duarte, A., Garcia, C., Giannarakis, G., Limão, S., Polydoropoulou,
A., and Litinas, N. New approaches in transportation planning: happiness and transport economics. NETNOMICS: Economic Research
and Electronic Networking 11, 1 (May 2009), 5–32.
[57] Dziekan, K., and Kott, K. Dynamic at-stop real-time information
displays for public transport: e↵ects on customers. Transportation
Research Part A: Policy and Practice 41, 6 (2007), 489–501.

254

Bibliography
[58] Eboli, L., and Mazzulla, G. A new customer satisfaction index for
evaluating transit service quality. Journal of Public Transportation
12, 3 (2009), 21–38.
[59] Eboli, L., and Mazzulla, G. A methodology for evaluating transit
service quality based on subjective and objective measures from the
passengers point of view. Transport Policy 18, 1 (Jan. 2011), 172–181.
[60] Ekman, P. An argument for basic emotions. Cognition & Emotion 6,
3-4 (1992), 169–200.
[61] Ekman, P., and Friesen, W. V. Unmasking the Face: A Guide to
Recognizing Emotions from Facial Clues. Prentice-Hall, 1975.
[62] Emotiv. emotiv EPOC Features. www.emotiv.com/epoc, 2009. Accessed: July 2013.
[63] European Commission. Green Paper: Towards a new culture for urban
mobility. Tech. rep., 2007.
[64] European Commission. Action Plan on Urban Mobility. Tech. rep.,
2009.
[65] Fairclough, S. H. Fundamentals of physiological computing. Interacting with Computers 21, 1-2 (Jan. 2009), 133–145.
[66] Fang, B., Liao, S., Xu, K., Cheng, H., Zhu, C., and Chen, H. A novel
mobile recommender system for indoor shopping. Expert Systems with
Applications 39, 15 (Nov. 2012), 11992–12000.
[67] Ferscha, a., Farrahi, K., Hoven, J., Hales, D., Nowak, a., Lukowicz, P.,
and Helbing, D. Socio-inspired ICT. The European Physical Journal
Special Topics 214, 1 (Dec. 2012), 401–434.
[68] Fiedler, S.

instruments of politeness.

www.steffenfiedler.com,

2010. Accessed: July 2013.
[69] Fischer, G. User Modeling in Human-Computer Interaction. User
modeling and user-adapted interaction 11, 1-2 (2001), 65–86.
[70] Fitbit. Fitbit Aria Wi-Fi Smart Scale. www.fitbit.com/uk/aria,
2012. Accessed: July 2013.

255

Bibliography
[71] Fitbit. Fitbit One Wireless Activity Tracker. www.fitbit.com/one,
2012. Accessed: July 2013.
[72] Fogg, B. Persuasive technology: using computers to change what we
think and do. Ubiquity Dec 2002, 5 (2002), 89–120.
[73] Forgy, C. Rete: A fast algorithm for the many pattern/many object
pattern match problem. Artificial intelligence 19, 3597 (1982), 17–37.
[74] Forlizzi, J., and Battarbee, K. Understanding Experience in Interactive Systems. In Proceedings of the 5th conference on Designing interactive systems: processes, practices, methods, and techniques. ACM
(2004), 261–268.
[75] Frey, B. S., and Stutzer, A. What Can Economists Learn from Happiness Research? Journal of Economic Literature 40, 2 (June 2002),
402–435.
[76] Friedewald, M., Costa, O. D., Punie, Y., Alahuhta, P., and Heinonen,
S. Perspectives of ambient intelligence in the home environment.
Telematics and Informatics 22, 3 (Aug. 2005), 221–238.
[77] Friedewald, M., Vildjiounaite, E., Punie, Y., and Wright, D. Privacy, identity and security in ambient intelligence: A scenario analysis. Telematics and Informatics 24, 1 (Feb. 2007), 15–29.
[78] Friedman, B., and Kahn, P. H. Human agency and responsible computing: Implications for computer system design. Journal of Systems
and Software 17, 1 (Jan. 1992), 7–14.
[79] Friman, M. Implementing Quality Improvements in Public Transport.
Journal of Public Transportation 7, 4 (2004), 49–65.
[80] Friman, M. The structure of a↵ective reactions to critical incidents.
Journal of Economic Psychology 25, 3 (June 2004), 331–353.
[81] Friman, M., and Fellesson, M. Service Supply and Customer Satisfaction in Public Transportation : The Quality Paradox. Journal of
Public Transportation 12, 4 (2009), 57–69.

256

Bibliography
[82] Froehlich, J., Dillahunt, T., Klasnja, P., Manjo↵, J., Consolvo, S.,
Harrison, B., and Landay, J. A. UbiGreen: investigating a mobile
tool for tracking and supporting green transportation habits. In Proceedings of the SIGCHI Conference on Human Factors in Computing
Systems (2009), 1043–1052.
[83] Gao, Y., Bianchi-Berthouze, N., and Meng, H. What Does Touch Tell
Us about Emotions in Touchscreen-Based Gameplay? ACM Transactions on Computer-Human Interaction (TOCHI) 19, 4 (Dec. 2012),
31.
[84] Gavalas, D., and Konstantopoulos, C. Mobile Recommender Systems
in Tourism. Journal of Network and Computer Applications (2013).
[85] Ge, Y., Xiong, H., Tuzhilin, A., and Xiao, K. An energy-efficient mobile recommender system. In Proceedings of the 16th ACM SIGKDD
international conference on Knowledge discovery and data mining
(2010), 899–908.
[86] Gibson, J. The Theory of A↵ordances. In Perceiving, Acting, and
Knowing. 1977, 127–150.
[87] González, G., Angulo, C., López, B., and de la Rosa, J. L. Smart user
models for ambient recommender systems. Ambient Intelligence and
(Everyday) Life (2005), 113–122.
[88] González, G., López, B., and Rosa, J. D. L. The emotional factor: An
innovative approach to user modelling for recommender systems. In
Workshop on Recommendation and Personalization in e-Commerce
(2002), 90–99.
[89] Goulev, P., and Mamdani, E. Investigation of Human A↵ect During
Electronic Commerce Activities. In Eurowearable, 2003. IEE (2003),
41–46.
[90] Greenfield, A. Everyware: The dawning age of ubiquitous computing.
Peachpit Press, 2006.
[91] Hagras, H., Callaghan, V., Colley, M., Clarke, G., Pounds-Cornish,
A., and Duman, H. Creating an Ambient-Intelligent Environment

257

Bibliography
Using Ebedded Agents. IEEE Intelligent Systems 19, 6 (2004), 12–
20.
[92] Halberda, J., Mazzocco, M. M. M., and Feigenson, L. Individual di↵erences in non-verbal number acuity correlate with maths achievement.
Nature 455, 7213 (Oct. 2008), 665–8.
[93] Hassenzahl, M., and Tractinsky, N. User experience-a research agenda.
Behaviour & Information Technology 25, 2 (Mar. 2006), 91–97.
[94] Henricksen, K., and Indulska, J. Modelling and using imperfect context information. In IEEE Annual Conference on Pervasive Computing and Communications Workshops, 2004. Proceedings of the Second,
Ieee (2004), 33–37.
[95] Hill, N., Brierley, J., and MacDougall, R. How to measure customer
satisfaction. Gower Publishing, 2003.
[96] Hong, J., and Landay, J. An architecture for privacy-sensitive ubiquitous computing. In Proceedings of the 2nd international conference
on Mobile systems, applications, and services. ACM (2004), 177–189.
[97] Höök, K. A↵ective Loop Experiences What Are They? In Persuasive
Technology. Springer Berlin Heidelberg, 2008, 1–12.
[98] Höök, K., and Stå hl, A. Interactional empowerment. In Proceedings
of the SIGCHI Conference on Human Factors in Computing Systems.
ACM (2008), 647–656.
[99] Hull, R., Reid, J., and Kidd, A. Experience design in ubiquitous
computing. HP Laboratories Bristol (2002).
[100] IBM. IBM - Smarter Planet. www.ibm.com/smarterplanet, 2013.
Accessed: July 2013.
[101] ISO.

9241-210:2010 - Ergonomics of human-system interaction -

Human-centred design for interactive systems, 2010.
[102] Jaimes, A., and Sebe, N. Multimodal human computer interaction:
A survey. Computer Vision and Image Understanding 108, 1-2 (Oct.
2007), 116–134.

258

Bibliography
[103] Jameson, A. Modeling Both the Context and the User. Personal
Technologies 5, 1 (2001), 29–33.
[104] Jang, J. Fuzzy inference systems. In Neuro-Fuzzy and Soft Computing: A Computational Approach to Learning and Machine Intelligence. Prentice Hall, 1997, 73–91.
[105] Jawbone. UP by Jawbone. www.jawbone.com/up, 2012. Accessed:
July 2013.
[106] Joho, H., Jose, J. M., Valenti, R., and Sebe, N. Exploiting facial
expressions for a↵ective video summarisation. In Proceeding of the
ACM International Conference on Image and Video Retrieval - CIVR
’09, ACM Press (New York, New York, USA, 2009), 31–39.
[107] José, R., Rodrigues, H., and Otero, N. Ambient Intelligence : Beyond
the Inspiring Vision. Journal of Universal Computer Science 16, 12
(2010), 1480–1499.
[108] Kaarela, P., Varjola, M., Noldus, L. P. J. J., and Artikis, A.
PRONTO Support for Real-time Decision Making. In Proceedings
of the 5th ACM international conference on Distributed event-based
system (2011), 11–14.
[109] Kagal, L., Finin, T., and Joshi, A. A policy language for a pervasive computing environment. In Policies for Distributed Systems and
Networks (2003), 63–74.
[110] Kanter, R. M., and Litow, S. S. Informed and Interconnected : A Manifesto for Smarter Cities Informed and Interconnected : A Manifesto
for Smarter Cities . In Harvard Business School General Management
Unit (2009).
[111] Kapoor, A., Burleson, W., and Picard, R. W. Automatic prediction
of frustration. International Journal of Human-Computer Studies 65,
8 (Aug. 2007), 724–736.
[112] Kelley, P. G., Cranor, L. F., and Sadeh, N. Privacy as part of the
app decision-making process. In Proceedings of CHI1 13, the 2013
ACM annual conference on Human factors in computing systems.
ACM (2013), 3393–3402.

259

Bibliography
[113] Kleinsmith, A., and Bianchi-Berthouze, N. A↵ective Body Expression Perception and Recognition: A Survey. IEEE Transactions on
A↵ective Computing 4, 1 (Jan. 2013), 15–33.
[114] Konstan, J. a., and Riedl, J. Recommender systems: from algorithms
to user experience. User Modeling and User-Adapted Interaction 22,
1-2 (Mar. 2012), 101–123.
[115] Kortuem, G., Kawsar, F., Fitton, D., and Sundramoorthy, V. Smart
objects as building blocks for the Internet of things. IEEE Internet
Computing 14, 1 (Jan. 2010), 44–51.
[116] Kuo, F.-F., Chiang, M.-F., Shan, M.-K., and Lee, S.-Y. Emotionbased music recommendation by association discovery from film music. In Proceedings of the 13th annual ACM international conference
on Multimedia - MULTIMEDIA ’05, ACM Press (New York, New
York, USA, 2005), 507.
[117] Kwapisz, J. R., Weiss, G. M., and Moore, S. A. Activity Recognition using Cell Phone Accelerometers. ACM SIGKDD Explorations
Newsletter 12, 2 (2010), 74–82.
[118] Lane, N., and Eisenman, S. Urban Sensing Systems: Opportunistic
or Participatory? HotMobile ’08 Proceedings of the 9th workshop on
Mobile computing systems and applications (2008), 11–16.
[119] Lane, N., Miluzzo, E., and Lu, H. A Survey of Mobile Phone Sensing.
IEEE Communications Magazine 48, 9 (2010), 140–150.
[120] Lathia, N., and Capra, L. How Smart is Your Smartcard ? Measuring
Travel Behaviours , Perceptions , and Incentives. In Proceedings of the
13th international conference on Ubiquitous computing. ACM (2011),
291–300.
[121] Lathia, N., Froehlich, J., and Capra, L. Mining Public Transport Usage for Personalised Intelligent Transport Systems. In 2010 IEEE International Conference on Data Mining, no. October 2009, Ieee (Dec.
2010), 887–892.

260

Bibliography
[122] Law, E. L.-C. The measurability and predictability of user experience.
In Proceedings of the 3rd ACM SIGCHI symposium on Engineering
interactive computing systems - EICS ’11 (2011), 1–9.
[123] Law, E. L.-C., Roto, V., Hassenzahl, M., Vermeeren, A., and Kort,
J. Understanding, scoping and defining user experience: a survey
approach. In Proceedings of CHI 09, the 27th international conference
on Human factors in computing systems, CHI ’09 (2009), 719–728.
[124] Li, Y., and Landay, J. a. Activity-based prototyping of ubicomp applications for long-lived, everyday human activities. In Proceeding of
CHI 08, the 26th annual CHI conference on Human factors in computing systems, ACM Press (New York, New York, USA, 2008), 1303.
[125] LiKamWa, R., Liu, Y., Lane, N. D., and Zhong, L. MoodScope:
Building a Mood Sensor from Smartphone Usage Patterns. In ACM
International Conference in Mobile Systems, Applications, and Services (MobiSys’13) (2013).
[126] Lin, C., Chen, L., Chen, Y., and Lee, W.

A Comfort Measur-

ing System for Public Transportation Systems Using Participatory
Phone Sensing. In International Workshop on Sensing for App Phones
(PhoneSense) (2010).
[127] Loewenstein, G., and Lerner, J. The role of a↵ect in decision making.
Handbook of a↵ective science 619, 642 (2003), 3.
[128] MacKerron, G. Happiness Economics From 35 000 Feet. Journal of
Economic Surveys 26, 4 (Sept. 2011), 705–735.
[129] Madan, A., Cebrian, M., Lazer, D., and Pentland, A. Social sensing for epidemiological behavior change. In Proceedings of the 12th
ACM international conference on Ubiquitous computing - Ubicomp
’10, ACM Press (New York, New York, USA, 2010), 291–300.
[130] Madsen, M., el Kaliouby, R., Goodwin, M., and Picard, R. Technology
for just-in-time in-situ learning of facial a↵ect for persons diagnosed
with an autism spectrum disorder. In Proceedings of the 10th international ACM SIGACCESS conference on Computers and accessibility
- Assets ’08, ACM Press (New York, New York, USA, 2008), 19–26.

261

Bibliography
[131] Malins, J., and McDonagh, D. A grand day out: empathic approaches
to design. In New perspectives in design education: Proceedings of
the Engineering and Product Design Education Conference. Design
Society., vol. 1 (2008), 198–203.
[132] Mancini, C., Thomas, K., and Rogers, Y. From Spaces to Places :
Emerging Contexts in Mobile Privacy. In Proceedings of the 11th international conference on Ubiquitous computing. ACM, ACM (2009),
1–10.
[133] Mancini, C., Thomas, K., Rogers, Y., Price, B. A., Jedrzejczyk, L.,
Bandara, A. K., Joinson, A. N., and Nuseibeh, B. From Spaces to
Places : Emerging Contexts in Mobile Privacy. In Proceedings of the
11th international conference on Ubiquitous computing. ACM (2009),
1–10.
[134] Mano, H., and Oliver, R. Assessing the dimensionality and structure
of the consumption experience: evaluation, feeling, and satisfaction.
Journal of Consumer research 20, 3 (1993), 451–466.
[135] Marston, S., Li, Z., Bandyopadhyay, S., Zhang, J., and Ghalsasi, A.
Cloud computing The business perspective. Decision Support Systems
51, 1 (Apr. 2011), 176–189.
[136] Massachusetts Institute of Technology. MIT Project Oxygen. oxygen.
lcs.mit.edu, 2009. Accessed: July 2013.
[137] Mastho↵, J. The pursuit of satisfaction: a↵ective state in group recommender systems. In User Modeling 2005 (2005), 297–306.
[138] Mayor of London. London Datastore. data.london.gov.uk, 2013.
Accessed: July 2013.
[139] Mello, S. D. Beyond the Basic Emotions: What Should A↵ective Computing Compute? In CHI’13 Extended Abstracts on Human Factors
in Computing Systems. ACM (2013), 2287–2294.
[140] Middleton, S. E., Shadbolt, N. R., and De Roure, D. C. Ontological user profiling in recommender systems. ACM Transactions on
Information Systems 22, 1 (Jan. 2004), 54–88.

262

Bibliography
[141] Mitchell, W., and Casalegno, F. connected sustainable cities. MIT
Mobile Experience Lab Publishing, 2009.
[142] Modsching, M., and Kramer, R. E↵ectiveness of mobile recommender
systems for tourist destinations: a user evaluation. In Intelligent Data
Acquisition and Advanced Computing Systems: Technology and Applications, 2007. IDAACS 2007. 4th IEEE Workshop on, no. September
(2007), 663–668.
[143] Möller, S., Engelbreacht, K.-P., Kühnel, C., Wechsung, I., and Weiss,
B. A taxonomy of quality of service and Quality of Experience of multimodal human-machine interaction. In Quality of Multimedia Experience, 2009. QoMEx 2009. International Workshop on (2009), 7–12.
[144] Morgan Stanley. Technology and Internet Trends. Tech. rep., 2012.
[145] Morvaj, B., Lugaric, L., and Krajcar, S. Demonstrating smart buildings and smart grid features in a smart energy city. In Energetics
(IYCE), Proceedings of the 2011 3rd International Youth Conference
on. IEEE, 2011. (2011), 1–8.
[146] Nam, T., and Pardo, T. Conceptualizing smart city with dimensions
of technology, people, and institutions. In Proceedings of the 12th
Annual International Conference on Digital Government Research,
ACM Press (New York, New York, USA, 2011), 282–291.
[147] Nardi, B. Context and consciousness: activity theory and humancomputer interaction. The MIT Press, 1996.
[148] Niemelä, M., Fuentetaja, R. G., Kaasinen, E., and Gallardo, J. L. Supporting independent living of the elderly with mobile-centric ambient
intelligence: user evaluation of three scenarios. In Ambient Intelligence. Springer Berlin Heidelberg, 2007, 91–107.
[149] Nike. Nike+ FuelBand. nikeplus.nike.com, 2012. Accessed: July
2013.
[150] Norman, D. A. The Design of Everyday things. Bantam Doubleday
Dell Publishing Group, 1988.

263

Bibliography
[151] Nunes, A., Galvao, T., Falcao e Cunha, J., and Pitt, J. V. Using
Social Networks for Exchanging Valuable Real Time Public Transport
Information among Travellers. In 2011 IEEE 13th Conference on
Commerce and Enterprise Computing, Ieee (Sept. 2011), 365–370.
[152] Nunes, S., Augusta, M., Cerri, S., and Blanc, N. Improving recommendations by using personality traits in user profiles. In International
Conferences on Knowledge Management and New Media Technology
(2008).
[153] Oinas-Kukkonen, H., and Harjumaa, M. A systematic framework for
designing and evaluating persuasive systems. In Persuasive Technology. Springer Berlin Heidelberg, 2008, 164–176.
[154] Oliveira, R., Karatzoglou, A., Concejero Cerezo, P., Armenta Lopez
de Vicuña, A., and Oliver, N. Towards a psychographic user model
from mobile phone usage. CHI’11 Extended Abstracts on Human Factors in Computing Systems. ACM (2011), 2191.
[155] Olivero, N., and Lunt, P. Privacy versus willingness to disclose in
e-commerce exchanges: The e↵ect of risk awareness on the relative
role of trust and control. Journal of Economic Psychology 25, 2 (Apr.
2004), 243–262.
[156] OPT. MOVE-ME. www.move-me.mobi, 2012. Accessed: July 2013.
[157] Ory, D. T., and Mokhtarian, P. L. When is getting there half the
fun? Modeling the liking for travel. Transportation Research Part A:
Policy and Practice 39, 2-3 (Feb. 2005), 97–123.
[158] Ostrom, E. A general framework for analyzing sustainability of socialecological systems. Science (New York, N.Y.) 325, 5939 (July 2009),
419–22.
[159] Parasuraman, A., Zeithaml, V., and Berry, L.

SERVQUAL: A

Multiple-Item Scale for Measuring Consumer Perceptions of Service
Quality. Journal of Retailing 64, 1 (2004), 12–40.
[160] Patterson, D., Liao, L., Gajos, K., Collier, M., Livic, N., Olson, K.,
Wang, S., Fox, D., and Kautz, H. Opportunity Knocks: A System to

264

Bibliography
Provide Cognitive Assistance with Transportation Services. In UbiComp 2004: Ubiquitous Computing. Springer Berlin Heidelberg, 2004,
433–450.
[161] PerAda. PerAda (Pervasiva Adaptation Research). www.perada.eu,
2011. Accessed: July 2013.
[162] Philips. Philips hue. www.meethue.com, 2012. Accessed: July 2013.
[163] Picard, R. A↵ective computing. The MIT Press, 2000.
[164] Picard, R., and Daily, S. Evaluating a↵ective interactions: Alternatives to asking what users feel. In CHI Workshop on Evaluating
A↵ective Interfaces: Innovative Approaches (2005), 2119–2122.
[165] Pinheiro, J., Bates, D., DebRoy, S., Sarkar, D., authors, E., and
R-core. nlme: Linear and Nonlinear Mixed E↵ects Models. cran.
r-project.org/web/packages/nlme, 2013. Accessed: July 2013.
[166] Pitt, J. Design Contractualism for Pervasive / A↵ective Computing.
Technology and Society Magazine, IEEE 31, 4 (2012), 22–29.
[167] Pitt, J. This Pervasive Day. Imperial College Press, 2012.
[168] Pitt, J., Bourazeri, A., Nowak, A., Roszczynska-Kurasinska, M., A,
R., Rodriguez Santiago, I., López Sánchez, M., Florea, M., and Sanduleac, M. Transforming Big Data Into Collective Awareness. Computer 46, 6 (2013), 40–45.
[169] Pühretmair, F., and Kepler, J. Individual Information Presentation
based on Cognitive Styles for Tourism Information Systems. In Information and Communication Technologies in Tourism (ENTER 2003)
(2003), 440–449.
[170] Rachuri, K., and Musolesi, M. EmotionSense: a mobile phones based
adaptive platform for experimental social psychology research. In Proceedings of the 12th ACM international conference on Ubiquitous computing (2010), 281–290.
[171] Redman, L., Friman, M., Gärling, T., and Hartig, T. Quality attributes of public transport that attract car users: A research review.
Transport Policy 25 (Jan. 2013), 119–127.

265

Bibliography
[172] Ricci, F. Travel recommender systems. IEEE Intelligent Systems 4,
December (2002), 55–57.
[173] Ricci, F. Mobile Recommender Systems. Information Technology &
Tourism 12, 3 (Apr. 2010), 205–231.
[174] Roto, V., Law, E., Vermeeren, A., and Hoonhout, J. User experience
white paper. Tech. rep., 2010.
[175] Ruotsalo, T., Haav, K., Stoyanov, A., Roche, S., Fani, E., Deliai,
R., Mäkelä, E., Kauppinen, T., and Hyvönen, E. SMARTMUSEUM:
A mobile recommender system for the Web of Data. Web Semantics:
Science, Services and Agents on the World Wide Web 20 (May 2013),
50–67.
[176] Russell, J. A Circumplex Model of A↵ect. Journal of personality and
social psychology 9, 6 (1980), 1161–1178.
[177] Russello, G., Dong, C., and Dulay, N. Authorisation and conflict
resolution for hierarchical domains. In IEEE Workshop on Policies
for Distributed Systems and Networks, Ieee (June 2007), 201–210.
[178] Sadri, F. Ambient intelligence: A Survey. ACM Computing Surveys
43, 4 (Oct. 2011), 1–66.
[179] Saha, D., and Mukherjee, A. Pervasive Computing: A Paradigm for
the 21st Century. Computer 36, 3 (Jan. 2003), 25–31.
[180] Satyanarayanan, M. Pervasive computing: Vision and challenges. Personal Communications, IEEE 8, 4 (2001), 10–17.
[181] Schöning, J., Rogers, Y., Bird, J., Capra, L., McCann, J. A., Prendergast, D., and Sheridan, C. Intel Collaborative Research Institute Sustainable Connected Cities. In Ambient Intelligence. Springer Berlin
Heidelberg, 2012, 364–372.
[182] Schonwalder, J., and Fouquet, M. Future internet = content + services
+ management. IEEE Communications Magazine 47, 7 (2009), 27–33.
[183] Sengers, P., Boehner, K., David, S., and Kaye, J. J. Reflective design.
In Proceedings of the 4th decennial conference on Critical computing:
between sense and sensibility. ACM (2005), 49–58.

266

Bibliography
[184] Serbedzija, N. B., and Fairclough, S. H. Biocybernetic loop: From
awareness to evolution. In 2009 IEEE Congress on Evolutionary Computation (May 2009), 2063–2069.
[185] Sevillano, V. Emotional correlates of instrumental and symbolic functions in urban transport. Psyecology 1, 1 (2010), 113–122.
[186] Shadbolt, N. Ambient intelligence. IEEE Intelligent Systems 18, 4
(2003), 2–3.
[187] Shan, M.-K., Kuo, F.-F., Chiang, M.-F., and Lee, S.-Y. Emotionbased music recommendation by affinity discovery from film music.
Expert Systems with Applications 36, 4 (May 2009), 7666–7674.
[188] Sloman, M., and Lupu, E. Engineering Policy-Based Ubiquitous Systems. The Computer Journal 53, 7 (2009), 1113–1127.
[189] Sottara, D., Mello, P., and Proctor, M. A Configurable Rete-OO
Engine for Reasoning with Di↵erent Types of Imperfect Information.
IEEE Transactions on Knowledge and Data Engineering 22, 11 (Nov.
2010), 1535–1548.
[190] Spreng, R. A., Mackenzie, S. B., and Olshavsky, R. W. A Reexamination of the Determinants of Consumer Satisfaction. Journal of
Marketing 60, July (1996), 15–33.
[191] Steg, L., and Gi↵ord, R. Sustainable transportation and quality of
life. Journal of Transport Geography 13, 1 (Mar. 2005), 59–69.
[192] StickNFind. StickNFind. www.sticknfind.com, 2013. Accessed: July
2013.
[193] Strimpakou, M., Roussaki, I., and Pils, C. Context modelling and
management in ambient-aware pervasive environments. In Locationand Context-Awareness, vol. 3479. Springer Berlin Heidelberg, 2005,
2–15.
[194] Suh, E., Diener, E., and Fujita, F. Events and subjective well-being:
only recent events matter. Journal of Personality and Social Psychology 70, 5 (May 1996), 1091–102.

267

Bibliography
[195] Sundström, P., Stå hl, A., and Höök, K. A user-centered approach to
a↵ective interaction. In A↵ective Computing and Intelligent Interaction, vol. 3784/2005. Springer Berlin Heidelberg, 2005, 931–938.
[196] Swan, M. Sensor Mania! The Internet of Things, Wearable Computing, Objective Metrics, and the Quantified Self 2.0. Journal of Sensor
and Actuator Networks 1, 3 (Nov. 2012), 217–253.
[197] Tao, J., and Tan, T. A↵ective computing: A review. In A↵ective Computing and Intelligent Interaction. Springer Berlin Heidelberg, 2005,
981–995.
[198] Tkalcic, M., Kosir, A., and Tasic, J. Usage of a↵ective computing in
recommender systems. Elektrotech Vestn 78, 1-2 (2011), 12–17.
[199] Tkalčič, M., Burnik, U., and Košir, A. Using a↵ective parameters in
a content-based recommender system for images. User Modeling and
User-Adapted Interaction 20, 4 (Sept. 2010), 279–311.
[200] Transport for London. Travel in London. Tech. rep., 2011.
[201] Twidle, K. Ponder2Project - Ponder2 Wiki. www.ponder2.net, 2009.
Accessed: July 2013.
[202] University College London.

EQUATOR.

www.cs.ucl.ac.uk/

research/equator, 2009. Accessed: July 2013.
[203] Uszok, A., Bradshaw, J. M., Lott, J., Breedy, M., Bunch, L., Feltovich,
P., Johnson, M., and Jung, H. New Developments in Ontology-Based
Policy Management: Increasing the Practicality and Comprehensiveness of KAoS. In 2008 IEEE Workshop on Policies for Distributed
Systems and Networks (June 2008), 145–152.
[204] Verlaenen, K. Middleware for Advanced Service Configurationa Policy
Based Approach. PhD thesis, 2008.
[205] Verlaenen, K., De Win, B., and Joosen, W. Policy Analysis Using a
Hybrid Semantic Reasoning Engine. In The 8th IEEE International
Workshop on Policies for Distributed Systems and Networks (POLICY’07) (June 2007), 193–200.

268

Bibliography
[206] Victor, P., and Rosenbluth, G. Managing without growth. Ecological
Economics 61, 2-3 (Mar. 2007), 492–504.
[207] Vieira, J. G., Galvão, T., Falcão e Cunha, J., Costa, P. M., and Pitt, J.
Smart Mobile Sensing for Measuring Quality of Experience in Urban
Public Transports. In The Second International Workshop on Smart
Mobile Applications (2012).
[208] Villon, O., and Lisetti, C. A User-Modeling Approach to Build User’s
Psycho-Physiological Maps of Emotions using Bio-Sensors. In ROMAN 2006 - The 15th IEEE International Symposium on Robot and
Human Interactive Communication (Sept. 2006), 269–276.
[209] Voida, S., Mynatt, E., and Edwards, W. Re-framing the desktop interface around the activities of knowledge work. In Proceedings of UIST
’08 , the 21st annual ACM symposium on User interface software and
technology (2008), 211–220.
[210] Watkins, K., and Borning, A. OneBusAway : Results from Providing
Real-Time Arrival Information for Public Transit. In Proceedings of
the SIGCHI Conference on Human Factors in Computing Systems
(2010), 1807–1816.
[211] Weiser, M. The Computer for the 21st Century. Scientific American
265, 3 (1991), 94–104.
[212] Wright, P., and McCarthy, J. Empathy and experience in HCI. In Proceedings of the SIGCHI Conference on Human Factors in Computing
Systems, ACM Press (New York, New York, USA, 2008), 637–646.
[213] Yang, W.-S., and Hwang, S.-Y. iTravel: A recommender system in
mobile peer-to-peer environment. Journal of Systems and Software
86, 1 (Jan. 2013), 12–20.
[214] Zadeh, L. A. Fuzzy Sets. Information and Control 353, 8 (1965),
338–353.
[215] Zittrain, J. L. The future of the internet: and how to stop it. Jonathan
Zittrain, 2009.

269

