Tecnura
http://revistas.udistrital.edu.co/ojs/index.php/Tecnura/issue/view/761
DOI: http://dx.doi.org/10.14483/udistrital.jour.tecnura.2016.2.a03

Investigaci√≥n

Una prueba fuera del laboratorio de una interfaz cerebro computador
basada en potenciales de estado estable evocados visualmente
Steady state visually evoked potentials based Brain computer interface test
outside the lab
Eduardo Francisco Caicedo Bravo1, Jaiber Evelio Cardona Aristiz√°bal2
Fecha de recepci√≥n: 17 de marzo de 2015

Fecha de aceptaci√≥n: 15 de febrero de 2016

C√≥mo citar: Caicedo Bravo, E. F., & Cardona Aristiz√°bal, J. E. (2016). Una prueba fuera del laboratorio de una
interfaz cerebro computador basada en potenciales de estado estable evocados visualmente. Revista Tecnura,
20(48), 41-52. doi: 10.14483/udistrital.jour.tecnura.2016.2.a03

Resumen

incluyendo 9 con una precisi√≥n del 100%, 7 lograron el objetivo con una precisi√≥n menor al 60% y
5 se retiraron antes de conseguir el objetivo. Para
los voluntarios que lograron una precisi√≥n mayor al
60% se alcanz√≥ en promedio un tiempo de detecci√≥n de 6,4s, una precisi√≥n de 79% y una raz√≥n de
transferencia de informaci√≥n (ITR) de 8,78bits/s.
Conclusiones: Se pudo mostrar un sistema BCI basado en SSVEP de bajo costo, probado en un evento
p√∫blico, sin procedimientos de calibraci√≥n, de f√°cil
instalaci√≥n y usado por personas en un amplio rango de edades. Los resultados muestran que es factible llevar este tipo de sistemas a ambientes fuera del
laboratorio.
Palabras clave: BCI, Combinaci√≥n de M√≠nima Energ√≠a, Interfaz cerebro computador, MEC, potenciales
de estado estable evocados visualmente, SSVEP.

Contexto: Los potenciales de estado estable evocados visualmente (SSVEP) surgen como una de las se√±ales medidas del cerebro m√°s promisorias para la
implementaci√≥n de interfaces cerebro computador
(BCI), sin embargo las aplicaciones realizadas generalmente son limitadas a ambientes restringidos de
laboratorio presentando m√≠nimas pruebas en ambientes donde las condiciones son exigentes.
M√©todo: Se implement√≥ un sistema BCI basado en
SSVEP cuyas pruebas se realizaron en un ambiente
no controlado con altos niveles de distracci√≥n y con
la presencia de gran cantidad de p√∫blico. Al usuario se le propone un laberinto donde un avatar debe
ser llevado a un objetivo representado por una casa.
Para mover el avatar el voluntario debe fijar su mirada en uno de los cuatro est√≠mulos visuales, los est√≠mulos visuales representan las cuatro direcciones:
izquierda, arriba, derecha y abajo. El sistema fue
usado sin ning√∫n tipo de calibraci√≥n.
Resultados: 32 voluntarios usaron el sistema y 20 lograron el objetivo con una precisi√≥n mayor al 60%,
1
2

Abstract
Context: Steady State Visually Evoked Potentials (SSVEP) are brain signals which are one of the most promising signals for Brain Computer Interfaces (BCIs)

Ingeniero Electricista, M√°ster en Tecnolog√≠as de la Informaci√≥n en Fabricaci√≥n, Doctor en Ingenier√≠a: Inform√°tica Industrial. Profesor Titular
de la Universidad del Valle, Director del Grupo de Investigaci√≥n Percepci√≥n y Sistemas Inteligentes. Cali, Colombia. Contacto: eduardo.
caicedo@correounivalle.edu.co
Ingeniero Electr√≥nico, Magister en Autom√°tica, Estudiante de Doctorado en Ingenier√≠a. Profesor Asociado de la Universidad del Quind√≠o.
Armenia, Colombia. Contacto: jaibercardona@uniquindio.edu.co
Tecnura ‚Ä¢ p-ISSN: 0123-921X ‚Ä¢ e-ISSN: 2248-7638 ‚Ä¢ Vol. 20 No. 48 ‚Ä¢ Abril - Junio de 2016 ‚Ä¢ pp. 41-52

[ 41 ]

Una prueba fuera del laboratorio de una interfaz cerebro computador basada en potenciales de estado estable evocados visualmente
Caicedo Bravo, E. F., & Cardona Aristiz√°bal, J. E.

implementation, however, SSVEP based BCI generally are proven in a controlled environment and there
are a few tests in demanding conditions.
Method: We present a SSVEP based BCI system that
was used outside the lab in a noisy environment
with distractions, and with the presence of public.
For the tests, we showed a maze in a laptop where
the user could move an avatar looking for a target
that is represented by a house. In order to move the
avatar, the volunteer must stare at one of the four visual stimuli; the four visual stimuli represent the four
directions: right, up, left, and down. The system is
proven without any calibration procedure.
Results: 32 volunteers utilized the system and 20
achieved the target with an accuracy above 60%,
including 9 with an accuracy of 100%, 7 achieved

the target with an accuracy below 60% and 5 left
without achieving the goal. For the volunteers who
reached accuracy above 60%, the results of the performance achieved an average of 6,4s for command
detections, precision of 79% and information transfer rate (ITR) of 8,78 bits/s.
Conclusions: We showed a SSVEP based BCI system
with low cost, it was proved in a public event, it did
not have calibration procedures, it was easy to install, and it was used for people in a wide age range.
The results show that it is possible to bring this kind
of systems to environments outside the laboratory.
Keywords: BCI, Brain Computer Interface, MEC, Minimum Energy Combination, SSVEP, Steady State Visually Evoked Potentials,

INTRODUCCI√ìN

debido a que dichos artefactos se producen en zonas del cerebro diferentes a las usadas para detectar SSVEP.
En un sistema BCI basado en SSVEP se muestra
un est√≠mulo visual que var√≠a a una frecuencia fija
y que genera un aumento de la actividad a dicha
frecuencia en la parte occipital del cerebro cuando el usuario concentra su mirada en el est√≠mulo,
por tanto se puede detectar si el usuario presta o
no atenci√≥n al est√≠mulo al medir la actividad en la
frecuencia correspondiente. Con este esquema se
pueden tener varios est√≠mulos visuales que oscilan a diferentes frecuencias, cada uno correspondiendo a un comando distinto, y el usuario puede
poner su atenci√≥n el est√≠mulo acorde al comando
que quiere seleccionar, cuando en la parte occipital del cerebro se detecta un aumento en alguna de
las frecuencias de los est√≠mulos presentes entonces
se puede inferir que el usuario quiere ejecutar el
comando correspondiente. Las se√±ales SSVEP tambi√©n son estables en su fase por lo que se puede
usar una sola frecuencia en los est√≠mulos pero con
diferente fase, al usuario mirar un est√≠mulo se da
un aumento en la frecuencia definida y el comando se determina al calcular la fase.

Un sistema BCI permite realizar comunicaci√≥n
desde el cerebro hacia un sistema digital sin el
uso de los canales normales de salida como los
nervios perif√©ricos y los m√∫sculos (Wolpaw et al.,
2000). Esto tiene aplicaciones directas en la recuperaci√≥n de autonom√≠a de personas con p√©rdida
severa de la movilidad al darles acceso a interactuar con el mundo en temas como comunicaci√≥n
y control, entretenimiento, substituci√≥n motora y
recuperaci√≥n motora (Mill√°n et al., 2010). Adem√°s
de las aplicaciones para personas con limitaciones en su movilidad, tambi√©n aparecen aplicaciones para personas sanas sobre todo en juegos,
multimedia y realidad virtual (Allison, Graimann
y Gr√§ser, 2007). Uno de los BCI m√°s promisorios
es el basado en se√±ales SSVEP debido a la f√°cil
configuraci√≥n, tiempo de calibraci√≥n bajo o nulo,
y alta velocidad en comparaci√≥n con los basados
en otro tipo de se√±ales (Rak, Ko≈Çodziej y Majkowski, 2012), adem√°s son menos susceptibles al ruido electromiogr√°fico y a los artefactos producidos
por los movimientos oculares y de los p√°rpados
(Francois, Monique, Dauwels y Cichocki, 2010)

Tecnura ‚Ä¢ p-ISSN: 0123-921X ‚Ä¢ e-ISSN: 2248-7638 ‚Ä¢ Vol. 20 No. 48 ‚Ä¢ Abril - Junio de 2016 ‚Ä¢ pp. 41-52

[ 42 ]

Una prueba fuera del laboratorio de una interfaz cerebro computador basada en potenciales de estado estable evocados visualmente
Caicedo Bravo, E. F., & Cardona Aristiz√°bal, J. E.

Los BCI basados en SSVEP se aplican en temas como movimiento de sillas de ruedas (Singla,
Khosla y Jha, 2013; Singla y Haseena, 2013; Torres, Freire y Sarcinelli, 2013; D√≠ez et al., 2013),
teclados num√©ricos (Cheng, Gao, Gao y Dingfeng,
2002), teclados alfanum√©ricos (Hwang et al., 2012;
Hwang, Lim, Lee e Im, 2013), posicionamiento de
una cama de hospital (Shyu et al., 2013), movimiento de pr√≥tesis (M√ºller y Pfurtscheller, 2008),
movimiento en laberintos (Martinez, Bakardjian y
Cichock, 2007; Diez et al., 2011), control de una
casa inteligente (Edlinger y Guger, 2012), control
de robots (Hortal, √öbeda, I√°nez y Azor√≠n, 2014;
Zhang et al., 2012; I√°√±ez et al., 2010), detecci√≥n
de sue√±o en conductores (Resalat, Saba y Afdideh, 2012), juegos de defensa (Vliet et al., 2012),
e incluso propuestas para la comunicaci√≥n de personas con limitaci√≥n severa del movimiento incluyendo los ojos y parpados (Lim, Hwang e Im,
2013; (Nishifuji y Kuroda, 2012). Sin embargo, la
mayor√≠a de los desarrollos se han probado en ambientes muy restringidos y controlados, y se han limitado a aplicaciones de laboratorio en donde las
condiciones de iluminaci√≥n, perturbaciones a las
personas y ruido electr√≥nico son controladas.
Algunos sistemas BCI basados en SSVEP se han
probado en ambientes menos controlados; por
ejemplo, se combina el uso de SSVEP con desincronizaci√≥n relacionada a eventos (ERD) para el
comando de un carro (Castillo et al., 2014), para
escribir palabras (Allison et al., 2010) y para comandar un robot miniatura en un laberinto (Volosyak et al., 2011).
En este trabajo se prueba un sistema BCI basado en SSVEP con ensayos fuera del laboratorio.
Dichas pruebas fueron realizadas en un espacio
abierto con gran movimiento alrededor de la persona bajo estudio, en donde se expuso el sistema y
se dio libre acceso a los voluntarios que quisieran
probarlo; en total lo probaron 32 personas.
El sistema presenta un laberinto en el cual se
debe llevar un avatar a un objetivo indicado con
una casa, para ello se presentan cuatro est√≠mulos visuales oscilando a diferentes frecuencias

correspondientes a los comandos izquierda, arriba, derecha y abajo que son los movimientos que
puede realizar el avatar. Para detectar el est√≠mulo
visual al que presta atenci√≥n, el usuario se calcula
la actividad en cada una de las frecuencias a trav√©s
del m√©todo denominado combinaci√≥n de m√≠nima
energ√≠a (MEC, por su sigla en ingl√©s) (Friman, Volosyak y Gr√§ser, 2007), cuando se establece que la
actividad ha aumentado se realiza el movimiento
correspondiente.
Este art√≠culo se desarrolla de la siguiente manera: primero se hace una descripci√≥n del software,
hardware y los m√©todos aplicados, luego se presentan los resultados encontrados y, por √∫ltimo, se
plantean las conclusiones generadas.

METODOLOG√çA
El sistema completo en sus partes gen√©ricas se observa en la figura 1, en la pantalla del computador se muestra en el centro un laberinto y cuatro
est√≠mulos visuales distribuidos en cada extremo
del laberinto. El usuario debe fijar su mirada en
el est√≠mulo visual que est√° en la direcci√≥n a la
cual quiere desplazarse dentro del laberinto; con
la intenci√≥n de detectar si el usuario est√° prestando atenci√≥n a alg√∫n est√≠mulo visual se toman las
se√±ales de electroencefalograma (EEG) en la parte
occipital del cerebro, dichas se√±ales son enviadas
al computador y procesadas, y una vez determinado un est√≠mulo visual observado se realiza una
traducci√≥n a comandos y el correspondiente movimiento del avatar. Este ciclo se repite hasta terminar el juego.

Hardware
Para medir la actividad cerebral se usa un equipo
Emotiv Epoc lector de ondas EEG el cual mide 14
puntos del cuero cabelludo de forma no invasiva,
mediante electrodos que no requieren gel, aunque
el uso de este tipo de electrodos genera un alto nivel de ruido el√©ctrico, permite una f√°cil puesta en
marcha del experimento al requerir poco tiempo

Tecnura ‚Ä¢ p-ISSN: 0123-921X ‚Ä¢ e-ISSN: 2248-7638 ‚Ä¢ Vol. 20 No. 48 ‚Ä¢ Abril - Junio de 2016 ‚Ä¢ pp. 41-52

[ 43 ]

Una prueba fuera del laboratorio de una interfaz cerebro computador basada en potenciales de estado estable evocados visualmente
Caicedo Bravo, E. F., & Cardona Aristiz√°bal, J. E.

      
‚Ä¢     
‚Ä¢    
    
‚Ä¢  


   
  


 
   


  



  
Figura 1. Esquema general del sistema
Fuente: elaboraci√≥n propia.

Software

para ser colocado adecuadamente en la cabeza.
De los 14 electrodos solo 4 est√°n en la parte occipital del cerebro por lo que se opta por rotar 180
grados en sentido horizontal el Emotiv Epoc, con
lo cual se incrementa a 8 el n√∫mero de electrodos
aptos para determinar el aumento de la actividad
en la parte occipital del cerebro. Aunque el n√∫mero de electrodos usados para el procesamiento crece, se encuentra como desventaja que no se puede
conocer la posici√≥n exacta de estos.
Los datos de los electrodos son enviados de
forma inal√°mbrica a un computador con monitor
de 14 pulgadas con 1280√ó800 pixeles, 2 Gbytes
de RAM, procesador de 1,83 Ghz Intel Core 2 y
Windows Vista como sistema operativo, el cual
procesa los datos de las se√±ales medidas de los
electrodos y realiza una estimaci√≥n, por medio del
c√°lculo del MEC, sobre el est√≠mulo visual que el
usuario est√° observando. Asimismo, el computador muestra el laberinto y los est√≠mulos visuales.

El juego implementado consta de dos laberintos,
un laberinto inicial que es igual en su configuraci√≥n para todos los participantes, contando con un
solo camino correcto para llegar al objetivo, y un
laberinto libre en el que la posici√≥n del avatar y el
objetivo se colocan de manera aleatoria y se tienen varias posibilidades para llegar al objetivo; el
desplazamiento del avatar siempre se hace desde
la posici√≥n presente hasta el siguiente cruce.
Para este trabajo se usaron solamente los datos
relacionados al laberinto inicial debido a que se tiene claro cu√°l es el movimiento pretendido por el jugador lo que a su vez permite calcular la precisi√≥n.
En el laberinto inicial (figura 2), se puede notar que
se requieren los movimientos en el orden: derecha,
abajo, izquierda y arriba para llegar al objetivo, de
igual manera se muestran los cuatro est√≠mulos visuales usados para cada uno de los movimientos.

Tecnura ‚Ä¢ p-ISSN: 0123-921X ‚Ä¢ e-ISSN: 2248-7638 ‚Ä¢ Vol. 20 No. 48 ‚Ä¢ Abril - Junio de 2016 ‚Ä¢ pp. 41-52

[ 44 ]

Una prueba fuera del laboratorio de una interfaz cerebro computador basada en potenciales de estado estable evocados visualmente
Caicedo Bravo, E. F., & Cardona Aristiz√°bal, J. E.

Figura 2. Laberinto inicial
Fuente: elaboraci√≥n propia.

El laberinto est√° establecido de forma que en
cada uno de los cruces del camino correcto existe
la posibilidad de entrar en un callej√≥n sin salida al
detectar el movimiento incorrecto, en ese caso el
usuario debe ejecutar el comando contrario para
volver al camino principal. Aunque solo habr√≠a un
movimiento posible se siguen mostrando los cuatro est√≠mulos visuales e igualmente se realiza la
detecci√≥n sobre ellos; si se detecta un comando
en una direcci√≥n hacia la que no hay camino no
se realiza movimiento.
Cada est√≠mulo visual consiste en rect√°ngulos de
200√ó100 pixeles que cambian entre blanco y negro, cada color se mantiene un n√∫mero exacto de
ciclos de refresco del monitor, por lo que las frecuencias obtenidas son divisores exactos de 60hz,
que es la frecuencia del monitor, se utilizan entonces 4, 5, 6 y 7 ciclos, generando las frecuencias
15 Hz, 12 Hz, 10 Hz y 8,57 Hz respectivamente; en cada est√≠mulo visual est√° presente un punto
rojo en el centro para enfocar la mirada. Al tomar
los datos EEG de la parte occipital del cerebro, se
puede inferir el est√≠mulo visual al cual el usuario

est√° mirando al realizar el c√°lculo del MEC que se
muestra en el siguiente apartado.

Combinaci√≥n de m√≠nima energ√≠a (MEC)
Cada td segundos se toman los datos medidos en
los electrodos correspondientes a los √∫ltimos tMEC
segundos; para cada electrodo se resta el promedio de los datos y se divide por la desviaci√≥n est√°ndar, para tener una media 0 y una varianza igual a
1 en cada canal. Para determinar si se est√° fijando
la mirada a un est√≠mulo y, en caso tal, a que est√≠mulo corresponde, los datos en los electrodos de
inter√©s son transformados de acuerdo con el procedimiento denominado combinaci√≥n de m√≠nima
energ√≠a (Friman, Volosyak y Gr√§ser, 2007), el cual
se describe a continuaci√≥n.
Si un est√≠mulo visual de frecuencia f al cual el
voluntario le est√° prestando atenci√≥n, afecta la
se√±al en un electrodo i, entonces la actividad en
dicho electrodo puede escribirse como en la ecuaci√≥n (1).

Tecnura ‚Ä¢ p-ISSN: 0123-921X ‚Ä¢ e-ISSN: 2248-7638 ‚Ä¢ Vol. 20 No. 48 ‚Ä¢ Abril - Junio de 2016 ‚Ä¢ pp. 41-52

[ 45 ]

Una prueba fuera del laboratorio de una interfaz cerebro computador basada en potenciales de estado estable evocados visualmente
Caicedo Bravo, E. F., & Cardona Aristiz√°bal, J. E.

Nh

ÔÄΩ
yi (t ) ÔÉ• ai ,k sin(2ÔÅ∞ ft ÔÄ´ ÔÅ¶i , k ) ÔÄ´ ÔÉ• bi , j z j (t ) ÔÄ´ ei (t ) (1)
k ÔÄΩ1
j
		

contiene las amplitudes de las componentes sinusoidales de la frecuencia de inter√©s y sus m√∫ltiplos, B contiene las amplitudes de estados
mentales comunes a los electrodos y E en cada columna contiene ruido propio del correspondiente
electrodo.
La combinaci√≥n de m√≠nima energ√≠a pretende
encontrar una transformaci√≥n que disminuya la
energ√≠a de las se√±ales adicionales a las SSVEP; si la
transformaci√≥n conserva las se√±ales SSVEP quiere
decir que estas est√°n presentes, de lo contrario no
lo est√°n. Para encontrar la transformaci√≥n primero
se remueven las componentes SSVEP de la se√±al,
para lo cual se obtiene la proyecci√≥n ortogonal de
las se√±ales sinusoidales de la frecuencia de inter√©s
y sus m√∫ltiplos en los datos originales y se les resta a estos √∫ltimos, de acuerdo con la ecuaci√≥n (4).

Donde yi(t) es la se√±al en el electrodo i, siendo
igual a una expresi√≥n dividida en tres partes; la primera parte corresponde a las se√±ales evocadas por
el est√≠mulo, donde: Nh es el n√∫mero de m√∫ltiplos
de la frecuencia de inter√©s presentes, ai,k es la magnitud del m√∫ltiplo k del electrodo i, y fi,k es la fase
del m√∫ltiplo k del electrodo i. La segunda componente, Zj(t), hace referencia a estados mentales diferentes que afectan varios electrodos, donde bi,j es
la magnitud de la se√±al Zj(t) en el electrodo i. Y la
tercera componente corresponde al ruido propio
el electrodo i, marcado como ei(t).
Si se tiene una frecuencia de muestreo Fs y se
cuenta con Nt muestras sucesivas, se puede relacionar la salida del electrodo i como muestra la
ecuaci√≥n (2).

yi ÔÄΩ Xai ÔÄ´ Zbi ÔÄ´ ei

YÔÄ•ÔÄΩ Y ÔÄ≠ X(XT X)ÔÄ≠1 XT Y

(2)

Al quitar las componentes SSVEP, la se√±al modificada aproximadamente contendr√° solamente los valores debidos a otros estados mentales y
al ruido propio de cada canal, como muestra la
ecuaci√≥n (5).

Donde la salida del electrodo i corresponde
a un vector de Nt muestras sucesivas y tama√±o Nt
T
x 1, que cumple y i ÔÄΩ [ yi (1),..., yi ( N t )] . La matriz X ÔÄΩ [ X1 , X 2 ,..., X Nh ] es de dimensi√≥n Nt x 2Nh y
contiene las componentes seno y coseno de la frecuencia de inter√©s y sus m√∫ltiplos, donde cada submatriz Xk es una matriz con dos columnas y Nt filas,
conteniendo en cada columna las componentes
c o s (2ÔÅ∞ k f t )y s i n (2ÔÅ∞ k f t ) . ai es un vector de tama√±o 2Nh, con las amplitudes de cada componente de
la frecuencia y sus m√∫ltiplos. Z es una matriz que
contiene estados mentales comunes a todos los electrodos y bi sus correspondientes amplitudes, y ei es
un vector que posee el ruido propio del electrodo i.
Al reunir Ny electrodos, la se√±al obtenida en estos se puede ver de forma compacta como muestra
la ecuaci√≥n (3).

Y ÔÄΩ XA ÔÄ´ ZB ÔÄ´ E

(4)

ÔÄ• ÔÇª ZB ÔÄ´ E
Y

(5)

Una vez las componentes SSVEP son removidas, se debe encontrar un vector de transformaci√≥n w, de magnitud unitaria, que disminuya la
min ÔÄ• 2 min T ÔÄ• T ÔÄ•
Yw resultante
ÔÄΩ
w Y Yw , es decir se debe
energ√≠a de la se√±al
w
w
resolver el problema de optimizaci√≥n dado por la
ecuaci√≥n (6).

min ÔÄ• 2 min T ÔÄ• T ÔÄ•
Yw ÔÄΩ
w Y Yw
w
w

(6)

Para encontrar el valor de w se usa la matriz siÔÄ• TY
ÔÄ• , a la cual se le calculan los valores
m√©trica Y
propios en cuyos valores se encuentran los l√≠mites
m√°ximo y m√≠nimo del lado derecho de la ecuaci√≥n (6). Dado que la matriz YÔÄ• T YÔÄ• es sim√©trica, entonces los vectores propios generaran canales no
correlacionados al ser vectores ortogonales.

(3)

Cada columna de la se√±al Y ÔÄΩ [ y1 ,..., yN y ]T contiene las muestras de un electrodo, la matriz A

Tecnura ‚Ä¢ p-ISSN: 0123-921X ‚Ä¢ e-ISSN: 2248-7638 ‚Ä¢ Vol. 20 No. 48 ‚Ä¢ Abril - Junio de 2016 ‚Ä¢ pp. 41-52

[ 46 ]

Una prueba fuera del laboratorio de una interfaz cerebro computador basada en potenciales de estado estable evocados visualmente
Caicedo Bravo, E. F., & Cardona Aristiz√°bal, J. E.

Los valores propios contienen el valor de energ√≠a que se conserva con la transformaci√≥n de su
vector propio equivalente, entonces el vector propio correspondiente al menor valor propio es la
soluci√≥n a la ecuaci√≥n 6; sin embargo, se toman
los valores propios que en total conserven un poco
m√°s del 10 % de la energ√≠a total (Friman, Volosyak
y Gr√§ser, 2007). Si los valores propios son ordenados de menor a mayor de la forma ÔÅ¨i ÔÇ£ ÔÅ¨i ÔÄ´1 , entonces se debe encontrar el m√≠nimo Ns que cumpla la
ecuaci√≥n (7).
N

SSVEP, es decir sobre los canales modificados seg√∫n la ecuaci√≥n (11).

ÔÄ•
(11)
SÔÄ• ÔÄΩ
S ÔÄ≠ X ( X T X ) ÔÄ≠1 X T S ÔÄΩ
YW
Para ajustar el modelo AR(p) se calcula la autocovarianza de cada canal mediante el teorema de
Wiener-Khinchin y se procede a resolver la ecuaci√≥n de Yule-Walker. De esta forma se encuentran
la varianza del ruido blanco œÉ2 y los par√°metros Œ±1,
Œ±2,‚Ä¶, Œ±p del modelo AR(p).
La potencia de las otras frecuencias para el arm√≥nico k se establece entonces con el modelo
AR(p) ajustado al canal Sl, teniendo en cuenta los
par√°metros seg√∫n la ecuaci√≥n (12).

s

ÔÉ•ÔÅ¨
i ÔÄΩ1
Ny

i

ÔÉ•ÔÅ¨
j ÔÄΩ1

ÔÄæ 0,1

(7)

i

Con los menores valores propios escogidos y
sus respectivos vectores propios, se encuentra la
transformaci√≥n W ÔÄΩ [ w1 ,..., wN s ], la cual genera los
canales S ÔÄΩ [ s1 ,..., sN s ] , sin embargo la transformaci√≥n es aplicada a la se√±al original, como muestra
la ecuaci√≥n (8).
S ÔÄΩ WY

ÔÅ≥ k2,l ÔÄΩ

(8)

ÔÉ¶ 2ÔÅ∞ i j kf ÔÉ∂
1 ÔÄ´ ÔÉ• ÔÅ° j ex p ÔÉß ÔÄ≠
ÔÉ∑
Fs ÔÉ∏
j ÔÄΩ1
ÔÉ®
p

2

(12)

M√©todo
En un espacio abierto se expuso el sistema y se invit√≥ a algunos voluntarios para que lo probaran, en
total fueron 32 personas, 5 mujeres y 27 hombres,
cuyo rango de edad est√° entre 18 y 53 a√±os, con
edad promedio 28,1 y desviaci√≥n est√°ndar 10,64,
que firmaron el consentimiento para participar en
la investigaci√≥n. A cada uno de los voluntarios se
les puso el Emotiv Epoc en la cabeza, rotado 180
grados de su posici√≥n normal para contar con 8
electrodos en la parte occipital del cerebro y se
revis√≥ que los electrodos presentaran una buena
se√±al. Se les explic√≥ a los voluntarios la forma de
mover el avatar en el laberinto. Luego, se daba

(9)

En la frecuencia de inter√©s, para el m√∫ltiplo k,
la potencia puede ser calculada como se muestra
en la ecuaci√≥n (10).

Pk ,l ÔÄΩ X kT sl

4

ÔÅ≥2

Donde i es igual al valor complejo ÔÄ≠1 .
El valor de T dado por la ecuaci√≥n 9 es calculado para todas las frecuencias; cuando alguno de
los valores de T supera un umbral preestablecido
es porque la frecuencia relacionada tiene una alta
potencia en comparaci√≥n con las otras, por consiguiente, el usuario estar√≠a mirando el est√≠mulo
respectivo.

Para establecer la presencia de las se√±ales SSVEP se usa un promedio de la relaci√≥n entre la
potencia de la se√±al SSVEP con respecto a la potencia de las dem√°s se√±ales, este promedio es calculado para cada m√∫ltiplo de la frecuencia y para
cada canal despu√©s de aplicar la transformaci√≥n,
como lo muestra la ecuaci√≥n (9).

1 N s N h Pk ,l
TÔÄΩ
ÔÉ•ÔÉ•
N s N h ÔÄΩi 1 ÔÄΩk 1 ÔÅ≥ k2,l

ÔÅ∞ Nt

(10)

El c√°lculo de la potencia sobre las frecuencias
restantes se hace mediante un modelo AR(p), el
cual se determina sobre los canales resultado de
la transformaci√≥n, pero restando las componentes

Tecnura ‚Ä¢ p-ISSN: 0123-921X ‚Ä¢ e-ISSN: 2248-7638 ‚Ä¢ Vol. 20 No. 48 ‚Ä¢ Abril - Junio de 2016 ‚Ä¢ pp. 41-52

[ 47 ]

Una prueba fuera del laboratorio de una interfaz cerebro computador basada en potenciales de estado estable evocados visualmente
Caicedo Bravo, E. F., & Cardona Aristiz√°bal, J. E.

RESULTADOS

inicio al software y se grababan los datos. Todos
empezaron con el laberinto inicial y, una vez realizado, se pasaba al laberinto libre. Se permiti√≥ que
los voluntarios manejaran el sistema hasta que decidieran retirarse.
Para todos los voluntarios se us√≥ un tMEC de 3
segundos, un td de 0,25 segundos y un umbral de
4; asimismo se usaron las frecuencias 15 Hz, 12
Hz, 10 Hz y 8,57 Hz para los est√≠mulos correspondientes a los comandos izquierda, arriba, derecha y abajo respectivamente. El valor MEC era
calculado tomando los 8 electrodos ubicados en
la parte occipital de la cabeza; cuando dicho valor superaba el umbral al menos dos veces en los
√∫ltimos 4 c√°lculos, se establec√≠a como seleccionada la frecuencia correspondiente. Una vez detectado el est√≠mulo se esperaban 3 segundos para
la recolecci√≥n de datos antes de realizar un nuevo c√°lculo.
Todos los par√°metros se mantuvieron fijos usando valores establecidos a partir de pruebas previas
al evento y no se cambiaron para ninguno de los
voluntarios, es decir no se tuvo proceso de calibraci√≥n sino que se pas√≥ directamente al juego.

De los 32 voluntarios, 5 se retiraron antes de terminar el laberinto inicial, en contraposici√≥n a 9 que
lograron una exactitud del 100 %, en la figura 3 se
muestra la distribuci√≥n de los 32 voluntarios seg√∫n
el rango de precisi√≥n.
En la figura 3 se puede observar tambi√©n que
62,5 % de los voluntarios lograron una precisi√≥n
mayor al 60 %, sin realizar ning√∫n proceso de calibraci√≥n, para estos 20 participantes la precisi√≥n
promedio fue de 79 %.
En la figura 4 se muestra el tiempo m√°ximo,
promedio y m√≠nimo alcanzado para la detecci√≥n
de un comando de los voluntarios agrupados seg√∫n los rangos de precisi√≥n.
Se puede notar que para el rango entre 40 % y
100 % el tiempo necesario para detectar un comando aumenta a medida que baja la precisi√≥n, posiblemente por la dificultad para producir las se√±ales
SSVEP; para una precisi√≥n menor a 40 %, el tiempo
de detecci√≥n disminuye nuevamente, sin embargo
se debe tener en cuenta que se detectan en un menor tiempo pero con un mayor n√∫mero de errores.

      
    

















Figura 3. Distribuci√≥n de voluntarios seg√∫n el rango de precisi√≥n
Fuente: elaboraci√≥n propia.

Tecnura ‚Ä¢ p-ISSN: 0123-921X ‚Ä¢ e-ISSN: 2248-7638 ‚Ä¢ Vol. 20 No. 48 ‚Ä¢ Abril - Junio de 2016 ‚Ä¢ pp. 41-52

[ 48 ]

Una prueba fuera del laboratorio de una interfaz cerebro computador basada en potenciales de estado estable evocados visualmente
Caicedo Bravo, E. F., & Cardona Aristiz√°bal, J. E.



   







!

!!

!!

!!

   

!!

!



Figura 4 Tiempo m√°ximo, promedio y m√≠nimo de detecci√≥n de comando seg√∫n rangos de precisi√≥n
Fuente: elaboraci√≥n propia.

La raz√≥n de transferencia de informaci√≥n alcanzada
(ITR, por su sigla en ingl√©s) en sus valores m√°ximo,
promedio y m√≠nimo, para los voluntarios agrupados
seg√∫n el rango de precisi√≥n se muestra en la figura
5. Se puede notar una reducci√≥n dr√°stica en el ITR
a medida que baja la precisi√≥n; esto era de esperarse considerando el aumento en el tiempo necesario
para detectar un comando y la disminuci√≥n en la
precisi√≥n, se nota tambi√©n una ca√≠da notable menor
a 2 bits/min para precisiones menores a 60 %. Agrupando los voluntarios con precisi√≥n entre 60 % y
100 % se logr√≥ un ITR de 8,78 bits/min.
El voluntario de mejor desempe√±o, con una
precisi√≥n de 100 %, logr√≥ un tiempo de detecci√≥n
de 3,068 segundos y un ITR de 39,1 bits/min.
Para los 20 participantes de mejor desempe√±o,
que tuvieron una precisi√≥n entre 60 % y 100 %,
se alcanzaron los valores promedio de precisi√≥n
de 79 %, un tiempo de detecci√≥n de comando de
6,4 segundos y una ITR de 8,78 bits/segundo. Para
estos 20 voluntarios se muestra la matriz de confusi√≥n en la tabla 1 para las 4 frecuencias; esta tabla
relaciona el n√∫mero de veces que se tiene un valor
esperado y el respectivo valor detectado.

Al ser un ambiente no controlado, los usuarios
realizaban movimientos principalmente de cabeza, pies y manos, a pesar del requerimiento de tratar de no hacerlos; esto puede estar relacionado
con que la mayor parte de las detecciones falsas se
encuentra en 10 Hz seguida de 12 Hz. Estas dos
frecuencias est√°n asociadas a los movimientos y
cambian su potencia ante la presencia de estos.
Asimismo se nota que el valor esperado contra el
obtenido de 12 Hz y 10 Hz tienen la mayor precisi√≥n con un 86,6 % y 84,3 %, respectivamente, seguidos de lejos por 8,57 Hz y 15 Hz con 75
% y 71,8 %, respectivamente. Esto podr√≠a mostrar
la conveniencia de escoger frecuencias cercanas a
los 12 Hz y 10 Hz para implementar BCI basados
en SSVEP, sin embargo se requiere de m√°s estudios
para poder corroborarlo.
Se puede notar en la matriz de confusi√≥n que
para los valores esperados de 12 Hz y 10 Hz solo
se presenta error en los valores vecinos, 15 Hz y
10 Hz para 12 Hz, y 12 Hz y 8.57 Hz para 10 Hz;
se necesitan m√°s estudios para determinar si dicha
tendencia es generalizada o fue un caso particular
de esta prueba.

Tecnura ‚Ä¢ p-ISSN: 0123-921X ‚Ä¢ e-ISSN: 2248-7638 ‚Ä¢ Vol. 20 No. 48 ‚Ä¢ Abril - Junio de 2016 ‚Ä¢ pp. 41-52

[ 49 ]

Una prueba fuera del laboratorio de una interfaz cerebro computador basada en potenciales de estado estable evocados visualmente
Caicedo Bravo, E. F., & Cardona Aristiz√°bal, J. E.







 









 #

# #

# #


# #

#

#

#

     

Figura 5. ITR m√°ximo, promedio y m√≠nimo seg√∫n rangos de precisi√≥n
Fuente: elaboraci√≥n propia.

Tabla 1. Matriz de confusi√≥n para las frecuencias de los est√≠mulos visuales
Detectado

Esperado

15hz
12hz
10hz
8,57hz

15hz

12hz

10hz

8,57hz

23
2
0
4

2
26
2
3

7
2
27
1

0
0
3
24

Fuente: elaboraci√≥n propia.

CONCLUSIONES

interpretados directamente desde la actividad cerebral sin requerir ning√∫n otro m√©todo de entrada
durante la ejecuci√≥n del juego, logrando el objetivo sin la intervenci√≥n de controles convencionales.
El sistema implementado plantea la posibilidad
de realizar aplicaciones BCI con lectores de ondas
EEG de bajo costo y de f√°cil instalaci√≥n al contar
con electrodos sin gel. Se pudo comprobar que se
pueden obtener buenos resultados a pesar del ruido que aumenta en este tipo de dispositivos.
Las pruebas realizadas en este trabajo fueron
llevadas a cabo fuera del laboratorio durante un
evento p√∫blico; las condiciones eran desafiantes
por el corto tiempo disponible para las pruebas,

Una vez realizada la prueba fuera del laboratorio se pudo comprobar que el sistema BCI basado en SSVEP implementado puede ser usado por
personas saludables en un rango amplio de edades, entre 18 y 53 a√±os, donde el 84 % lograron
el objetivo del juego sin realizar ning√∫n tipo de
calibraci√≥n. Los resultados podr√≠an mejorar al incluir procedimientos para escoger las frecuencias
y umbrales que mejor se ajusten a cada uno de los
usuarios.
Se pudo comprobar la viabilidad de interactuar con el computador al enviar comandos

Tecnura ‚Ä¢ p-ISSN: 0123-921X ‚Ä¢ e-ISSN: 2248-7638 ‚Ä¢ Vol. 20 No. 48 ‚Ä¢ Abril - Junio de 2016 ‚Ä¢ pp. 41-52

[ 50 ]

Una prueba fuera del laboratorio de una interfaz cerebro computador basada en potenciales de estado estable evocados visualmente
Caicedo Bravo, E. F., & Cardona Aristiz√°bal, J. E.

las variaciones de iluminaci√≥n, el ruido circundante y las distracciones. A pesar de las condiciones
adversas se logr√≥ un buen desempe√±o para la mayor√≠a de los participantes.
El sistema planteado usa el total de 8 electrodos, una de las mejoras que se puede aplicar al
sistema es reducir el n√∫mero de electrodos usados
para el procesamiento al buscar las combinaciones de mejor desempe√±o. Otras mejoras posibles
incluyen r√°pidos procedimientos de calibraci√≥n
basados en comparar la se√±al con est√≠mulo ausente y con est√≠mulo presente, buscar las mejores frecuencias y umbrales de forma previa o de forma
autom√°tica, y probar con diferentes metodolog√≠as
que permitan aumentar la precisi√≥n y el tiempo de
detecci√≥n. Dado que el procedimiento b√°sico aqu√≠
planteado funciona parcialmente, es prometedor
el desempe√±o que se puede obtener al implementar diferentes mejoras.

Edlinger, G. y Guger, C. (1-4 de julio de 2012). A Hybrid Brain-Computer Interface for Improving the
Usability of a Smart Home Control. Proceedings of
2012 ICME International Conference on Complex
Medical Engineering. Kobe, Jap√≥n.
Francois, V.; Monique, M.; Dauwels, J. y Cichocki, A.
(2010). Steady-State Visually Evoked Potentials: Focus on Essential Paradigms and Future Perspectives.
Progress in Neurobiology, 90, 418-438.
Friman, O.; Volosyak, I. y Gr√§ser, A. (abril de 2007).
Multiple Channel Detection of Steady-State Visual
Evoked Potentials for Brain-Computer Interfaces.
IEEE Transactions on Biomedical Engineering, 54(4).
Hortal, E.; √öbeda, A.; I√°nez, E. y Azor√≠n, J.M. (2014).
Control of a 2 DoF robot using a Brain‚ÄìMachine
Interface. Computer Methods and Programs in Biomedicine, 116, 169-176.
Hwang, H.J.; Lim, J.H.; Jung, Y.J.; Choi, H. y Woo Lee,
S. (30 de junio de 2012). Development of an SSVEP-Based BCI Spelling System Adopting a QWERTY-Style LED Keyboard. Journal of Neuroscience
Methods, 59-65.
Hwang, H.J.; Lim, J.H.; Lee, J.H. e Im, C.H. (18-20 de
febrero de 2013). Implementation of a Mental Spelling System Based on Steady-State Visual Evoked
Potential (SSVEP). International Winter Workshop
on Brain-Computer Interface (BCI). Gangwon, Corea del Sur.
I√°√±ez, E.; Azor√≠n, J.M.; √öbeda, A.; Fern√°ndez, J.M. y
Fern√°ndez, E. (13 de diciembre de 2010). Mental
Tasks-Based Brain‚ÄìRobot Interface. Robotics and
Autonomous Systems, 58(12), 1238-1245.
Lim, J.H.; Hwang, H. J. e Im, C.H. (18-20 de febrero
de 2013). ‚ÄúEyes-Closed‚Äù SSVEP-Based BCI for Binary Communication of Individuals with Impaired
Oculomotor Function. International Winter Workshop on Brain-Computer Interface. Gangwon, Corea
del Sur.
Martinez, P.; Bakardjian, H. y Cichock, A. (22 de mayo
de 2007). Fully Online Multicommand Brain-Computer Interface with Visual Neurofeedback Using
SSVEP Paradigm. Computational Intelligence and
Neuroscience, 1-9.

FINANCIAMIENTO
El art√≠culo fue un resultado derivado del proyecto
de investigaci√≥n ‚ÄúPlataforma rob√≥tica para la movilidad asistida de personas con discapacidad‚Äù,
que fue avalado y financiado por la Universidad
del Valle.

REFERENCIAS
Allison, B.; Graimann, B. y Gr√§ser, A. (13-15 de junio
de 2007). Why Use A BCI If You Are Healthy? BRAINPLAY 07. Brain-Computer Interfaces and Games
Workshop at ACE (Advances in Computer Entertainment), 1-5. Salzburgo, Austria.
Cheng, M.; Gao, X.; Gao, S. y Dingfeng, X. (octubre de
2002). Design and Implementation of a Brain-Computer Interface with High Transfer Rates. IEEE
Transactions on Biomedical Engineering, 49(10),
1181-1186.
Diez, P.F.; Mut, V.A.; Avila P., E. y Laciar L., E. (14 de
julio de 2011). Asynchronous BCI control using high-frequency SSVEP. Journal of Neuroengineering
and Rehabilitation, 8(39), 1-8.

Tecnura ‚Ä¢ p-ISSN: 0123-921X ‚Ä¢ e-ISSN: 2248-7638 ‚Ä¢ Vol. 20 No. 48 ‚Ä¢ Abril - Junio de 2016 ‚Ä¢ pp. 41-52

[ 51 ]

Una prueba fuera del laboratorio de una interfaz cerebro computador basada en potenciales de estado estable evocados visualmente
Caicedo Bravo, E. F., & Cardona Aristiz√°bal, J. E.

Mill√°n, J.D.; Rupp, R.; M√ºller Putz, G.R.; Murray Smith,
R.; Giugliemma, C.; Tangermann, M. et al. (2010).
Combining Brain-Computer Interfaces and Assistive Technologies: State-of-the-Art and Challenges.
Frontiers in Neuroscience, 4, 1-15.
Nishifuji, S. y Kuroda, T. (28 de agosto a 1 de septiembre
de 2012). Impact of Mental Focus on Steady-State
Visually Evoked Potential under Eyes Closed Condition for Binary Brain Computer Interface. 34th
Annual International Conference of the IEEE Engineering in Medicine and Biology Society (EMBC).
San Diego, EE. UU.
Rak, R.J.; Ko≈Çodziej, M. y Majkowski, A. (2012). Brain-computer interface as measurement and control system. Metrology and Measurement Systems,
XIX(3), 427-444.
Resalat, S.N.; Saba, V. y Afdideh, F. (2-3 de mayo de
2012). A Novel System for Driver‚Äôs Sleepiness Detection Using SSVEP. 16th CSI International Symposium on Artificial Intelligence and Signal Processing
(AISP). Fars, Ir√°n.
Shyu, K.K.; Chiu, Y.J.; Lee, P.L.; Lee, M.H.; Sie, J.J.; Wu,
C.H. et al. (julio de 2013). Total Design of an FPGA-Based Brain‚ÄìComputer Interface Control Hospital Bed Nursing System. IEEE Transactions on
Industrial Electronics, 60(7), 2731-2739.

Singla, R. y Haseena, B.A. (julio de 2013). BCI Based Wheelchair Control Using Steady State Visual
Evoked Potentials and Support Vector Machines. International Journal of Soft Computing and Engineering (IJSCE), 3(3), 46-52.
Singla, R.; Khosla, A. y Jha, R. (2013). Influence of Stimuli Color on Steady-State Visual Evoked Potentials
Based BCI Wheelchair Control. Journal of Biomedical Science and Engineering, 6(11), 1050-1055.
Vliet, M.V.; Robben, A.; Chumerin, N.; Manyakov,
N.V.; Combaz, A. y Van Hulle, M.M. (enero 9-11
de 2012). Designing a brain-computer interface
controlled video-game using consumer grade EEG
hardware. Biosignals and Biorobotics Conference
(BRC), 2012 ISSNIP. Manaos, Brasil.
Wolpaw, J.R.; Birbaumer, N.; Heetderks, W.J.; McFarland, D.J.; Peckham, P.H.; Schalk, G. et al. (2000).
Brain-Computer Interface Technology: A Review of
the First International Meeting. IEEE Transactions on
Rehabilitation Engineering, 8(2), 164-173.
Zhang, Y.; Xu, P.; Tiejun, L.; Hu, J.; Zhang, R. y Yao, D. (6
de marzo de 2012). Multiple Frequencies Sequential Coding for SSVEP-Based Brain-Computer Interface. PLoS One, 7(3), 1-9.

Tecnura ‚Ä¢ p-ISSN: 0123-921X ‚Ä¢ e-ISSN: 2248-7638 ‚Ä¢ Vol. 20 No. 48 ‚Ä¢ Abril - Junio de 2016 ‚Ä¢ pp. 41-52

[ 52 ]

