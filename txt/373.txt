J. Health Inform. 2014 Outubro; 6(Número Especial): 105-13

Artigo Original

Serious Games for Stroke Rehabilitation Employing Immersive User
Interfaces in 3D Virtual Environment
Uso de Seriuos Games para reabilitação de AVCs através de interfaces imercivas em
ambientes virtuais 3D
Utilizacion de Serious Games para reabilitacion de derrames por medio de interfaces inmersivas en
ambientes virtuales 3D
Emmanouela Vogiatzaki1, Artur Krukowski2

ABSTRACT
Keywords:
Rehabilitation; Stroke;
Virtual Reality Therapy;
Experimental Games

Stroke is a disease with very high socio-economic impact. In average, the healthcare expenditure cost for Strokes across
different countries in Europe and USA exceeds 3% of their entire healthcare expenditure, including inpatient treatments,
outpatient hospital visits and long-term rehabilitation and care. Therefore, there is an urgent need for devising an
effective long-term care and rehabilitation strategy for stroke patients, which would actively involve patients in the
rehabilitation process while minimizing costly human support. This paper reports on the ongoing developments of the
serious gaming approach to an integrated rehabilitation training for post-stroke patients employing the Unity3D virtual
reality environment combined with a hybrid of advanced media technologies and immersive user interfaces. The
proposed approach empowers the patients and their caretakers for effective application of rehabilitation protocols in
their home settings, while leading physicians are enabled to supervise the progress of the rehabilitation (and intervene if
needed) through the use of Personal Health Record (PHR) system. The increased rehabilitation speed and ability to
perform training at home directly improves quality of life of patients. The work described herein has been performed in
the “StrokeBack” project co-funded by the European Commission under the Framework 7 Program in the ICT domain.

Descritores:
Reabilitação; Acidente
vascular cerebral; Terapia
da realidade virtual; Jogos
experimentais

RESUMO

Descriptores:
Rehabilitación; Accidente
cerebrovascular; Terapia
de realidad virtual; Juegos
experimentales

RESUMEN

1
2

Acidentes vasculares são incidentes com um alto impacto socioeconômico. Em média, tratamentos na Europa e nos
EUA para pacientes com este problema pode ultrapassar 3% de todo o orçamento de uma seguradora, incluindo
atendimento em hospitais, visitas a domicílios e tratamentos de reabilitação. Assim sendo, há uma grande urgência para
encontrar tratamentos e estratégias de atendimento de longo tempo que sejam capazes de reduzir os recursos humanos
e custos necessários. Este trabalho apresenta o desenvolvimento de jogos sérios como uma estratégia para integrar
tratamentos de reabilitação para pacientes que tiveram derrames. A solução utiliza um cenário de realidade virtual
combinado com tecnologias avançadas de mídias e interfaces imersivas. A proposta potencializa a reabilitação dos
pacientes, possibilitando-os que permaneçam em suas casas, ao mesmo tempo permitindo que os médicos tenham a
capacidade de supervisionar o progresso de suas atividades (e se necessário também interfiram), através do uso do
sistema PHR (Armazenamento de Saúde Pessoal). O aumento da velocidade obtida na reabilitação e a habilidade de
realizar treinamentos em casa impacta diretamente na qualidade de vida dos pacientes. O trabalho apresentado foi
desenvolvido dentro do contexto do projeto “StrokeBack”, que foi co-financiado pela comissão Europeia dentro do
Programa Framework 7, no domínio da ICT.

Accidentes vasculares son incidentes con un alto impacto socioeconómico. En promedio, un tratamiento en Europa
o Estados Unidos para pacientes con este problema puede ultrapasar el 3% del presupuesto de una seguradora,
incluyendo atendimientos en hospitales, visitas a domicilios y tratamientos de rehabilitación. Siendo así, hay una gran
urgencia en encontrar tratamientos y estrategias de atendimiento de largo tiempo que sean capaces de reducir los
recursos humanos y costos necesarios. Este trabajo presenta el desarrollo de juegos serios como estrategia para integrar
tratamientos de rehabilitación para pacientes que tuvieron derrames. La solución utiliza un ambiente de realidad
virtual combinado con tecnologías avanzadas de medias y interfaces interactivas. La propuesta potencializa la
rehabilitación de pacientes, posibilitándolos que permanezcan en sus casas, al mismo tiempo permitiendo que los
médicos tengan la capacidad de supervisiones del progreso de sus actividades (y si necesario también interfieran),
mediante el uso del sistema PHR (Almacenamiento de Salud Personal). El aumento de la velocidad obtenida en la
rehabilitación y en la habilidad de realizar entrenamientos en la casa impacta directamente en la calidad de vida de los
pacientes. El trabajo fue desarrollado dentro del contexto del proyecto “StrokeBack”, que fue co-financiado por la
comisión Europea dentro del Programa Framework 7, en el dominio de la ICT.

Research for Science, Art and Technology (RFSAT) Ltd, Athens, Greece.
Intracom S. A. Telecom Solutions, Athens, Greece.

Autor Correspondente: Emmanouela Vogiatzaki
e-mail: emmanouela@rfsat.com

Artigo recebido: 24/06/2014
Aprovado: 15/09/2014
www.jhi-sbis.saude.ws

106

INTRODUCTION AND MOTIVATION
Stroke affects about 2 Million(1) people every year in
Europe. For these people the effect of stroke is that they
lose certain physical and cognitive abilities at least for a
certain period. More than one third of these patients i.e.
more than 670,000 people return to their home with some
level of permanent disability leading to a significant
reduction of quality of life, which affects not only the
patients themselves but also their relatives. This increases
costs of health care services associated with hospitalisation,
home services and rehabilitation. Therefore, there is a
strong need to improve ambulant care model, in particular,
at the home settings, involving the patients into the care
pathway, for achieving maximal clinical outcome and best
quality of life.
THE CONCEPT OF THE “STROKEBACK”
PROJECT
The StrokeBack project addresses both of the
indicated problem areas. The goal of the project is the
development of a telemedicine system, which supports
ambulant rehabilitation at home settings for the stroke
patients with minimal human intervention. With
StrokeBack, the patients would be able to perform
rehabilitation in their own home where they feel
psychologically better than in care centres. In addition, the
contact hours with a physiotherapist could be reduced
thus leading to a direct reduction of healthcare cost. By
ensuring proper execution of physiotherapy trainings in
an automated guided way modulated by appropriate
clinical knowledge and in supervised way only when
necessary, StrokeBack aims to empower and stimulates
patients to exercise more while achieving better quality
and effectiveness than it would be possible today. This
way StrokeBack system is expected to improve
rehabilitation speed, while ensuring high quality of life
for patients by enabling them to continue rehabilitation in
their familiar home environments instead of subjecting
them to alien and stressful hospital settings, reducing also
indirect healthcare cost.
The concept of StrokeBack is complemented by a
Patient Health Record (PHR) system in which training
measurements and vital physiological and personal patient
data are stored. Thus, PHR provides all the necessary
medical and personal information for the patient that
rehabilitation experts might need in order to evaluate the
effectiveness and success of the rehabilitation, e.g. to
deduce relations between selected exercises and
rehabilitation speed of different patients as well as to assess
the overall healthiness of the patient. In addition, the
PHR can be used to provide the patient with mid-term
feedback e.g. her/his, rehabilitation speed compared to
average as well as improvements over last day/weeks, in
order to keep patient motivation high.
The StrokeBack project aims at increasing the
rehabilitation speed of stroke patients while patients are
in their own home. The benefit we expect from our
approach is twofold. Most patients feel psychologically

J. Health Inform. 2014 Outubro; 6(Número Especial): 105-13

better in their own environment than in hospital and
rehabilitation speed is improved. Furthermore, we focus
on increasing patients’ motivation when exercising with
tools similar to a gaming console.
The StrokeBack concept puts the patient into the centre
of the rehabilitation process. It aims at exploiting the fact
the patients feel better at home, that it has been shown
that patients train more if the training is combined with
attractive training environments. First, the patients learn
physical rehabilitation exercises from a therapist at the care
centre or in a therapists’ practice. Then the patients can
exercise at home with the StrokeBack system monitoring
their execution and providing a real-time feedback on
whether the execution was correct or not. In addition, it
records the training results and vital parameters of the
patient. This data can be subsequently analysed by the
medical experts for assessment of the patient recovery.
Furthermore, the patient may also receive midterm
feedback on her/his personal recovery process. In order
to ensure proper guidance of the patient, the therapist
also gets information from the PHR to assess the recovery
process enabling him to decide whether other training
sequences should be used, which are then introduced to
patients in practice.
THE CONCEPT OF GAME-STIMULATED
REHABILITATION
The use of virtual, augmented and/or immersive
environments for training and rehabilitation of post-stroke
patients opens an attractive avenue in improving various
negative effects occurring because of brain traumas. Those
include helping in the recovery of the motor skills, limbeye coordination, orientation in space, everyday tasks etc.
Training may range from simple goal-directed limb
movements aimed at achieving a given goal (e.g. putting a
coffee cup on a table), improving lost motor skills (e.g.
virtual driving), and others. In order to increase the
efficiency of the exercises advanced haptic interfaces are
developed, allowing direct body stimulation and use of
physical objects within virtual settings, supplementing visual
stimulation.
Immersive environments have quickly been found
attractive for remote home-based rehabilitation giving
raise to both individual and monitored by therapists
remotely. Depending on the type of a physical interface,
different types of exercises are possible. Interfaces like
Cyber Glove (2) or Rutgers RMII Master (3) allow the
transfer of patient’s limb movement into the virtual gaming
environment. They employ a set of pressure-sensing
servos, one per finger, combined with motion sensing.
This allows therapists to perform e.g. range of motion,
speed, fractionation (e.g. moving individual fingers) and
strength (via pressure sensing) tasks. Games include two
categories: physical exercises (e.g. DigiKey, Power Putty)
and functional rehabilitation (e.g. Peg Board or Ball Game)
ones. They use computer monitors for visual feedback.
Cyber Glove has been used by Rehabilitation Institute of
Chicago (4) also for assessing the pattern of finger
movements during grasp and movement space
www.jhi-sbis.saude.ws

Vogiatzaki E, Krukowski A.

determination for diverse stroke conditions. Virtual
environments are increasingly used for functional training
and simulation of natural environments, e.g. home, work,
outdoor. Exercises may range from simple goal-directed
movements(5) to learn/train for execution of everyday
tasks.
Current generation of post-stroke rehabilitation
systems, although exploiting latest immersive technologies
tend to proprietary approaches concentrating on a closed
range of exercise types, lacking thoroughly addressing the
complete set of disabilities and offering a comprehensive
set of rehabilitation scenarios. The use of technologies is
also very selective and varies from one system to another.
Although there are cases of using avatars for more intuitive
feedback to the patient, the use of complicated wearable
devices makes it tiresome and decreases the effectiveness
of the exercise. In our approach we have been exploring
novel technologies for body tracing that exploit the rich
information gathered by combining wearable sensors with
visual feedback systems that are already commercially
available such as Microsoft Kinect or Leap Motion user
interfaces and 3D virtual/augmented vision.
The immersive environment we develop aims to
support full 3D physical and visual feedback through
Mixed-Reality interaction and visualisation technologies
placing the user inside of the training environment.
Considering that detecting muscle activity cannot be done
without wearable device support, our partner in the
project, IHP GmbH, has been developing a customizable
lightweight embedded sensor device allowing short-range
wireless transmission of most common parameters
including apart from EMG, also other critical medical
signs like ECG, Blood Pressure, heart rate etc. This way
the training exercises become much more intuitive in their
approach by using exercise templates with feedback
showing correctness of performed exercises. Therapists

107

are then able to prescribe a set of the rehabilitation exercises
as treatment through the EHR/PHR platform(s) thus
offering means of correlating them with changes of
patient’s condition, showing effectiveness in patients’
recovery process.
STROKEBACK ARCHITECTURE
A conceptual system architecture of the StrokeBack
system is shown in Figure 1. It contain a Patient System
deployed at home supporting physiological remote
monitoring of patient wellbeing, runs the rehabilitation
games and offers full integration with online Personal health
Record (PHR) used as a data repository for sharing
information between the patient and his/her physician(s).
It offers full support to immersive user interfaces like
Kinect, Leap Motion, Emotiv EEG and other ones,
combined with a range of virtual and augmentation
systems in order to enable fully immersive gaming
experience. We support 3D Smart TVs, AR/VR visors
and 3D projectors as shown in Figure 2. The system is
geared to offer also fully support usage also on mobile
devices like smartphones, tablets etc. We also develop an
affordable integrated gaming solution, a “Smart Table”,
for both near field and full-body exercises. The clinician
part of the system provides access to back-office PHR
data repository for constant monitoring of patients’
condition, the progress of their rehabilitation and other
relevant physiological data including audio-visual
connection if needed. The back-office services is based
on the intLIFE core PHR service platform from Intracom
S. A. Telecom Solutions.
The overall gaming system built using client-server
approach allows to store and serve games of the PHR
server, thus maximally lowering the load on the client
devices. This allowed us from one side to run games on

Figure 1 - Conceptual architecture of the StrokeBack system
www.jhi-sbis.saude.ws

108

such devices as Smart TVs or Smartphones, while offering
us flexibility of maintaining the latest versions of the games
without the need of updating the clients. However, since
any networked based system needs to anticipate that
connectivity may not be always maintained, we have built
into our system two scenarios: when network is constantly
available and for the case, it is not (Figure 3).
In the first case, game server is executed remotely, while
in the second case it can be executed locally and use games
downloaded earlier. Similarly, physiological data and game
progress info can be either uploaded to the server on the
fly or pre-stored and uploaded when network link is reestablished.

J. Health Inform. 2014 Outubro; 6(Número Especial): 105-13

BODY SENSING AND USER INTERFACES
In order to enable the tracking the correctness of
performed exercises automatically without the constant
assistance of the physicians, an automated means of
tracking and comparing patient’s body movement against
correct ones (templates) has to be developed. This is an
ongoing part of the work due to the changing
requirements from our physicians. Although many
methods are in existence, most of them employ elaborate
sets of wearable sensors and/or costly visual observations.
In our approach we initially intended to employ a
proprietary approach using visual-light scanning, but the

Figure 2 - Physical architecture of the gaming part of a StrokeBack system

Figure 3 - Online & offline “games” interaction with remote PHR portal
www.jhi-sbis.saude.ws

Vogiatzaki E, Krukowski A.

recent availability of new Kinect, Prime Sense and Leap
Motion sensors made us change our approach and use
existing infrared-LED solutions.
When better accuracy is required that offered by 3D
scanners then additional micro embedded sensor nodes
are employed, e.g. gyros (tilt and position calibration) and
inertial/accelerometers (speed changes). Such are readily
available for us in both EPOC EEG U/I from Emotiv
(used currently as a U/I, though intended to be used in
the future for seizure risk alerting) and on Shimmer EMG
sensor platform that we use for detecting muscle activity
during the exercises. Considering extremely small sizes of
such sensors (less than 5x5mm each) a development of
lightweight wireless energy-autonomous (employing
energy harvesting technologies) may be possible.
Muscle activity poses problems for measurement since
it has been well known for many(6) years that EMG reflects
effort rather than output and so becomes an unreliable
indicator of muscle force as the muscle becomes fatigued.
Consequently measurement of force, in addition to the
EMG activity, would be a considerable step forward in
assessing the effectiveness of rehabilitation strategies and
could not only indicate that fatigue is occurring, but also
whether the mechanism is central or peripheral in origin(7).
Similarly, conventional surface EMG measurement
requires accurate placement of the sensor over the target
muscle, which would be inappropriate for a sensor system
integrated within a garment for home use. Electrode
arrays are, however, now being developed for EMG
measurement and signal processing is used to optimise
the signal obtained. Several different solutions have been
investigated to offer sufficiently reliable, but also economic
muscle activity monitoring. Sensors use a dedicated WSN
solution from IHP GmbH.
However, EMG is not the only sensor that is needed
for home hospitalisation of patients suffering from chronic
diseases like stroke. This requires novel approaches to

109

combining building blocks in a body sensor network.
Existing commercial systems provide basic information
about activity such as speed and direction of movement
and postures. Providing precise information about
performance, for example relating movement to muscle
activity in a given task and detecting deviations from normal,
expected patterns or subtle changes associated with
recovery, requires a much higher level of sophistication of
data acquisition and processing and interpretation. The
challenge is therefore to design and develop an integrated
multimodal system along with high-level signal processing
techniques and optimisation of the data extracted.
The existing techniques for taking measurements on
the human body are generally considered to be adequate
for the purpose but are often bulky in nature and
cumbersome to mount, e.g., electro-goniometers, and they
can also be expensive to implement, e.g., VIACON camera
system. Sine their usability for home environments is very
limited, we decided to address those deficiencies by
extending state-of-the-art:
• Extending the application of existing sensor
technologies: We use commercially available MEMS sensors
with integrated wireless modules to measure joint angles
on the upper and lower limbs in order to allow wirefree, low-cost sensor nodes that are optimized in terms
of their information content and spatial location.
• Novel sensing methodologies to reduce a number
of sensors worn on a body, while maintaining good
information quality. With the advent of the Xbox Kinect
and similar systems, the position and movement of a
human will be possible to be monitored using a low-cost
camera mounted on or below the TV set.
• Easy system installation and calibration by non-experts
for use in a non-clinical environment, thus making this
solution suitable for use at home for the first timer and
with support or non-trained caretakers and family
members.

Figure 4 - Integration diagram of the overall home system of StrokeBack
www.jhi-sbis.saude.ws

110

• Transparent verification of correct execution of
exercises by patients may be based on data recorded by
Body Area Networks (BAN), correlation of prescribed
therapies with medical condition thus allows to determine
their effectiveness on patient’s condition, either it is positive
or negative.
SYSTEM PROTOTYPING
The project has reached two years of its lifetime already
and the prototyping as well as integration of various
technologies have already started. This refers to the
physiological monitoring with Shimmer sensors, gaming
user interfaces as well as the games themselves, for which
we decides to focus on Unity3D engine.
In Figure 4 the subunit assembly diagram of the
“Patients home training place” is depicted. The blue and
grey rectangles designate respective elements, while green
ones are the user interfaces. The PTZ-camera features pantilt-zoom.
PHYSIOLOGICAL SENSING
The application support for physiological sensors has
been made for both standard and embedded computers
as well as mobile devices, e.g. Android smartphones. For
those we used SDK and relevant example software from
Shimmer. Since home based rehabilitation may increase
the risk of stroke re-occurrence we have decided to include
EEG sensor, a 2*7-node Emotiv EPOC EEG, which
we use for monitoring of brain signals, looking for
“flashing” activity between the two brain spheres, being
indicated by participating physiotherapists as a sign of a
likely pre-event condition. Such a device offers an
additional benefit for being used as a supplementary
gaming interface, thus shifting patient’s perception from
its use as a preventive device to enjoying and using for
controlling games with the “power of the mind”. It is
not without a merit that Emotiv offers also a Unity3D
support for its device, not to mention ongoing
development of an even more powerful INSIGHT(8)
version of the EEG sensor. In the current development
apart from searching for clues indicating pre-stroke risks
and as “mouse”-like user interface, we use EPOC for
establishing a correlation between the mental intention to
move a limb and the physical action. This way by
combining with the data from the EMG sensor(s) we
aim to detect cases when patient’s brain correctly issues a
signal to e.g. move an arm, but the patient does not do it
e.g. due to a broken nerve connection to the muscle in
the hand.
REHABILITATION GAMES USING A
“KINECT SERVER”
The principal user interface used to control our games
has been Microsoft Kinect, the Xbox version at first and
then the Windows version when it has been first released
in early 2012. Its combination of distance sensing with
the RGB camera proved perfectly suitable for both full

J. Health Inform. 2014 Outubro; 6(Número Especial): 105-13

body exercises (exploring its embedded skeleton
recognition) as well as for near-field exercises of upper
limbs. However since Kinect has not been designed for
short range scanning of partial bodies, the skeleton tracking
could not be used and hence we had to develop our own
algorithms that would be able to recognise arms, palms
and fingers and distinguish them from the background
objects. This has led to the development of the “Kinect
server” based on open source algorithms. The first
implementation has used Open NI (closed in April 2014
following the acquisition of PrimeSense by Apple(9))
drivers offering the opportunity for our software to be
built for both MS Windows and Linux platforms.
The main features of our implementation offers the
capabilities of restricting the visibility window, filtering
the background beyond prescribed distance, distinguishing
between separate objects etc. This way we were able to
implement the Kinect based interface where following
the requirements of our physiotherapists we replaced the
standard keyboard arrows with gestures of the palm (up,
down, left, right and open/close to make a click). Such
an interface allowed for the first game-based rehabilitation
of stroke patients suffering from limited hand control.
The tests were first made with Mario Bros game where
all controls were achieved purely with movements of a
single palm. The algorithm for analysing wrist position
and generating respective keyboard clicks has been
developed initially in Matlab and then ported to PERL
for deployment along with the Kinect server on an
embedded hardware.
We assume in our approach that wrists are placed
steadily on a support, while patients palm would always
have fingers closer to the Kinect than the rest of a hand,
this allowing easily to determine the palm position and
direction the fingers point. Under such condition, we did
not have to pay much attention to Kinect calibration and
could avoid fixing the relative position of the hand
support with respect to the Kinect device. This allowed
us to remove the background simply by disregarding
anything more distant than the average palm length centred
on the centre of gravity (i.e. centre of the palm itself).
The line was then interpolated through remaining points in
3D, whereby the closest point detected was indicating the tip
of the closest finger. The direction of the line was equivalent
to the movement of a hand in a given direction allowing us
to generate the correct keystroke combination (w-a-s-d for
N-W-S-E). Since the accuracy was, better than 1/8 of the
circle it allowed us to determine also diagonal movements
(double keystrokes, i.e. wd-wa-sd-sa for NW-NE-SE-SW).
A predefined time delay was applied corresponding to
control detection “speed”.
Since classical rehabilitation required the use of physical
objects, like cubes of glasses we have implemented
subsequently a “cube stacking” game, where patient had to
use the physical cubes and place them carefully onto the
placeholders displayed on the computer screen positioned
flat on the table (later replaced with overhead projection) as
shown in Figure 5a.
In this figure the red cubes and placeholders (grey squares)
are visible. The first level starts with one cube and placeholder
www.jhi-sbis.saude.ws

Vogiatzaki E, Krukowski A.

111

(a)
(b)
Figure 5 - Game with real cubes to be placed on the virtual (projected) board (a) and using real paper ball to “shoot”
virtual targets (b)
parallel to screen edge, then as the game progresses more
cubes are used and their requested position could be in any
direction. A score was calculated taking into consideration
both the time to place the cubes and the accuracy of placing
them over the placeholder. The score was reported in the
PHR allowing the physician to track the progress of the patient
from one exercise to another. Another variant of the game
introduced the possibility of stacking cubes one on top of
the other. An alternative gaming approach to mixing virtual
and real objects was a game where patients were asked to
throw a paper ball at virtual circles on the screen (Figure 5b).
Such games allowed patients to exercise the whole arm, not
just the wrist. Hitting the circle that represented a virtual balloon
was rewarded with an animated explosion of the balloon
and a respective sound. Such a game proved to be very
enjoyable for the patients letting them concentrate on
perfecting their movements while forgetting about their
motor disabilities, hence increasing the effectiveness of their
training.
The limitations of the Kinect in terms of the compatibility
with certain Operating Systems, diversity of oftenincompatible drivers and restrictiveness to high-end
computing platforms has pushed us to investigating alternative
ways of interacting with Kinect devices. This has led to the
attempt to develop an “Embedded Kinect Server” or EKS.
Our idea was to use a micro embedded computer like
Raspberry PI(10) or similar and allow the client device that

was running the game to access data from the EKS via local
wireless (or wired) network. Such an approach would allow
us to remove the physical connectivity restriction of the Kinect
and allow 3D scanning capability from any device as long as
it was connected to a network.
Several embedded computing platforms have been
investigated: Raspberry PI, eBox 3350, Panda board (Figure
6) and many other ones. The tests have revealed the inherent
problem with the Kinect physical design that is shared
between the Xbox and the subsequent Windows version that
is the need to draw high current from the USB port in order
to power its sensors, despite the separate power supply still
required. Hardware modifications of the Raspberry PI aimed
to increase the current supplied to its USB ports, use of
powered external USB hub and other work-around proved
all unsuccessful. To date only the Panda Board proved to be
the only embedded computer able to maintain the Kinect
connectivity and running our EKS. In our tests we have
managed to run the Mario Bros game on an Android
smartphone and use the Kinect wirelessly to control the game
by moving patient’s wrists.
Subsequently we have investigated more advanced class
of games for stroke patients for full-body exercises. In such
a case we have chosen to build such games using 3D engine
and employ avateering approach, that is patient’s body motion
capture and its projection onto a virtual avatar. When we
have started our first implementation, the MS Kinect SDK

(a)

(b)

Figure 6 - Embedded Kinect servers: (a) Panda board and the physical view of the prototype integrated with the MS
Kinect for Windows device (b)
www.jhi-sbis.saude.ws

J. Health Inform. 2014 Outubro; 6(Número Especial): 105-13

112

was not available yet and hence we have explored various
“hacks” built by the Kinect developer community. The most
applicable to our needs appeared to be ZigFu(11), which was
compatible with Open NI drivers and easy to use under
Unity3D(12) editor. It proved easier than using other similar
commercial products like Brekel(13) or Autodesk Motion
Builder(14).
A prototype system is developed featuring different
environments, from familiar home spaces (Figure 7a) to
simplified hospital environments (Figure 7b). Scenes with one
and two avatars were implemented. The first one was intended
as a base for self-training exercises where instruction would be
overlaid over the avatar to indicate the movements that the
patient would need to perform in order to pass the exercise.
A two-avatar scenario was aimed to offer the side-byside exercise together with a virtual rehabilitator where patient
would need to follow the movements of the “physician”
seeing him/her-self at the same time. In both cases, the score
would be corresponding to the accuracy of following the
expected movements. The two scenarios are being subject
to assessment by physiotherapists. An important advantage
of Unity3D over other 3D gaming engines is the possibility
to compile games to run either as stand-alone or under from
inside a WEB page. The latter approach makes it easier for
integrating games as therapies within the PHR system
accessible and controllable via WEB browser. A use of this
feature for exercises with a real patient is shown in Figure 8a.
In order to enhance the realism of the games developed
with Unity3D engine a stereoscopic projection has been
implemented. The current approach has been based on the
“camera to texture” projection feature available in the

professional version of the editor. It has been based on various
published experiments(15). A dual virtual cameras placed near
each other have their images projected onto virtual screens,
in turn captured by a single camera thus creating a side by
side display (Figure 8b). Such an image is then suitable for
driving common 3D displays such as of the 3D Smart TV
(e.g. Samsung UE46F6400) or 3D projector (e.g. Epson EHTW5910) with frame-switching 3D glasses. Both of those
have been successfully tested with our system. In the future
tests we will evaluate also panoramic virtual 3D visors.
The latest addition to the portfolio of our user interfaces
has been the Leap Motion device, developed through
KickStarter. It has been acquired only two months ago,
although its capabilities have surpassed our expectations. It
has proven invaluable for rehabilitation of upper limbs thanks
to its superior ability to detect close range distances over the
Kinect. Our developments have led us to use features already
offered by the Leap Motion SDK and the community
applications, e.g. the Touchless for Windows allowing
controlling mouse-like control of the Windows applications.
This has led us to experiments with standard games used for
the rehabilitation of stroke patients like memory board game
and experimenting with operating virtual objects in a virtual
3D space using fingers. Both of those have proven enjoyable
to our patients.

(a)

(b)

VALIDATION
EVALUATIONS

AND

PRELIMINARY

Both technical system validation tests and preliminary
evaluations by other project partners have been performed.

Figure 7 - Real patient controlling avatar using Kinect at virtually replicated home (a) and in a generic hospital-like
virtual environment (b)

(a)

(b)

Figure 8 - Game played online in WEB browser by real patient (a), motion controlled in Unity3D using a ZigFu
plug-in, showing 3D projection mechanism in (b)
www.jhi-sbis.saude.ws

Vogiatzaki E, Krukowski A.

Clinical tests are still under way. Initial tests have proven initial
technical assumptions and compliance with pre-defined user
requirements. As expected Kinect has proven unreliable for
near field upper limb tracking requiring frequent re-calibration,
while Leap Motion offered sufficient precision for fingers
and palm tracking.
CONCLUSIONS AND FUTURE WORK
The initial technical validation tests have proven the viability
of the design approach adopted. The suitability of Leap
Motion for “Touch-Screen”-like applications and game
development under Unity3D has been confirmed. Following
the success of the technical system tests, the clinical trials with
real patients will be conducted between September and
December of 2014. Primarily the focus will be made on the
motion capture and recording of the real person (therapist)

113

for subsequent use for demonstration of correct exercises by
animating his/her avatar. The hand model will need to be
developed, rigged and animated in order to allow its use in
Unity3D games. Subsequently the overall integration of the
gaming system will be performed whereby selection of games
and the necessary data exchange mechanism with the PHR
system will be developed. The most difficult work will be
related to the real-time comparison of avatar movements for
providing an accurate scoring of the correctness of exercises,
to be achieved in liaison with the physiotherapists.
ACKNOWLEDGEMENTS
The research leading to these results has received funding
from the European Union Seventh Framework Program
(FP7/2007-2013) under grant agreement n° 288692StrokeBack.

REFERENCES
1.

2.
3.
4.
5.

6.
7.

Kirchhof P, Adamou A, Knight E, Lip GYH, Norrving B,
Pouvourville G de, et al. How can we avoid a stroke crisis?
Working group report: stroke prevention in patients with
atrial fribrillation; 2009.
Virtual Technologies Inc. [Internet]. [cited 2014 Aug 17].
Available from: http://www.cyberglovesystems.com/allproducts
Bouzit M, Burdea G, Popescu G, Boian R. The rutgers
master II-new design force-feedback glove. IEEE/ASME
Trans Mechat. 2002; 7(2): 253-63.
Rehabilitation Institute of Chicago [Internet]. [cited 2014
Aug 17]. Available from: http://www.ric.org/conditions/
stroke/
McNeill M. Immersive virtual reality for upper limb
rehabilitation following stroke. Proceedings of the IEEE
International Conference on Systems, Man & Cybernetics;
2002 Oct 6-9; Hammamet, Tunisia: IEEE; 2002.
Edwards RG, Lippold OC. The relation between force and
integrated electrical activity in fatigued muscle. J Physiol.
1956;132(3):677-81.
Enkona RM, Stuart DG. The contribution of neuroscience

8.
9.

10.
11.
12.
13.
14.
15.

to exercise studies. Fed Proc.1985;44(7):2279-85.
Emotiv INSIGHT [Internet]. [cited: 2014 Aug 17]. Available
from: http://emotivinsight.com
Apple acquires Israeli 3D chip developer PrimeSense
[Internet]. [cited 2014 Aug 17]. Available from: http://
www.reuters.com/article/2013/11/25/us-primesenseoffer-apple-idUSBRE9AO04C20131125
ZigFu for Unity3D [Internet]. [cited 2014 Aug 17]. Available
from: http://zigfu.com
Unity3D game engine [Internet]. [cited 2014 Aug 17].
Available from: http://unity3d.com
Kinect marker-less motion capture (Brekel) [Internet]. [cited
2014 Aug 17]. Available from: http://www.brekel.com
Motion Builder [Internet]. [cited 2014 Aug 17]. Available from:
http://www.autodesk.com/products/motionbuilder
Virtual Room [Internet]. [cited 2014 Aug 17]. Available from:
https://www.assetstore.unity3d.com/en/#!/content/6468
Human Interface Technology Laboratory Australia (HIT
Lab), “Stereoscopic 3D”, [Internet]. [cited 2014 Aug 17].
Available from http://www.hitlab.utas.edu.au/wiki/
Stereoscopic_3D

www.jhi-sbis.saude.ws

