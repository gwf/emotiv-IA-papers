sensors
Article

Ambient Intelligence Environment for Home
Cognitive Telerehabilitation
Miguel Oliver 1 , Miguel A. Teruel 1 , José Pascual Molina 2 , Dulce Romero-Ayuso 3
Pascual González 2,4, *
1
2
3
4

*

and

LoUISE Research Group, Research Institute of Informatics, University of Castilla-La Mancha,
02071 Albacete, Spain; oliver@dsi.uclm.es (M.O.); miguel@dsi.uclm.es (M.A.T.)
LoUISE Research Group, Computing Systems Department, University of Castilla-La Mancha,
02071 Albacete, Spain; JosePascual.Molina@uclm.es
Department of Physical Therapy, Occupational Therapy Division, Faculty of Health Sciences, University of
Granada, 18016 Granada, Spain; dulceromero@ugr.es
CIBERSAM, Biomedical Research Networking Centre in Mental Health, 28029 Madrid, Spain
Correspondence: pascual.gonzalez@uclm.es

Received: 26 September 2018; Accepted: 25 October 2018; Published: 29 October 2018




Abstract: Higher life expectancy is increasing the number of age-related cognitive impairment cases.
It is also relevant, as some authors claim, that physical exercise may be considered as an adjunctive
therapy to improve cognition and memory after strokes. Thus, the integration of physical and
cognitive therapies could offer potential benefits. In addition, in general these therapies are usually
considered boring, so it is important to include some features that improve the motivation of patients.
As a result, computer-assisted cognitive rehabilitation systems and serious games for health are
more and more present. In order to achieve a continuous, efficient and sustainable rehabilitation of
patients, they will have to be carried out as part of the rehabilitation in their own home. However,
current home systems lack the therapist’s presence, and this leads to two major challenges for such
systems. First, they need sensors and actuators that compensate for the absence of the therapist’s
eyes and hands. Second, the system needs to capture and apply the therapist’s expertise. With this
aim, and based on our previous proposals, we propose an ambient intelligence environment for
cognitive rehabilitation at home, combining physical and cognitive activities, by implementing a
Fuzzy Inference System (FIS) that gathers, as far as possible, the knowledge of a rehabilitation expert.
Moreover, smart sensors and actuators will attempt to make up for the absence of the therapist.
Furthermore, the proposed system will feature a remote monitoring tool, so that the therapist can
supervise the patients’ exercises. Finally, an evaluation will be presented where experts in the
rehabilitation field showed their satisfaction with the proposed system.
Keywords: computer-assisted telerehabilitation; pervasive computing; ambient assisted living;
wearable sensor; electroencephalogram (EEG) headset; Kinect; haptic stimulus; fuzzy inference
system; distributed system; serious game

1. Introduction
One of humankind’s major aims is to extend life expectancy. Thanks to studies and efforts by
the research community, human beings are living a little longer every day [1]. However, this has
brought a consequence that affects people’s quality of life, namely increasingly-common cognitive
problems due to aging. Because of this, our goal has changed from living longer to living longer and
better. In this context, rehabilitation is one method for achieving this goal. It is defined by the World
Health Organization [2] as an ”active process by which those affected by injury or disease achieve

Sensors 2018, 18, 3671; doi:10.3390/s18113671

www.mdpi.com/journal/sensors

Sensors 2018, 18, 3671

2 of 30

a full recovery or, if a full recovery is not possible, realize their optimal physical, mental and social
potential and are integrated into their most appropriate environment”. Rehabilitation comprises an
extensive variety of activities and services intended at reducing the impact of injuries and disabilities
by applying different processes and strategies.
There are some computer-assisted cognitive rehabilitation systems that through the use of
serious games (“games in which education in its various forms is the primary goal rather than
entertainment” [3]) try, to some extent, to correct one or more of patients’ cognitive impairments.
The serious gaming approach in system development allows users of such systems to feel more
motivated, and try to get better results in the best possible way [4]. However, traditional cognitive
rehabilitation systems are sometimes not effective enough. As Hotting and Roder have pointed
out [5] “physical exercise may trigger processes facilitating neuroplasticity and, thereby, enhances an
individual’s capacity to respond to new demands with behavioral adaptations”. In the same direction,
Wimstein et al. [6] noted that exercise may be considered as adjunctive therapy to improve cognition
and memory after stroke. Thus, the combination of physical and cognitive training might result in
a mutual enhancement of both interventions. In fact, the performance of activities of daily living
requires the patient to integrate physical and cognitive abilities and skills simultaneously [7].
Furthermore, due to the treatments’ length, it is frequently necessary that patients carry out
some rehabilitation exercises at home for improving their lost capabilities. This is the objective of
telerehabilitation systems [8]. As Anton et al. point out [9], these systems must provide therapists with
the possibility of selecting the most appropriated therapies for the patient, evaluating their execution
and managing them in a remote manner. In this case, the patients’ monitoring is a very relevant and
complex task, since, in general, the therapist is not present. Thus, the use of any physiological sensor
for monitoring the physical and psychological conditions of the patients is paramount in our target
systems. Moreover, together with patients’ remote monitoring, the inclusion of multi-sensory and
adaptation features are also a cornerstone in the next generation of telerehabilitation systems [10].
We propose an ambient intelligence environment for cognitive telerehabilitation system that
enables the therapist to design exercises combining physical and cognitive activities, as in the real
world, and facilitates the achievement of greater personal independence [11]. Our solution also
monitors the patient’s activity and provides help when needed. Moreover, it also guides the execution
of the next steps within the rehabilitation session. This last feature is achieved by implementing
a Mamdani Fuzzy Inference System (FIS) [12] that simulates the knowledge of the rehabilitation
specialist. Thus, it takes input not only from the patient’s performance on the exercise, but also from
his/her stress level, thanks to sensors such as EEG headsets. Hence, the patient will be able to carry
out the exercises without the need for constant supervision of the therapist. The choose of stress as the
physiological signal to be monitored is because this is a normal response when someone undertakes
activities that are beyond the person’s level of competence [13]. In addition, as Dinse et al. point
out [14], stress-related mechanisms inhibit perceptual learning in a similar manner to episodic memory
retrieval [15]. Thus, we have considered that the presence of high stress levels in the users when
they are executing a cognitive rehabilitation exercise could affect task performance negatively, and,
therefore, it must be considered as an input variable that should be included in our FIS.
Besides the sensors included in our proposal, the use of haptic (vibrotactile) actuators [16] provides
support to the patient when carrying out some exercise, offering a multi-sensory experience, since
it complements the visual and aural channels with other stimuli. Our proposal, which is based on
our previous works [17,18], introduces as a new feature the use of stress sensors, haptic actuators
and the inclusion of a FIS for controlling the exercise execution, which are used to replace, somehow,
the therapist supervision and support when the patient carries out the exercises. This gives more
autonomy to the therapist who can design exercises, monitor patients, and diagnose errors in the
execution of exercises, from anywhere at any time. It will also increase the independence of patients,
who will be able to carry out rehabilitation exercises from their own homes, together with their relatives
or caregivers, as well as reducing the cost and improving their rehabilitation process.

Sensors 2018, 18, 3671

3 of 30

The content of this paper is structured as follows: next, in Section 2, an introduction on assistive
technologies and their use in cognitive rehabilitation therapies will be presented. After that, in Section 3,
we will show our proposal of an ambient intelligence system for cognitive telerehabilitation, combining
physical and cognitive activities, at home. For this purpose, in Sections 4–6, we will begin by presenting
the sensors used, the remote exercise viewer, and the diffuse inference engine that will give the system
its autonomy. In addition, Section 7 will show the evaluation of the system by rehabilitation experts.
Finally, in Section 8, the conclusions reached during the development of this system will be discussed.
2. Cognitive Rehabilitation Technologies
There are some computer-assisted cognitive rehabilitation systems that aim to help different
groups of people to overcome cognitive impairment. For example, Franco-Martin et al. [19] attempted
to improve patients suffering from traumatic brain injury, schizophrenia or dementia. For this purpose,
they made use of preset exercises that are divided into attention, perception, memory, calculation,
orientation, language and reasoning modalities. JClic [20] is another example of software for the
development of multimedia activities to assist in the education of primary school children, but that is
also used for the rehabilitation of cognitive impairment.
One of the commonest sensors in physical rehabilitation systems is a depth camera such as the
Microsoft Kinect [21]. However, in cognitive rehabilitation many different sensors are used, although
there are some proposals that integrate the gesture recognition capability of the Kinect to control some
cognitive rehabilitation tasks. One of these systems is the Tangible Goals:Health (Tango:H) system [22].
It focuses on the rehabilitation of hospitalized children with cognitive disabilities, with the creation of
social active play with gestural interaction. This system uses a Kinect depth camera that captures the
body shape of the patients and it is based on interaction with the patient’s own-body gestures. The use
of Kinect depth cameras as a device to capture patient movements in cognitive rehabilitation tasks was
assessed by Cogollor et al. [23] too. These authors concluded that the Kinect sensor offers results that
are acceptable enough for use in this type of task.
In addition, there are other rehabilitation systems that use different sensors and/or actuators.
For example, the system proposed by Teruel et. al [24] eases the rehabilitation of people with
hemispatial neglect. This proposal uses multisensory stimuli (vision, hearing and touch) to assist
patients in their rehabilitation process. With this aim, it makes use of a virtual reality headset (3D
vision + 3D sound) and a haptic (touch) stimulation device. Other proposals, such as the one presented
by Yu et al. [25], also use systems featuring different stimuli to help patients in their rehabilitation
process. They present the fusion of data from the Leap Motion camera and data from an omega.7
device for the rehabilitation of bilateral complementary coordination.
The main problem with this kind of systems is the need for constant supervision by a therapist.
The rehabilitation specialist must monitor in real-time the progress of the exercise as well as the
patient’s current condition. Hence, the therapist will be able to adapt the patients’ cognitive load to
their current state, decreasing the difficulty if the patient is having problem while performing the
exercise, or even canceling the exercise. One way to avoid the need for constant supervision by a
therapist is to use a Fuzzy Inference System (FIS), as we propose in this paper. A FIS is a system that
takes input variables and maps them into an output variable using fuzzy logic techniques. This enables
the creation of models based on fuzzy rules that control the execution of a program. The main
advantage of this type of system is the simplicity it offers when creating the knowledge base, which
enables people without prior knowledge to design and create rules that model specific behavior bases
on their own knowledge. This simplicity is achieved because the rules are built in an If-Then format
based on natural language.
The use of Fuzzy Inference Systems in the rehabilitation domain is not a novelty, especially in
physical rehabilitation systems. An example of rehabilitation solution proposed in the literature is
the one presented by Zhang et al. [26]. This physical rehabilitation system was designed to deal with
the upper limbs of people after a stroke. The objective of the FIS presented in this work is to evaluate

Sensors 2018, 18, 3671

4 of 30

the movement of the upper extremities. To measure these movements, they use a device attached to
the patient’s body that gathers acceleration data from such limbs. Besides, the system presented by
Gal et al. [27] uses a Kinect and a FIS for physical rehabilitation of patients. In this case, the FIS is used
to detect the patient’s posture, and to evaluate it depending on the diffuse rules implemented. If the
position adopted by the patient entailed some risk, it will be notified visually. Another system that
makes use of a FIS is the one presented by Su et al. [28]. This system enables, using Kinect sensors,
the physical rehabilitation of patients in their own home. In this case, the FIS is used to evaluate the
rehabilitation results by comparing data about the speed, trajectory and performance that the user
obtains at home, with data obtained in a rehabilitation center under the supervision of a specialist.
These examples use a FIS in the physical rehabilitation domain, but they do not consider other problems
related to cognitive rehabilitation that a user faces when performing an exercise at home. Thus, for
improving the support of the patients when carrying out a therapy at home, we have included some
sensors and actuators that could be considered as the therapist senses for monitoring the exercise and
they’ll try to act like the therapist would. For that propose, the information provided by the sensors
are processed by our intelligence system (FIS) and it provide the most adequate feedback, by using the
visual channel or including other senses by means of the haptic actuators.
Thus, for developing an intelligent system (FIS) that helps the telerehabilitation system to
make decisions, it is necessary that the system controls the patient’s physical and mental state.
As Panja et al. [29] stated: “Biomedical signal processing plays a major role in developing a home
rehabilitation system”. Because of this, in their work they propose the use of different sources
to gather the patient’s physiological state (electrocardiogram (ECG), electromyogram (EMG) and
electroencephalogram (EEG)) for possible use in telerehabilitation systems. Rodriguez et al. [30]
presented a FIS that enables using some physiological variables, such as fatigue and performance,
for controlling the evolution of the exercises of physical rehabilitation proposed by the therapist.
This proposal defines some conceptual models to describe the use of FIS in rehabilitation process in
the adaptation of the exercise difficulty.
3. Ambient Intelligence Environment for Cognitive Telerehabilitation
This system is an extension of the one presented in previous works such as [17,18]. In the first
one [17], we included some relevant social features to improve motivation and reduce the feeling of
social isolation. This proposal provides the opportunity to design multiuser therapies offering a more
entertaining environment. The second one [18], presented a first prototype of the physical-cognitive
rehabilitation system, where both therapist and patient are in the same physical location. As it can be
seen in the previous works, our system combines cognitive and physical rehabilitation by associating
the cognitive activity with a physical exercise. This activity is monitored by a Kinect that tracks the
physical movements of the patient. This combination of physical and cognitive activities enables
motivating the patients in their rehabilitation making these activities more engaging. Moreover, it
tries to achieve the advantages of combining these activities, as pointed out by Hotting and Roder [5].
Now, in this paper we present a new version that enables carrying out the cognitive telerehabilitation
at home including a deep description of the FIS, sensors and actuators used in the system.
Regarding the architecture of the proposed system, it consists of two subsystems: the “Cognitive
rehabilitation subsystem” and the “Inference subsystem” (Figure 1). The cognitive rehabilitation
subsystem is located on the patient’s workstation, and on the therapist’s workstation. On the one
hand, on the therapist’s side, he/she can manage the design of the rehabilitation exercises, manage
patients, manage rules of the inference engine, as well as check the progress of rehabilitation exercises
performed by patients. On the other hand, the patient’s side is responsible for enabling the patients to
perform the rehabilitation exercises. For this purpose, the cognitive rehabilitation subsystem retrieves
the rehabilitation exercises that have been assigned to the patients by the therapist, establishes the
communication with the sensors and actuators, and interacts with the inference system to adapt the
rehabilitation exercises to fit the patient’s needs at the time of execution.

Sensors 2018, 18, 3671

5 of 30

To alleviate the problem of constant supervision that we have pointed out in other systems,
our proposal implements an “Inference subsystem” to determine whether the patients are having
problems in the exercise or they could suffer from a high stress level. This new component would
determine when it is necessary to decrease the difficulty of the exercise, offering help to the patient,
Sensors 2018, 18, x
5 of 29
or directly cancelling the execution of the exercise. This decision system facilitates the cognitive
rehabilitation
rehabilitation system
system to
to run
run in
in aa more
more independent
independent manner,
manner, without
without the
the direct
direct supervision
supervision of
of the
the
therapist.
Hence,
the
patient
can
perform
rehabilitation
exercises
by
using
the
“Patient’s
application”
therapist. Hence, the patient can perform rehabilitation exercises by using the “Patient’s application”
from
from home.
home. It
It can
can be
be achieved
achieved with
with some
some supervision
supervision of
of people
people without
without technical
technical knowledge
knowledge in
in
rehabilitation,
such
as
the
patient’s
relatives
or
caregivers.
rehabilitation, such as the patient’s relatives or caregivers.

Figure 1.
1. Architecture
Architecture of
of the
the ambient
ambient intelligence
intelligence environment
environmentfor
forcognitive
cognitivetelerehabilitation.
telerehabilitation.
Figure

3.1.
3.1. Therapist’s
Therapist’sApplication
Application
The
The therapist’s
therapist’s application
application enables
enables the
the therapist
therapist to
to create
create exercises,
exercises, register
register patients,
patients, assign
assign
exercises
to
patients
and
verify
the
execution
of
the
exercises
completed
by
them.
The
exercises
exercises to patients and verify the execution of the exercises completed by them. The exercises
created
created can
can be
be based
based on
on well-known
well-known rehabilitation
rehabilitation therapies
therapies and
and be
be adapted
adapted to
to use
use them
them with
with our
our
depth-camera-based
depth-camera-basedrehabilitation
rehabilitationsystem.
system.
Figure
casewhere
wherethe
thetherapist
therapistisisdesigning
designing
a rehabilitation
exercise
in which
Figure 22 illustrates
illustrates aa case
a rehabilitation
exercise
in which
the
the
patient
must
select
pairs
of elements
his/her
hands.
The exercise
is divided
in several
patient
must
select
the the
pairs
of elements
withwith
his/her
hands.
The exercise
is divided
in several
steps,
steps,
withinterface
the interface
showing
second
This
interface,
wellasasthe
the method
method for
with the
showing
the the
second
one.one.
This
interface,
as aswell
for creating
creating
rehabilitation
exercises,
has
been
explained
in
our
previous
works
[17,18].
As
a
new
rehabilitation exercises, has been explained in our previous works [17,18]. As a new part
part of
of the
the
interface,
interface, the
the section
section to
to manage
manage the
the difficulty
difficultylevels
levelsisisshown.
shown. This
This section
section will
will be
be used
used by
by the
the FIS
FIS to
to
increase
or
decrease
the
difficulty
of
each
of
the
steps
when
performed
by
a
patient.
increase or decrease the difficulty of each of the steps when performed by a patient.
For
the therapist
therapist has
has created
createdfour
fourdifficulty
difficultylevels.
levels.The
Thedifficulty
difficulty
each
level
will
For this
this step,
step, the
ofof
each
level
will
be
be
determined
number
elementsthat
thatthe
thepatient
patientmust
mustselect,
select, as
as well
well as
as the
determined
by by
thethe
number
ofofelements
the number
number of
of
distracting
elements
(distractors)
that
each
level
contains.
The
higher
the
number
of
elements,
the
distracting elements (distractors) that each level contains. The higher the number of elements, the
higher
that
thethe
patient
must
faceface
when
performing
the exercise.
The difficulty
levels
higherthe
thecognitive
cognitiveload
load
that
patient
must
when
performing
the exercise.
The difficulty
created
in
our
rehabilitation
proposal
will
be
built
upon
each
other.
That
is,
each
difficulty
level
will
levels created in our rehabilitation proposal will be built upon each other. That is, each difficulty level
have
the
same
elements
as
its
lower
difficulty
level,
as
well
as
one
or
more
new
elements
that
add
will have the same elements as its lower difficulty level, as well as one or more new elements that
complexity
to it. to it.
add complexity

Sensors 2018, 18, 3671

6 of 30

Sensors 2018, 18, x

6 of 29

Figure
Figure 2.
2. Exercise
Exercise creation
creation interface.
interface.

3.2. Help
Help for the Patient
There are two types of support in our system that can help patients when they have a problem
performing an exercise, and therefore they can help the patients to perform rehabilitation sessions
from their own home. These aids are visual and vibrotactile.

••

••

Visual
Visualhelp
helpmakes
makesititpossible
possible for
for the
the patient
patient to
to see
see which
which items
items must
must be
be selected.
selected. In
In this
this case,
case, the
the
elements
elementswill
willincrease
increaseand
anddecrease
decreasetheir
theirsize
sizenoticeably,
noticeably, which
which enables
enables the
the patient
patient to
to distinguish
distinguish
them
themclearly
clearlyfrom
fromthe
therest
restof
ofthe
theelements.
elements.
Vibrotactile
help
makes
it
possible
for
to feel to
which
theway
handthe
should
move
to find
the
Vibrotactile help makes it possiblethe
forpatient
the patient
feel way
which
hand
should
move
next
itemthe
to next
activate.
is accomplished
the VITAKI by
(VIbroTActile
device (LoUISE
to find
itemThis
to activate.
This is by
accomplished
the VITAKItoolKIt)
(VIbroTActile
toolKIt)
Research
Group,
Albacete,
Spain)
[16],
which
will
be
explained
in
more
detail
in
Section
4.3.
device (LoUISE Research Group, Albacete, Spain) [16], which will be explained in more detail in

Section 4.3.
3.3. Difficulty Levels
3.3. Difficulty
To createLevels
an exercise, a therapist must define different steps for the patient to go through them

to complete
exercise,aas
shown must
in Figure
3. different
Within each
steps, the
therapist
add
To createsuch
an exercise,
therapist
define
stepsofforthese
the patient
to go
throughwill
them
to
levels
of such
difficulty
thataswill
make
the step
increasingly
as illustrated
in will
Figure
The
complete
exercise,
shown
in Figure
3. Within
each ofdifficult,
these steps,
the therapist
add4.levels
therapist
willthat
begin
create
the
firstincreasingly
level of difficulty
with
a blank screen
on which
to therapist
add different
of difficulty
willtomake
the
step
difficult,
as illustrated
in Figure
4. The
will
elements
to be the
selected
or elements
that with
act asa blank
distractors.
he/she
the difficulty
level
is
begin to create
first level
of difficulty
screenOnce
on which
to thinks
add different
elements
to be
complete,
canthat
addact
a new
level. This Once
will create
a new
difficulty
level in
which
all the elements
selected orhe/she
elements
as distractors.
he/she
thinks
the difficulty
level
is complete,
he/she
that
werea new
in the
previous
difficulty
appear.
Previously
elements
be
can add
level.
This will
create level
a newwill
difficulty
level
in whichpositioned
all the elements
thatmay
werenot
in the
modified,
removed,level
or changed.
previous difficulty
will appear. Previously positioned elements may not be modified, removed,
This
method
enables
the therapist to create the difficulty levels incrementally. The higher number
or changed.
of elements,
both valid
andthe
distractors,
more the
cognitive
complexity
that the patient
havenumber
to face
This method
enables
therapist the
to create
difficulty
levels incrementally.
Thewill
higher
when
performing
exercise.
In addition,the
themore
therapist
shouldcomplexity
select a level
of difficulty
that
thehave
patient
of elements,
boththe
valid
and distractors,
cognitive
that
the patient
will
to
should
begin
with.
This
level
will
be
shown
to
the
patient
the
first
time,
and
according
to
the
face when performing the exercise. In addition, the therapist should select a level of difficulty that
performance
ofbegin
the previous
step,
thewill
FIS be
system
will
whichthe
level
should
on to thetonext
patient should
with. This
level
shown
to select
the patient
firsthetime,
andgo
according
the
step.
This willof
bethe
shown
in more
detail
in the
section
dedicated
to thelevel
inference
system
6).next
performance
previous
step,
the FIS
system
will
select which
he should
go(Section
on to the
step. This will be shown in more detail in the section dedicated to the inference system (Section 6).

Sensors 2018, 18, 3671
Sensors
Sensors 2018,
2018, 18,
18, xx

7 of 30
77 of
of 29
29

Figure 3.
3. An exercise
exercise consists of
of several steps,
steps, and each
each step, in
turn, consist
of difficulty
levels.
Figure
Figure 3. An
An exercise consists
consists of several
several steps, and
and each step,
step, in
in turn,
turn, consist
consist of
of difficulty
difficulty levels.
levels.

For
example,
Figure
33 shows
aapossible
exercise
created
by
a therapist.
The
therapist
has
created
a
For
example,
Figure
exercise
created
by
The
therapist
has
created
Forsix
example,
Figure
3 shows
showsby
a possible
possible
exercise
created
by ashown
a therapist.
therapist.
The
therapist
hasvertical
created
total
of
steps
to
be
performed
the
patient,
these
steps
are
in
the
example
as
the
aa total
steps
be
by
patient,
these
steps
shown
example
the
vertical
total of
of six
sixEach
stepsofto
tothese
be performed
performed
byisthe
the
patient,
these
steps are
are
shown in
in the
theindicating
example as
as
the
vertical
rectangles.
rectangles
divided
into
different
sub-rectangles
the
difficulty
rectangles.
Each
of
these
rectangles
is
divided
into
different
sub-rectangles
indicating
the
difficulty
rectangles.
Each
of these
rectangles
is divided
different
sub-rectangles
indicating
levels
of each
each
step.
Inthe
thefirst
firststep
step
there
are
a into
total
of seven
difficulty
levels,
whilst
inthe
thedifficulty
second
levels
of
step.
In
there
are
aa total
of
seven
difficulty
levels,
whilst
in
the
second
one
levels
of
each
step.
In
the
first
step
there
are
total
of
seven
difficulty
levels,
whilst
in
the
second
one
one
there
are
only
four
levels.
The
asterisk
shown
next
to
the
level
number
represents
the
“initial
there
are
only
four
levels.
The
asterisk
shown
next
to
the
level
number
represents
the
“initial
level”
there are
only
levels.
The
asterisk shown
next
to
the
number
represents
the
level”
level”
that
the four
therapist
has
considered
suitable
to
bebase
the level
base
level
to begin
with.
In “initial
the example,
that
the
therapist
has
considered
suitable
to
be
the
level
to
begin
with.
In
the
example,
the
that
the
therapist
has
considered
suitable
to
be
the
base
level
to
begin
with.
In
the
example,
the
the
therapist
has
set
level
four
for
the
first
step
andlevel
leveltwo
twofor
forthe
thesecond
secondstep.
step. Figure
Figure 44 shows
shows the
therapist
has
set
level
four
for
the
first
step
and
the
therapist
has
set
level
four
for
the
first
step
and
level
two
for
the
second
step.
Figure
4
shows
the
example
of the
different
levels
related
totothe
second
step
created
byby
a therapist.
This step
hashas
a total of
example
different
levels
related
second
step
created
therapist.
step
example of
of the
the
differentlevels.
levelsFigure
related4a–d
to the
the
second
step
created
by aaincreasingly.
therapist. This
This
stepexample,
has aa total
total
4ofincremental
difficulty
shows
the
difficulty
levels
In
this
it
44 incremental
difficulty
levels.
Figure
4a–d
shows
the
difficulty
levels
increasingly.
In
this
example,
of
incremental
difficulty
levels.
Figure
4a–d
shows
the
difficulty
levels
increasingly.
In
this
example,
can
be
seen
how
the
therapist
can
easily
create
the
levels
of
difficulty
that
make
up
each
of
the
steps
of
itit can
can be
be seen
seen how
how the
the therapist
therapist can
can easily
easily create
create the
the levels
levels of
of difficulty
difficulty that
that make
make up
up each
each of
of the
the steps
steps
the
exercise.
of
the
exercise.
of the exercise.

Figure
step
of
the
example
exercise.
Figure 4.
4. Levels
Levels of
of difficulty
difficulty in
in step
step 222 of
of the
the example
example exercise.
exercise.
Figure
4.
Levels
of
difficulty
in

3.4.
3.4. Patient’s
Patient’s Application
Application
The
Thedevelopment
developmentof
ofthe
thepatient
patientinterface
interfacehas
hasbeen
beenbased
basedon
onthe
thework
workproposed
proposedby
byJaquero
Jaqueroet
etal.
al. [31],
[31],
more
specifically
in
the
guideline
“Avoid
awareness
overloading”.
This
recommendation
refers
more specifically in the guideline “Avoid awareness overloading”. This recommendation refers to
to
the
the fact
fact that
that itit is
is not
not good
good for
for the
the effective
effective understanding
understanding of
of the
the interface
interface to
to add
add all
all the
the possible
possible

Sensors 2018, 18, 3671

8 of 30

3.4. Patient’s Application
The development of the patient interface has been based on the work proposed by Jaquero et al. [31],
more specifically in the guideline “Avoid awareness overloading”. This recommendation refers to the
fact that it is not good for the effective understanding of the interface to add all the possible elements
Sensors 2018, 18, x
8 of 29
of awareness, being these elements the ones that provide information about the system itself, or its
users.
Although
this provides
interface
withthe
more
information,
it is
often ignored
by the
the system
user due
elements
of awareness,
beingan
these
elements
ones
that provide
information
about
toitself,
the high
cognitive
burden of
processing
this sense,
elements
shownitto
user
have been
or its
users. Although
this
provides it.
an In
interface
withthe
more
information,
is the
often
ignored
by
reduced
as
much
as
possible,
to
reduce
the
cognitive
load
that
the
processing
of
the
interface
the user due to the high cognitive burden of processing it. In this sense, the elements shownelements
to the
implies
for the
users.
This as
is of
relevance,
since to
in reduce
this specific
case, theload
users
of the
are patients
user have
been
reduced
much
as possible,
the cognitive
that
the system
processing
of the
with
cognitive
deficits.
interface
elements
implies for the users. This is of relevance, since in this specific case, the users of
the beginning
of with
the rehabilitation
exercise, an explanatory text is displayed with the aim of
theAt
system
are patients
cognitive deficits.
informing
thebeginning
patient about
to perform
the exercise.
A screenshot
this interface
is shown
At the
of thehow
rehabilitation
exercise,
an explanatory
text isofdisplayed
with the
aim ofin
informing
the text
patient
about
how toenough
perform
the exercise.
screenshot
of thiswhat
interface
shown
in
Figure
5a. This
should
contain
information
forAthe
user to know
to doisto
complete
Figure
5a. This
text should
contain
information
for thewhen
user tohe/she
know what
to do
complete
the
exercise
successfully.
This
text isenough
written
by the therapist
creates
thetoexercise
and
the
exercise
successfully.
This
text
is
written
by
the
therapist
when
he/she
creates
the
exercise
and
also, he/she sets how long this text will be displayed.
also,
he/she
longisthis
text willan
beinterface
displayed.
Once
the sets
introhow
screen
displayed,
like the image of Figure 5b will be shown. A brief
Once the
screen
displayed,
interface This
like the
ofas
Figure
5b will
be shown.
A briefthe
explanatory
textintro
appears
at is
the
top of theaninterface.
textimage
serves
a guide
for the
user during
explanatory
text
appears
at
the
top
of
the
interface.
This
text
serves
as
a
guide
for
the
user
during
the
rehabilitation exercise execution. At the bottom, the patient’s current “Score” is displayed. Such score
rehabilitation
exercise
execution.
At
the
bottom,
the
patient’s
current
“Score”
is
displayed.
Such
score
is increased when valid objects are selected and decreased when errors are made. As mentioned above
is increased
when
objects
areout
selected
and
decreased
when errors
are made.
As mentioned
and
as Werbach
andvalid
Hunter
point
[4], this
kind
of gamification
motivates
the user
to obtain a
above
and
as
Werbach
and
Hunter
point
out
[4],
this
kind
of
gamification
motivates
the
user appears
to obtainin
higher score and to perform the exercise in the best possible manner. The exercise itself
a higher score and to perform the exercise in the best possible manner. The exercise itself appears in
the central part of the interface. This interface shows the objects placed by the therapist, the patient’s
the central part of the interface. This interface shows the objects placed by the therapist, the patient’s
interaction points (by default these points are his/her right and left hand), and the image captured by
interaction points (by default these points are his/her right and left hand), and the image captured by
the camera. In addition to these user-interface objects, the therapist can display more elements through
the camera. In addition to these user-interface objects, the therapist can display more elements
exercise options. With this configuration, it is possible to display exactly the information currently
through exercise options. With this configuration, it is possible to display exactly the information
required by the patient to carry out the exercise.
currently required by the patient to carry out the exercise.

Figure
Explanationof
ofthe
theexercise
exercise shown
shown to
to the
a a
Figure
5.5.(a)(a)Explanation
the user
user at
at the
thebeginning;
beginning;(b)
(b)Patient
Patientperforming
performing
rehabilitation
exercise.
rehabilitation exercise.

Sensorsand
andActuators
Actuators
4. 4.
Sensors
Togetherwith
withaaKinect
Kinect sensor,
sensor, used
movements,
ourour
system
makes
use of
Together
used to
totrack
trackthe
thepatient’s
patient’s
movements,
system
makes
use
when
the
ofother
othersensors
sensorstotocapture
capturesome
somephysiological
physiologicalsignals
signalsthat
thatenable
enablethe
thesystem
systemtotoestimate
estimate
when
the
patient
is
under
a
stressful
situation.
A
person’s
stress
can
be
measured
by
electroencephalography,
patient is under a stressful situation. A person’s stress can be measured by electroencephalography,
electrocardiography,galvanic
galvanicskin
skinresponse,
response, electrodermal
electrodermal activity
electrocardiography,
activity(EDA),
(EDA),photoplethysmography,
photoplethysmography,
electromyographyororpiezoelectricity/electromagnetic
piezoelectricity/electromagnetic generation
consider
electromyography
generation[32].
[32].From
Fromthese,
these,we
wefirst
first
consider
using
electrodermal
activity.
An
example
of
a
sensor
that
makes
use
of
the
EDA
to
obtain
using electrodermal activity. An example of a sensor that makes use of the EDA to obtainthis
this
physiological
measure
wristband
[33].
One
the
advantages
this
sensor
ease
use,
physiological
measure
is is
thethe
E4E4
wristband
[33].
One
ofof
the
advantages
ofof
this
sensor
is is
ease
of of
use,
just
just placing it on the wrist of the user and the sensor is able to pick up the level of stress. Also, its
placing
it on the wrist of the user and the sensor is able to pick up the level of stress. Also, its comfort
comfort is greater than the vast majority of sensors for this task. However, as Gjoreski et al. pointed
is greater than the vast majority of sensors for this task. However, as Gjoreski et al. pointed out [34],
out [34], physical activity, such as a rehabilitation exercise, can produce an EDA signal that is similar
to stress, and so the physiological response could be mistaken. For this reason, the
electroencephalography method, which is not affected by the physical activity of the users, was used
in the final proposal. The sensor we then selected was the Emotiv headset [35], which will be
presented in Section 4.2. In addition to the use of this sensors, our proposal includes a haptic device
(VITAKI platform) [16] which provides the patient with haptic sensations through several haptic

Sensors 2018, 18, 3671

9 of 30

physical activity, such as a rehabilitation exercise, can produce an EDA signal that is similar to stress,
and so the physiological response could be mistaken. For this reason, the electroencephalography
method, which is not affected by the physical activity of the users, was used in the final proposal.
Sensors
2018, 18,
x then selected was the Emotiv headset [35], which will be presented in Section
9 of4.2.
29
The
sensor
we
In addition to the use of this sensors, our proposal includes a haptic device (VITAKI platform) [16]
actuators
(vibrotactile
actuators).
this case,
the patient
feels in
whichhaptic
the direction
the hand
should
which
provides
the patient
withInhaptic
sensations
through
several
actuators
(vibrotactile
be
moved
to
find
the
next
item.
The
limitation
of
the
sensors
is
the
cost
that
these
present.
Although
actuators). In this case, the patient feels in which the direction the hand should be moved to find the
the cost
thelimitation
sensors can
be around
1000$,
thisthat
is not
very
large Although
comparedthe
to cost
otherofdevices
and
next
item.ofThe
of the
sensors is
the cost
these
present.
the sensors
proposals
in
the
field
of
rehabilitation
of
patients.
But
this
limitation
must
be
taken
into
account
if
can be around 1000$, this is not very large compared to other devices and proposals in the fieldthe
of
system will beofdeployed.
In the
sensors
andinto
actuators
used
insystem
our home
rehabilitation
patients. But
thisfollowing,
limitationthe
must
be taken
account
if the
willrehabilitation
be deployed.
proposal
are presented.
Moreover,
their characteristics,
how they
work within
the system,
and their
In
the following,
the sensors
and actuators
used in our home
rehabilitation
proposal
are presented.
limitations
are
presented.
Moreover, their characteristics, how they work within the system, and their limitations are presented.

4.1. Microsoft
Microsoft Kinect
Kinect v2
v2
4.1.
This low-cost
low-cost device, shown in Figure
Figure 6,
6, enables
enables the
the recognition
recognition of
of people
people and
and objects
objects in
in three
three
This
dimensions by capturing
sensors
available
areare
(i) a(i)color
camera
that
dimensions
capturingthree-dimensional
three-dimensionalimages.
images.The
The
sensors
available
a color
camera
captures
the
image
of
the
environment
in
high
resolution
at
1920
×
1080
@
30
fps,
and
(ii)
a
Time-ofthat captures the image of the environment in high resolution at 1920 × 1080 @ 30 fps, and (ii) a
Flight depth camera
enables
obtaintothe
distance
from thefrom
sensor
the objects
captures
Time-of-Flight
depth that
camera
that to
enables
obtain
the distance
thetosensor
to theand
objects
and
the imagethe
of the
environment
at 640 × 480at@ 640
30 fps.
People
recognition
with
this devicewith
works
captures
image
of the environment
× 480
@ 30
fps. People
recognition
thisbetween
device
0.8 to 4between
m away0.8
from
sensor.
This
is This
connected
computer
viacomputer
a USB 3.0via
port
and
works
to 4the
m away
from
thesensor
sensor.
sensorto
is the
connected
to the
a USB
enables
to interact
with
the computer
without
having
to make
physical
contact
with it contact
or with
3.0
port people
and enables
people
to interact
with the
computer
without
having
to make
physical
another
[21]. device [21].
with
it ordevice
with another

Figure
Microsoft Kinect
Figure 6.
6. Microsoft
Kinect v2
v2 sensor
sensor (Microsoft
(Microsoft Corp.,
Corp., Redmond,
Redmond, WA,
WA,USA).
USA).

The only limitation of this sensor is the need to capture the patient’s image, so the patient must be
The only limitation of this sensor is the need to capture the patient’s image, so the patient must
informed and agree to the use of cameras that record their rehabilitation therapy.
be informed and agree to the use of cameras that record their rehabilitation therapy.
4.2. Emotiv Epoc+
4.2. Emotiv Epoc+
The placement of this headset is fundamental, and the measures taken by the sensor depends
The placement of this headset is fundamental, and the measures taken by the sensor depends on
on whether the placement are correct or not. Because of this, before starting the exercise, and during
whether the placement are correct or not. Because of this, before starting the exercise, and during the
the whole course of it, the system will check the correct placement of the headset, and in the event
whole course of it, the system will check the correct placement of the headset, and in the event that
that the electrodes move, and do not allow a proper reading, will warn the user, family or caregivers.
the electrodes move, and do not allow a proper reading, will warn the user, family or caregivers. The
The warning will be visual and will indicate that the electrode is not correctly positioned, allowing an
warning will be visual and will indicate that the electrode is not correctly positioned, allowing an
easy and fast way to adjust the electrode.
easy and fast way to adjust the electrode.
This device is a 14-channel electroencephalogram (EEG) headset, with 14 or 16 bits of resolution
This device is a 14-channel electroencephalogram (EEG) headset, with 14 or 16 bits of resolution
per channel, widely used for research purposes due to its price range (~800 $), this headset is shown in
per channel, widely used for research purposes due to its price range (~800 $), this headset is shown
Figure 7 together with the placement of the electrodes on the user’s head. Thanks to this peripheral, it
in Figure 7 together with the placement of the electrodes on the user’s head. Thanks to this peripheral,
is possible to get (i) performance metrics, i.e., six different subjective emotions experienced by the user
it is possible to get (i) performance metrics, i.e., six different subjective emotions experienced by the
(engagement, interest, focus, excitement, stress and enjoyment) (ii) mental commands, i.e., real-time
user (engagement, interest, focus, excitement, stress and enjoyment) (ii) mental commands, i.e., realbrainwave of the user for discerning his/her attempt to perform physical actions over objects (either
time brainwave of the user for discerning his/her attempt to perform physical actions over objects
physical or virtual ones), (iii) facial expressions (blink, wink, smile, clench, smirk, laugh, and so on)
(either physical or virtual ones), (iii) facial expressions (blink, wink, smile, clench, smirk, laugh, and
and (iv) head position thanks to a 2-axis gyroscope. Through a wireless connection it enables the
so on) and (iv) head position thanks to a 2-axis gyroscope. Through a wireless connection it enables
system to obtain the metrics of the user’s brain activity, avoiding the risk of entanglement with wires
the system to obtain the metrics of the user’s brain activity, avoiding the risk of entanglement with
during the rehabilitation exercises. This gives great autonomy of movement to the patients. The design
wires during the rehabilitation exercises. This gives great autonomy of movement to the patients. The
design of this device enables its placement and use by non-expert users, which facilitates its use by
patients of the rehabilitation system [36].
There are two limitations on the use of this headset. The first limitation is the need to place it on
the user’s head, and the second limitation is the accuracy and errors in the measurements taken. The

Sensors 2018, 18, 3671

10 of 30

of this device enables its placement and use by non-expert users, which facilitates its use by patients of
the rehabilitation system [36].
There are two limitations on the use of this headset. The first limitation is the need to place it
on the user’s head, and the second limitation is the accuracy and errors in the measurements taken.
Sensors 2018, 18, x
10 of 29
The first limitation can make the system unusable by patients in their own home if they are unable to
put on the headset properly. For this reason, it is necessary that in cases where the patient is unable to
perform this task, he/she must be accompanied by relatives or caregivers. After being instructed in
perform this task, he/she must be accompanied by relatives or caregivers. After being instructed in the
the use of the headset, they will assist the patient to place the headset in order to carry on the
use of the headset, they will assist the patient to place the headset in order to carry on the rehabilitation
rehabilitation
process.
second
limitation
relates toofthe
precision
the headset
to measure
process. The
second The
limitation
relates
to the precision
the headset
to of
measure
the patient’s
stress. the
patient’s
While
seem
like a major
therehave
are determined
studies thatthe
have
determined
Whilestress.
this may
seemthis
likemay
a major
limitation,
there limitation,
are studies that
accuracy
of
the accuracy
of
this
sensor
can
be
up
to
88–96%
when
using
a
two-level
classification
[37].
In
addition,
this sensor can be up to 88–96% when using a two-level classification [37]. In addition, to reduce
to reduce
any possible
erroneous
provided
by the
headset, an
algorithm
is used
to smooth
any possible
erroneous
readings readings
provided by
the headset,
an algorithm
is used
to smooth
any abrupt
changes
in
the
readings.
This
algorithm
will
be
presented
in
Section
6.1.1.
any abrupt changes in the readings. This algorithm will be presented in Section 6.1.1.

Figure
7. Emotiv
Epoc+
headset
location(Emotiv,
(Emotiv,
San
Francisco,
USA).
Figure
7. Emotiv
Epoc+
headsetand
andelectrodes
electrodes location
San
Francisco,
CA,CA,
USA).

4.3. VITAKI

4.3. VITAKI

This device has been developed in our laboratory for haptic stimulation. VITAKI has eight
This device has been developed in our laboratory for haptic stimulation. VITAKI has eight outputs
outputs to which eight vibrotactile actuators can be connected, enabling us to activate/deactivate
to which
eight vibrotactile
canwill
be send
connected,
usBluetooth
to activate/deactivate
them independently.
Hence,actuators
the computer
the hapticenabling
stimuli via
to VITAKI, whichthem
independently.
Hence,
thewith
computer
will sendand
theprocess
haptic them
stimuli
via Bluetooth
to VITAKI,
will receive the
packets
the information
to send
the appropriate
voltagewhich
to the will
receive
the packets
withThese
the information
process
them to send
the that
appropriate
voltage
to the
vibrotactile
actuators.
vibrators willand
produce
the vibrotactile
stimulus
the user will
receive
on
his/her
skin.
This
device
has
been
used,
among
other
things,
to
identify
3D
virtual
objects
[38]
or
vibrotactile actuators. These vibrators will produce the vibrotactile stimulus that the user will receive
weight skin.
and size
discrimination
[39] byused,
usingamong
gloves with
These
actuators
can be
on his/her
This
device has been
othervibrotactile
things, toactuators.
identify 3D
virtual
objects
[38] or
placed
over
the
patient’s
hand
to
make
them
feel
the
objects
in
the
rehabilitation
environment.
weight and size discrimination [39] by using gloves with vibrotactile actuators. These actuators can
our rehabilitation
device
is used
help
patients
findrehabilitation
the item(s). This
is achieved
be placedInover
the patient’ssystem,
hand tothis
make
them
feelto
the
objects
in the
environment.
through the Vitaki platform [16] (shown in the Figure 8a), which produces a haptic stimulus in the
In our rehabilitation system, this device is used to help patients find the item(s). This is achieved
user’s skin, using vibrotactile actuators (shown in the Figure 8b). This stimulation is placed on
through the Vitaki platform [16] (shown in the Figure 8a), which produces a haptic stimulus in the
the thumb, index and pinky fingers, as well as on the palm of the hand, which provides a virtual
user’s
skin, using vibrotactile actuators (shown in the Figure 8b). This stimulation is placed on the
coordinate-axis-like guidance in the patient’s hand. These coordinate axes, illustrated in Figure 8c,
thumb,
index
and pinky
fingers,
as well
the to
palm
of theleft,
hand,
virtual
indicate
whether
the patient
should
moveastheonhand
the right,
up orwhich
down provides
dependinga the
coordinate-axis-like
guidance
in
the
patient’s
hand.
These
coordinate
axes,
illustrated
in
Figure
8c,
actuator that is turned on.
indicate The
whether
the of
patient
shouldasmove
the handcase,
to is
the
left,
up or down
depending
limitation
this actuator,
in the previous
theright,
possible
difficulty
to be placed
by the the
actuator
thaton
is his/her
turned body.
on. This limitation has been addressed from two different ways. On the one
patients
hand,
it is proposed
to beactuator,
placed onas
theinpatient’s
body by
relatives
caregivers,
as was the
with by
The limitation
of this
the previous
case,
is theorpossible
difficulty
to case
be placed
the
Emotiv
headset.
On
the
other
hand,
we
are
investigating
the
improvement
of
the
device
to
make
it one
the patients on his/her body. This limitation has been addressed from two different ways. On the
easier
wear, making
whole
integrated
in aby
glove.
hand,
it is to
proposed
to be the
placed
onsystem
the patient’s
body
relatives or caregivers, as was the case with

the Emotiv headset. On the other hand, we are investigating the improvement of the device to make
it easier to wear, making the whole system integrated in a glove.

actuator that is turned on.
The limitation of this actuator, as in the previous case, is the possible difficulty to be placed by
the patients on his/her body. This limitation has been addressed from two different ways. On the one
hand, it is proposed to be placed on the patient’s body by relatives or caregivers, as was the case with
Sensors
2018, 18,
3671
of 30
the Emotiv
headset.
On the other hand, we are investigating the improvement of the device to11make
it easier to wear, making the whole system integrated in a glove.

Figure 8. (a) Vibrotactile device VITAKI; (b) Vibrotactile actuator used by VITAKI; (c) Coordinate axis in
Figure 8. (a) Vibrotactile device VITAKI; (b) Vibrotactile actuator used by VITAKI; (c) Coordinate axis
the user’s palm formed by four vibrotactile actuators.
in the user’s palm formed by four vibrotactile actuators.

5. Remote Exercise Viewer
Once a patient has performed a repetition of an exercise, it will be sent and stored on the Azure
cloud server [40] with the purpose of being monitored by the therapist. In this sense, both the therapist
and the patient can perform their functions without the need of being physically together.
The patient’s cognitive rehabilitation subsystem will capture the exercise data as well as the
patient’s data at one-second intervals from the moment the patient begins to perform the exercise.
According to rehabilitation specialists, this one-second interval is small enough not to lose information
among samples on cognitive rehabilitation. Moreover, such interval is big enough to avoid unnecessary
cost overruns with possibly irrelevant information. It is worth noting that the patient’s rehabilitation
environment may be his/her own home, where a low-speed internet connection or even a limited-data
connection may have to be used for cloud database communication purposes. The data gathered in
each sample is the relevant information related to the design of the exercise, the execution and the
parameters sent to the inference engine. This information is presented in the following:

•
•
•

Exercise options: Repetitions; Type of help; Maximum exercise time; Cognitive lives; Distractor
(elements added to increase cognitive load) lives; Initial explanation; and Initial explanation time.
Step data: Percent completed; Activated elements; Cognitive errors; Distractor errors; and
Elapsed time.
FIS Input data: Current stress; Time without interaction; Consecutive errors; Step average stress;
Step errors ratio; Step canceled.

This data accurately reflects what is happening during the exercise and is provided to the therapist
through the remote interface of the cognitive rehabilitation system, so that he/she can monitor
it wherever and whenever he/she wants. In addition to the numerical data, a screenshot of the
patient performing the exercise will also be saved, so that the therapist has all the information when
supervising it.
For this purpose, the therapist must select the patient, the exercise, as well as the repetition that
he/she wants to supervise. This will be display in the monitoring interface as shown in Figure 9.
This figure is divided into two different areas. The upper part displays the information about a specific
moment in the exercise, and the lower part displays the overall information about the exercise and
the current step. The top-central part (1) shows the interface that the patient sees when performing
the exercise, and the top-right side (2) shows the data of the specific moment that the therapist has
selected. Parts 3 and 4 show the data of the step under supervision. These are presented in graphical
manner, which facilitates the supervision of the step by the therapist. Part 5 of the figure contains the
input data for the inference engine. These data are collected at the end of each step and are used to
obtain the difficulty level of the next step. In addition, part 6 of the figure presents the options for the
exercise. The lower part of the interface, part 7, shows the controls that enable the therapist to move
forward and backward in steps. This, as shown above, enables the therapist and the patient to perform
the exercises independently, without the need of being together in the same place.

Sensors 2018, 18, 3671

12 of 30

Sensors 2018, 18, x

12 of 29

Figure 9. Remote exercise viewer.
Figure 9. Remote exercise viewer.

6. Inference Subsystem
6. Inference Subsystem
The inference subsystem enables the control of the execution of the rehabilitation exercise without
The inference
subsystem
the control
the presented
execution of
the rehabilitation
exercise
without
the therapist’s
intervention
asenables
mentioned
above.ofThe
inference
subsystem
is divided
into
the parts.
therapist’s
mentioned
Theresponsible
presented inference
subsystem
is divided
into
two
two
Theintervention
first part isasthe
inferenceabove.
engine
for helping
the patient
when
he/she
parts. The
first part
is FIS
the for
inference
engine responsible
for helping
the patient
patient is
when
he/she requires
it,
requires
it, namely
the
Help (FIS4H).
This FIS works
while the
performing
an exercise
namely
the
FIS
for
Help
(FIS4H).
This
FIS
works
while
the
patient
is
performing
an
exercise
step
and
step and detects the moment when the patient needs to be helped. The second part is the inference
detectsresponsible
the moment
the the
patient
needsoftothe
beexercise,
helped. i.e.,
The the
second
part
is the inference
engine
for when
adapting
difficulty
FIS for
Difficulty
(FIS4D). engine
This FIS
responsible
for
adapting
the
difficulty
of
the
exercise,
i.e.,
the
FIS
for
Difficulty
(FIS4D).
This
FISstep.
is
is invoked every time the patient completes a step and determines the difficulty of the next
invoked
every
time
the
patient
completes
a
step
and
determines
the
difficulty
of
the
next
step.
Next,
we
Next, we will present the two implemented FIS (FIS for Help and FIS for Difficulty) and how they can
willthe
present
theto
two
implemented
FIS (FIS
for Help
FIS forsupervision
Difficulty) and
they can help the
help
patient
perform
the exercises
without
theand
constant
of ahow
specialist.
patient to perform the exercises without the constant supervision of a specialist.
6.1. FIS for Help (FIS4H)
6.1. FIS for Help (FIS4H)
As mentioned above, this FIS will be used to supervise the execution of the patient’s therapy,
As mentioned
FIS help
will be
to supervise
execution
of the
detecting
when the above,
patientthis
needs
to used
complete
the stepthe
and
activating
thepatient’s
help at therapy,
that time.
detecting
when
the
patient
needs
help
to
complete
the
step
and
activating
the
help
at
thatistime.
Thisto
This will happen if the patient needs to identify the next action to perform and he/she
unable
will happen if the patient needs to identify the next action to perform and he/she is unable to do it.
do it. Hence, the system itself will be aware of this and act accordingly. The system will always start
Hence, the system itself will be aware of this and act accordingly. The system will always start with
with the help deactivated, and when the patient needs it, the system will activate the help. Once the
the help deactivated, and when the patient needs it, the system will activate the help. Once the patient
patient has selected the target element(s), the system will disable this help again, thus returning to
has selected the target element(s), the system will disable this help again, thus returning to the initial
the initial state where no help is provided. This FIS will also help the patient if he/she encounters too
state where no help is provided. This FIS will also help the patient if he/she encounters too many
many difficulties in the performance of a step. In this case, the FIS will choose to abandon the current
difficulties in the performance of a step. In this case, the FIS will choose to abandon the current step
step and continue with the next step of the exercise.
and continue with the next step of the exercise.
With this control of the exercise execution, we are emulating the supervision of the therapist
With this control of the exercise execution, we are emulating the supervision of the therapist
when a patient is performing an exercise. This system will help the patient, when necessary, and
when a patient is performing an exercise. This system will help the patient, when necessary, and will
will
cancel
exercise
the patient
is unable
to complete
it satisfactorily.
This
be invoked
cancel
the the
exercise
if theif patient
is unable
to complete
it satisfactorily.
This FIS
willFIS
be will
invoked
every
every
second
from
the instant
userone
starts
step
of theuntil
exercise
until the completion
such
second
from the
instant
the userthe
starts
stepone
of the
exercise
the completion
of such step.ofTime
step.
Time
between
FIS
invocations
has
been
set
to
one
second
since
the
Emotiv
headset
[35],
in
between FIS invocations has been set to one second since the Emotiv headset [35], in its communityits
community
SDKDevelopment
(Software Development
[41], rate
has of
a refresh
rate of
one
second,a and
therefore
SDK (Software
Kit) [41], has Kit)
a refresh
one second,
and
therefore
higher
refresh a
higher
refresh
time
doesn’t
bring
any
advantage.
time doesn’t bring any advantage.

Sensors 2018, 18, x

13 of 29

18, 3671
6.1.1.Sensors
Input2018,
Data
(Antecedents)

13 of 30

Input data is a set of variables that define a specific instant in the exercise’s progress. In this FIS,
6.1.1.will
Input
Data (Antecedents)
this data
represent
the patient’s current state and how he/she is performing the exercise. Our
system uses
multi-valued
variables.
These
variables,
asinwell
as their progress.
values, have
Inputthree
data is
a set of variables
that define
a specific
instant
the exercise’s
In thisbeen
FIS, thisby
data
will represent
the patient’s
and how
is performing
the exercise.
determined
experts
in the field,
but theycurrent
can bestate
modified
by he/she
therapists
to accommodate
specific
Ourand
system
usesneeds.
three multi-valued
variables.
well asnext:
their values, have been
exercise
patient
The description
of all These
input variables,
variables as
follows
•

determined by experts in the field, but they can be modified by therapists to accommodate specific

Current
stress
(multi-valued):
This variable
represents,
infollows
terms next:
of percentages, the patient’s
exercise and
patient
needs. The description
of all input
variables
stress while he/she is carrying out the exercise. This value is used by the system to detect how
Currentisstress
(multi-valued):
This variablevalue
represents,
in terms of
percentages,
theispatient’s
stress
• patient
the
feeling.
Hence, a high-stress
may indicate
that
the patient
not comfortable
while he/she is carrying out the exercise. This value is used by the system to detect how the
at all with the exercise.

patient is feeling. Hence, a high-stress value may indicate that the patient is not comfortable at all
In our
case,
is measured by the Emotiv neuroheadsets [35]. These devices provide several
with
thestress
exercise.

cognitive and emotional metrics, as mentioned above in Section 4.2. One of them is stress, and for
In our case, stress is measured by the Emotiv neuroheadsets [35]. These devices provide several
this metric it provides a signal that indicate percentage of stress level. In our case, instead of using
cognitive and emotional metrics, as mentioned above in Section 4.2. One of them is stress, and for this
directly
thisitsignal
offered
bythat
theindicate
headsetpercentage
we process
it. Aslevel.
a result,
a case,
false instead
reading
a peak
caused
metric
provides
a signal
of stress
In our
ofor
using
directly
by anthis
occasional
incident
willheadset
not affect
the course
ofathe
exercise:
signal offered
by the
we process
it. As
result,
a false reading or a peak caused by an
occasional incident will not affect the course of the exercise:

No. high stress samples
Current stress = No. high stress samples 100
No. total samples × 100
Current stress =
No. total samples

(1)

(1)

The processing we perform consists in taking the last ten readings of the headset (10 s), then
The
processing
we perform
in taking
the last ten
readings
of the headset
(10the
s), then
classifying
these
ten values
as high consists
or low using
a threshold
(0.5),
and finally
applying
formula
classifying these ten values as high or low using a threshold (0.5), and finally applying the formula
presented in Equation (1) to these data. The number of readings, as well as the threshold can be
presented in Equation (1) to these data. The number of readings, as well as the threshold can be
modified by the therapist to adjust them to his/her own needs.
modified by the therapist to adjust them to his/her own needs.
An example of the processing of the signal obtained from the headset is shown in Figure 10. On the
An example of the processing of the signal obtained from the headset is shown in Figure 10.
vertical
the measurements
obtainedobtained
from the
headset
are presented,
expressed
asas
a decimal.
On axis
the vertical
axis the measurements
from
the headset
are presented,
expressed
a decimal.The
horizontal
axis shows
the time
the
in in
this
A horizontal
horizontalline
line
represents
The horizontal
axis shows
the of
time
of exercise,
the exercise,
thiscase
case20
20 s.
s. A
represents
the the
threshold
of 0.5.
TheThe
lastlast
10 10
s ofs of
exercise
11toto20)
20)are
arethe
the
time
window
threshold
of 0.5.
exerciseexecution
execution (seconds
(seconds 11
time
window
thatthat
our our
algorithm
will will
taketake
to determine
the
first 66samples
samplesofof
data
obtained
from
algorithm
to determine
thepatient’s
patient’sstress.
stress. The
The first
data
obtained
from
the the
headset
(seconds
1116)
to 16)
exceedthe
theestablished
established threshold
they
areare
counted
as low
headset
(seconds
11 to
dodo
notnot
exceed
thresholdofof0.5,
0.5,soso
they
counted
as low
stress.
The
next
4
samples
(seconds
17
to
20)
are
equal
or
above
to
that
threshold,
so
they
are
considered
stress. The next 4 samples (seconds 17 to 20) are equal or above to that threshold, so they are
as highas
stress.
the Equation
the stress
40%. level is 40%.
considered
highApplying
stress. Applying
the (1),
Equation
(1),level
the isstress

Figure 10. Example of stress processing from the signal obtained from the headset.

Figure 10. Example of stress processing from the signal obtained from the headset.

•

Time without interaction (multi-valued): This variable considers the time since the user got
his/her last successful selection, or since the start of the step (if he/she has not got any successful
selection yet). This variable is used to determine the difficulty the patient is experiencing in

Sensors 2018, 18, 3671

14 of 30

•

Time without interaction (multi-valued): This variable considers the time since the user got
14 of 29
his/her last successful selection, or since the start of the step (if he/she has not got any successful
selection
yet).
is used toAdetermine
difficulty
the patient
experiencing
in
completing
theThis
stepvariable
at each moment.
high timethe
without
interaction
couldisrepresent
a great
completing
the
step
at
each
moment.
A
high
time
without
interaction
could
represent
a
great
cognitive difficulty for the patient in finding which the next elements to be selected.
cognitive difficulty for the patient in finding which the next elements to be selected.
Consecutive errors (multi-valued): This variable represents the consecutive errors that the
•• Consecutive
errors (multi-valued): This variable represents the consecutive errors that the patient
patient has had since his/her last item selected correctly or since he/she started the step. Each
has had since his/her last item selected correctly or since he/she started the step. Each time the
time the patient succeeds in performing a hit, this variable will return to the value of 0. This
patient succeeds in performing a hit, this variable will return to the value of 0. This variable
variable is also used to determine the problems the patient is having to complete the exercise. A
is also used to determine the problems the patient is having to complete the exercise. A high
high consecutive errors value indicates that the patient is having trouble to find the next item(s)
consecutive errors value indicates that the patient is having trouble to find the next item(s) that
that should be chosen.
should be chosen.
The graphical representation of these inputs’ variables can be found in Figure 11. On the
The graphical
of that
theseinput
inputs’
variables
can
be found
in Figure
11.vertical
On the axis
horizontal
horizontal
axis therepresentation
range of values
variables
can
take
is displayed.
The
shows
axis
the
range
of
values
that
input
variables
can
take
is
displayed.
The
vertical
axis
shows
the
degree
the degree of membership, expressed as a decimal. The three values in each graph represent the
three
of
membership,
expressed
as
a
decimal.
The
three
values
in
each
graph
represent
the
three
considered
considered linguistic tags (Low/Medium/High). In this sense, the charts represent the degree of
linguistic
tagsof
(Low/Medium/High).
this sense,
theThe
charts
represent
the degree
of membership
of
membership
each linguistic tag to aInspecific
value.
system
will consider
each
of the variables
each
linguistic
tag
to
a
specific
value.
The
system
will
consider
each
of
the
variables
and
grant
a
degree
and grant a degree of belonging to each of the linguistic tag. This process, called Fuzzification, will
of
belonging
to each
of the how
linguistic
tag. This
called
Fuzzification,
allow
themethod
system for
to
allow
the system
to know
well each
labelprocess,
defines the
value,
and is usedwill
as an
input
know
how
well
each
label
defines
the
value,
and
is
used
as
an
input
method
for
the
inference
engine.
the inference engine.
Sensors 2018, 18, x

Figure11.
11. Input
Input values
values of
of the
the FIS4H.
FIS4H.
Figure

6.1.2.
6.1.2. Output
Output Data
Data (Consequents)
(Consequents)
In
have
proposed
oneone
output
variable
for the
This variable
is used
In our
ourimplementation
implementationwe
we
have
proposed
output
variable
for FIS4H.
the FIS4H.
This variable
is
to
control
whether
the help
is enabled
and if necessary
cancel the
current
step. This
output
used
to control
whether
thesystem
help system
is enabled
and if necessary
cancel
the current
step.
This
variable
is achieved
by the system
the Defuzzification
method, method,
in which in
anwhich
outputanvariable
output variable
is achieved
by thethrough
system through
the Defuzzification
output
is
obtained
from thefrom
multiple
outputs outputs
given by
the inference
engine engine
from the
rules
variable
is obtained
the multiple
given
by the inference
from
thethat
ruleshave
that been
have
activated.
Each ofEach
the activated
rules will
define
outputitsasoutput
a trapezoid
or triangleor
that
will determine
been activated.
of the activated
rules
willitsdefine
as a trapezoid
triangle
that will
which
is thewhich
most suitable
output
for itsoutput
inputs.for
Joining
all theJoining
trapezoids
ortrapezoids
triangles ofor
the
activated
determine
is the most
suitable
its inputs.
all the
triangles
of
rules
will createrules
a geometrical
shape
from which shape
its centroid
be obtained
to determine
value of
the activated
will create
a geometrical
fromwill
which
its centroid
will be the
obtained
to
the
final output
[12]. of the final output [12].
determine
the value
Because the help will be disabled when the patient selects a correct element, we have not
considered the option that FIS may decide to disable help. This avoids loops where the help is
continuously activated and deactivated, which can confuse the patient during an exercise. That is,
once the help is activated, it will remain active until the patient performs a hit, by selecting the correct
element. The output options of this FIS are shown below.

•

Do not modify the help: In this case the visual and haptic help will not change from the current
value. If the help was disabled, it will remain disabled. This indicates that the patient is doing

Sensors 2018, 18, 3671

15 of 30

Because the help will be disabled when the patient selects a correct element, we have not
considered the option that FIS may decide to disable help. This avoids loops where the help is
continuously activated and deactivated, which can confuse the patient during an exercise. That is,
once the help is activated, it will remain active until the patient performs a hit, by selecting the correct
element. The output options of this FIS are shown below.

•

•

•

Do not modify the help: In this case the visual and haptic help will not change from the current
value. If the help was disabled, it will remain disabled. This indicates that the patient is doing the
exercise correctly. If the help was activated previously, it will remain activated. This indicates
that in the near past the system found necessary to activate the help for the patient, but since then
the patient has not yet selected the next correct element(s), then the system will continue offering
its help.
Activate help: This system output indicates that the rehabilitation system must activate the visual
or haptic help for the patient. This enables the patient to find which is the next element(s) to
activate, thus preventing the patient from leaving rehabilitation therapy when facing an exercise
that cannot be completed by him her.
Cancel the step: In the extreme case where the patient is unable to complete the current step, there
is an option to cancel the execution of this step. This output will cancel the current step and then
the patient continues with the next step, if any, or terminate the exercise if no further steps remain.

6.1.3. Example of a Rule Set
This section shows an example of possible set of rules that the therapist can define for the FIS4H,
and the consequences they would have once activated. Table 1 shows the input and output conditions
that form the rules of this example set.

•

•

•

•

•

Rule 1 will be activated when the patient has a low stress level. In this case the patient is
not stressed by the exercise he/she is doing, so it is not necessary to activate the help and it
continues disabled.
Rule 2 refers to a time when the patient has remained without interaction for a short time and has
few cognitive errors. This can happen when the patient starts an exercise, or when he/she has
just selected the right element(s), so it is not necessary to activate the help.
Rule 3 shows a situation where the patient has a high level of stress, but the time without
interaction and the consecutive errors have not reached the highest level. In this case, the system
will choose to activate the help. This could indicate that the patient is beginning to experience
problems in the development of the exercise, and we must act before the situation worsens.
This rule is a clear indicator of why it is necessary to use complex rules (with multiple antecedent)
to control the execution of the exercise, instead of simple rules (with only one hypothesis). In this
case a high degree of stress does not imply that we should cancel the execution of the step or even
the exercise, yet it may indicate that the patient is under a high level of stress due to the level of
complexity of the exercise. In this case, we suppose that the activation of the help system could
offer enough support to select the correct element and reducing his/her stress level. Thus, the use
of a single variable, stress in this case, is not enough to determine how the system should behave.
Rule 4 shows a situation where the patient has not interacted with the system for a long time and
has already had some consecutive errors. As in the previous rule, this is an indicator that the
patient is facing problems in the development of the step, so it is necessary to help him/her.
Rule 5 presents an example where the patient may not be able to complete the current step.
This may occur because the current step is too complex for the patient, or it may even mean that
the current step is wrong, meaning that the therapist has made a mistake in its design. A high
level of stress, a high time without interaction and high consecutive errors are the conditions that
must be met for activating this output option, and as a result the system will choose to cancel the
step and proceed to the next one.

Sensors 2018, 18, 3671

16 of 30

Table 1. Example rule set of the FIS4H.
Nº

Current Stress

Time without Interaction

Consecutive Errors

Output

1
2
3
4
5

Low
Any
High
Any
High

Any
Low
Medium
High
High

Any
Low
Medium
Medium
High

Do not modify the help
Do not modify the help
Activate help
Activate help
Cancel the step

6.2. FIS for Difficulty (FIS4D)
As described above, this FIS is responsible for adapting the difficulty of the exercise, selecting the
level of difficulty of the next step to be performed by the patient. The therapist has defined different
difficulty levels for each of the steps described, as shown in Section 3.3. In this sense, a multi-step
rehabilitation exercise can be performed multiple times, thus offering a unique and personalized level
of difficulty to each patient at any given time. Hence, we are fostering the replayability [42] of the
developed exercises. This FIS will attempt to implement the knowledge that a therapist has when
supervising the development of an exercise, modifying the difficulty of the exercises depending on the
performance of the patient while completing the previous steps, as well as the previous rehabilitation
sessions. The FIS will be called each time the patient completes a step or completes the exercise, and it
will take information on how the previous step was performed and how the patient was doing while
performing it. If the patient did not have any problems while performing the exercise, it will mean
that the difficulty level of exercise is not enough for the patient, and it will be decided to increase this
difficulty. However, if the patient has had problems with exercise, it may mean that the therapist has
overestimated the patient’s cognitive abilities, and therefore, the next step of exercise will be easier than
the one just performed. It is also considered a mid-point where the level of difficulty is appropriate for
the patient’s cognitive conditions, and therefore the choice will be to leave the difficulty unchanged.
6.2.1. Input Data (Antecedents)
In this FIS4D, the input data represents the patient’s performance in the previous step, as well as
the patient’s state in the last moments of the exercise. In our system, we use two multi-value variables
and one binary variable, which makes a total of three variables. As in the previous FIS, these variables,
as well as their values, have been determined by specialists in the field. Moreover, as highlighted
above, these variables can be adapted by rehabilitation specialists to suit their specific needs, and those
of their patients. The description of all input variables follows next:

•

•

Step average stress (multi-valued): This variable, as in the FIS4H, represents under what level of
stress the patient is. Although in this case the level of stress does not reflect a specific point, it
reflects the average level of stress during the last part of the exercise. By default, the values of
the last quarter of the exercise (25%) will be taken and the average will be calculated, but this
percentage of the exercise can also be modified by the therapists. This value has been set to a
quarter as it is large enough to avoid peaks of stress that may occur in the last moments of the
step, but it is a small enough to avoid the stress changes that may occur at the beginning of the
step, when the patient begins to explore the environment.
Step errors ratio (multi-valued): This variable represents how many errors, with respect to the
total of actions (errors + hits) the patient has made in the previous step, as shown in Equation
(2). This tells us how accurate the patient has been in the previous step regardless of the number
of total errors. This enables us to create rules that include short exercises, where the number of
elements to be selected is small (therefore the errors will usually be few), and long exercises where
the number of elements to be selected is large (therefore the errors will usually be more than in
the previous case):
No. errors
Step errors ratio =
(2)
No. total actions

Sensors 2018, 18, 3671

17 of 30

•

Step canceled (binary): This variable will indicate to the system whether the previous step was
completed successfully or whether the FIS4H had to cancel the execution of the previous step.
In the event that the previous step has had to be cancelled, it is necessary to decrease the difficulty
of the exercise, as this will indicate that the patient has had serious problems in that previous step.
Sensors
2018,variable
18, x
29
This
is binary and can only take the values of true, if the previous step has had17toof be
cancelled, or false, if the user has been able to complete the previous step correctly.
The information for the variables is shown in Figure 12. On the horizontal axis the range of
The
information
for the variables
is shown
in Figureand
12. On
horizontal
the range
of values
values that
input variables
can take
is displayed,
thethe
vertical
axis axis
shows
the degree
of
that
input variables
can as
take
is displayed,
and values
the vertical
axis
shows
the degree
membership,
expressed
a decimal.
The three
in each
graph
represent
each of
of membership,
the linguistic
expressed
as a decimal.
The three valuesIninthis
each
graph
represent
each of thethe
linguistic
considered
tags considered
(Low/Medium/High).
sense,
the
graphs represent
degree tags
of membership
(Low/Medium/High).
In
this
sense,
the
graphs
represent
the
degree
of
membership
of
each
linguistic
of each linguistic tag to a specific value. As in the previous case, the values represented
in this
tag
to a specific
value.
As inthrough
the previous
case, the values
represented
in this graphic
allow
the system,
graphic
allow the
system,
the fuzzification
process,
to determine
the input
values
of the
through
the
fuzzification
process,
to
determine
the
input
values
of
the
inference
system.
inference system.

Figure 12.
12. Input values of the FIS4D.
Figure

6.2.2.
6.2.2. Output
Output Data
Data (Consequents)
(Consequents)
In
our system
systemwe
weconsider
consider
a single
output
variable,
which
can five
takelinguistic
five linguistic
In our
a single
output
variable,
which
can take
labels. labels.
These
These
variables
are obtained
using
theDefuzzification
same Defuzzification
as previous
in the previous
FIS.
outputoutput
variables
are obtained
using the
same
methodmethod
as in the
FIS. These
These
values
will
tell
the
system
what
the
difficulty
of
the
next
step
will
be.
The
output
options
of
this
values will tell the system what the difficulty of the next step will be. The output options of this FIS
FIS
shown
below.
are are
shown
below.

••

Difficulty+++:+:This
This
output
indicates
the system
the must
difficulty
must be
increased
Difficulty
output
indicates
to theto
system
that the that
difficulty
be increased
significantly,
significantly,
so
that
the
next
step
will
have
a
difficulty
two
levels
higher
than
the
baseline.
so that the next step will have a difficulty two levels higher than the baseline.
Difficult +:
+: In
so the
the
••
Difficult
In this
this case
case the
the next
next difficulty
difficulty should
should be
be aa little
little higher
higher than
than the
the base
base difficulty,
difficulty, so
difficulty
will
be
raised
one
level
above
the
base.
difficulty will be raised one level above the base.
Difficulty =:
=: When
When the
the system
systemobtains
obtainsthis
thisoutput,
output,ititindicates
indicatesthat
thatthe
thedifficulty
difficulty
exercise
••
Difficulty
ofof
thethe
exercise
is
is
appropriate
for
the
patient,
so
it
will
not
modify
it,
and
the
difficulty
obtained
will
be
equal
to
appropriate for the patient, so it will not modify it, and the difficulty obtained will be equal to the
the base
difficulty.
base
difficulty.
Difficulty −
−:: This
the system
system will
will
••
Difficulty
This output
output indicates
indicates that
that the
the difficulty
difficulty should
should reduce
reduce aa little,
little, so
so the
have
to
decrease
the
difficulty
of
the
next
step
one
level
below
the
base
difficulty.
have to decrease the difficulty of the next step one level below the base difficulty.
•
Difficulty − −: In this case the patient has had serious problems completing the previous step,
•
Difficulty − −: In this case the patient has had serious problems completing the previous step,
and therefore the difficulty of the next step should be reduced to two levels.
and therefore the difficulty of the next step should be reduced to two levels.
If the FIS wants to reduce the difficulty of the next step, but cannot reduce it more, the system
will choose the lowest difficulty. Similarly, if the FIS attempts to increase the difficulty of the next
step, but there is no greater difficulty, the system will choose the higher difficulty.
6.2.3. Example of a Rule Set
This section shows an example of possible set of rules for the FIS4D, and the consequences they
would have once activated. Table 2 shows the input and output conditions that form the rules of this

Sensors 2018, 18, 3671

18 of 30

If the FIS wants to reduce the difficulty of the next step, but cannot reduce it more, the system
will choose the lowest difficulty. Similarly, if the FIS attempts to increase the difficulty of the next step,
but there is no greater difficulty, the system will choose the higher difficulty.
6.2.3. Example of a Rule Set
This section shows an example of possible set of rules for the FIS4D, and the consequences they
would have once activated. Table 2 shows the input and output conditions that form the rules of this
example set.
Table 2. Example rule set of the FIS4D.

•

•

•

•

•

Nº

Step Avg. Stress

Step Errors Ratio

Step Canceled

Output

1
2
3
4
5

Any
Low
Medium
Any
Any

Low
Any
Medium
Hight
Any

Any
Any
Any
Any
Yes

Difficulty + +
Difficulty +
Difficulty =
Difficulty −
Difficulty − −

Rule 1 shows a situation where the patient has completed the previous step with a low error rate.
This indicates that it is possible to greatly increase the difficulty of the exercise. So, the output of
the FIS will be Difficulty + +.
Rule 2 is activated when the patient’s average stress during the last part of the exercise is low.
This indicates that the patient has not experienced difficulties in the completion of the last step, so
the next step may be more difficult. In this case the output of the FIS will be Difficulty +.
Rule 3, the patient has experienced moderate stress and has made a medium number of errors.
Therefore, it is recommended not to increase the difficulty, but there is no reason to decrease it
either, so the difficulty will remain the same (Difficulty =).
Rule 4 is obtained when the user has made many errors. The high difficulty of the previous step
has caused the patient to make many errors, so the most convenient thing to do is to reduce the
difficulty. According to this the output of the FIS will be Difficulty −.
Rule 5 will be met when the patient has not successfully completed the previous step, that is,
when the FIS4H has determined that it is recommended that the step be cancelled. In this case it
is better to considerably reduce the difficulty of the exercise (Difficulty − −).

6.2.4. Example of Execution
In this example, we will use the same exercise presented in Section 3.3, which was composed by
six steps. Figure 13 shows the first execution of the exercise and the changes in difficulty that have
been made between the steps of it. The vertically-stacked rectangles represent each step of the exercise
(six in this example), and each division inside the rectangle represents a level of difficulty created by
the therapist (the first step has seven levels, the second four, and so on). The numbers within each step
represent the relative difficulty in that step, being number 1 the easiest one, and getting more difficult
as the number increases. The difficulty level that the therapist assigned as the base level in the design
phase has been represented with an asterisk.

been made between the steps of it. The vertically-stacked rectangles represent each step of the
exercise (six in this example), and each division inside the rectangle represents a level of difficulty
created by the therapist (the first step has seven levels, the second four, and so on). The numbers
within each step represent the relative difficulty in that step, being number 1 the easiest one, and
Sensors 2018,
18,difficult
3671
19 the
of 30
getting
more
as the number increases. The difficulty level that the therapist assigned as
base level in the design phase has been represented with an asterisk.

Figure
of an
an exercise
exerciseand
andmodification
modificationofofthe
thedifficulty
difficultyperformed
performed
Figure13.
13.Example
Exampleof
ofthe
the first
first execution
execution of
by
by
the
FIS.
the FIS.

The
perform the
theexercise
exerciseininthe
thefirst
firststep
step
and
difficulty
level
of
Thepatient
patient will
will begin to perform
and
in in
thethe
4th4th
difficulty
level
of this
this
step,
since
been
established
by the
therapist
through
base
level.
Once
step
of
step,
since
thisthis
hashas
been
established
by the
therapist
through
thethe
base
level.
Once
thethe
firstfirst
step
of the
Sensors 2018, 18, x
19 of 29
the
exercise
been
completed,
indicates
that
difficulty
must
increased
a little
exercise
hashas
been
completed,
thethe
FISFIS
indicates
that
thethe
difficulty
must
bebe
increased
a little
(D(D
+),+),
so
so
thesecond
secondstep
stepa adifficulty
difficultyofof33must
mustbe
beestablished,
established, which
which is the base level
the
inin
the
level (2)
(2) plus
plus
theincrease
increase
established
by the
FIS (1). Once
the second
step is completed, the
FIS indicates
that
the difficulty
must
established
by
the
FIS
(1).
Once
the
second
step
is
completed,
the
FIS
indicates
that
the
difficulty
be greatly reduced (D − −), so that a difficulty level of 1 is obtained. In the third step the outputmust
of the
beFIS
greatly
reduced
(D − −must
), so that
a difficulty
level
is that
obtained.
third Once
step the
is that
the difficulty
be lowered
a little
(D of
−),1so
level 4In
is the
reached.
theoutput
fourth of
step
theisFIS
is
that
the
difficulty
must
be
lowered
a
little
(D
−
),
so
that
level
4
is
reached.
Once
the
fourth
completed, the output of the FIS is to lower the difficulty considerably (D − −), as the next
step
step
is completed,
the its
FISbase
is tolevel,
lowerthe
thedifficulty
difficultythat
considerably
(D − will
−), as
step(1).
cannot
decreasethe
twooutput
levelsof
from
will be shown
bethe
thenext
lowest
cannot
two
base level,
difficulty
thatso
will
shown will
be the
(1).be
In thedecrease
fifth step
thelevels
resultfrom
is toits
maintain
thethe
same
difficulty,
thebedifficulty
of the
last lowest
step will
In the
the base
fifth step
the
result
is
to
maintain
the
same
difficulty,
so
the
difficulty
of
the
last
step
will
be
the
one, as proposed by the therapist. Finally, once the patient has completed the last step, the
base
one,
as
proposed
by the
the patient
has
last step, the
FIS is called
again, and
thetherapist.
result is Finally,
that theonce
difficulty
should
becompleted
increased the
considerably
(D FIS
+ +),is so
called
and
the the
result
is that
the difficulty
should
be increased
considerably
(D + +), so
that
that again,
the next
time
user
performs
the exercise
he will
no longer
start with difficulty
4 of
thethe
first
next
time
the
user
performs
the
exercise
he
will
no
longer
start
with
difficulty
4
of
the
first
step
but
step but will do it from two more levels (from level 6).
will do Figure
it from 14
two
more an
levels
(from of
level
6).
shows
example
a second
execution of a patient’s rehabilitation exercise. As it
Figure
14
shows
an
example
of
a
second
execution
of a patient’s
rehabilitation
exercise.
As it
can be seen in comparison to Figure 13, the initial
difficulties
have changed
from those
the therapist
can
be
seen
in
comparison
to
Figure
13,
the
initial
difficulties
have
changed
from
those
the
therapist
established at the design phase. In the first step this new base level is established according to the
established
at the
phase. interaction,
In the first step
this case
new the
baseprevious
level is established
to the
final
final output
of design
the previous
in this
interactionaccording
showed that
the
level
output
of
the
previous
interaction,
in
this
case
the
previous
interaction
showed
that
the
level
had
to
had to be increased by 2, so the base level of difficulty has changed from 4 to 6. In the rest ofbethe
increased
by base
2, so the
base
level of difficulty
has changed
from of
4 to
6. In the that
rest of
theperformed
cases, the base
cases, the
level
is established
according
to the level
difficulty
was
in the
level
is established
according to the level of difficulty that was performed in the previous interaction.
previous
interaction.

Figure
Example
second
execution
a program
and
modification
difficulty
performed
Figure
14.14.
Example
of of
thethe
second
execution
of of
a program
and
modification
of of
thethe
difficulty
performed
FIS.
by by
thethe
FIS.

In this second interaction, the variation in difficulty follows the same rules as those shown in the
previous case. But, in this one, the rehabilitation exercise has not been completed, so the next time
the patient resumes his/her rehabilitation exercise he/she will start from the point where he/she left.
In this case, the patient has completed the first three steps of the exercise, and the fourth step has
either not been started or has been interrupted, so the next time the patient resumes his/her

Sensors 2018, 18, 3671

20 of 30

In this second interaction, the variation in difficulty follows the same rules as those shown in
the previous case. But, in this one, the rehabilitation exercise has not been completed, so the next
time the patient resumes his/her rehabilitation exercise he/she will start from the point where he/she
left. In this case, the patient has completed the first three steps of the exercise, and the fourth step
has either not been started or has been interrupted, so the next time the patient resumes his/her
rehabilitation, he/she will be start in step 4 directly. In this sense, by controlling the difficulty in each
step of the exercise, the patient can ‘re-play’ his/her rehabilitation exercises. Therefore, the patients
will get a unique experience in their rehabilitation, which also fits their personal rehabilitation needs.
This also encourages them to self-improve, which leads to a more bearable rehabilitation for patients
and their relatives.
6.3. Construction of Rules
As the system will be used by non-computer expert, it is relevant to offer an adequate interface
for supporting the fuzzy rules entry task. Since there are two inference engines in our proposal, we
have also defined two interfaces to manage the rules of each FIS. In Figure 15 we present the rules
editor interface of the FIS4H, in which the rules built in Section 6.1.3 are displayed. As it can be seen,
the therapists can create several profiles related to group of patients with similar features. Moreover,
they can adapt this profile to a specific user by choosing the value of each fuzzy variable.
Sensors 2018, 18, x

20 of 29

Figure 15. Rules editor interface of the FIS4H.
Figure 15. Rules editor interface of the FIS4H.

7. Evaluation
A fundamental factor of rehabilitation technology research is knowing how therapists or end
users react to
the
design
and
development
of
to new
new technology
technologyproposals
proposals[43,44].
[43,44].ItItisisimportant
importantthat
that
the
design
and
development
telerehabilitation
systems
consider
user-centered
approaches
of
telerehabilitation
systems
consider
user-centered
approaches[45],
[45],especially
especiallytotofind
find out
out if
if the
proposed system
systemfits
fitsthe
theneeds
needsand
andpreferences
preferencesofofthe
theend
end
user,
well
context
in which
it can
proposed
user,
asas
well
as as
thethe
context
in which
it can
be
be implemented
[9,46].
Some
studies
shown
that
the
of abandonment
of technological
implemented
[9,46].
Some
studies
have have
shown
that the
rate
of rate
abandonment
of technological
systems
systems
in the
health
field
40%
In an
this
sense, an experimental
has been
in
in
the health
field
is 40%
[47].isIn
this[47].
sense,
experimental
task has beentask
developed,
in developed,
which experts
which
experts occupational
in rehabilitation,
occupational
therapists,
physiotherapists,
physicians
and
in
rehabilitation,
therapists,
physiotherapists,
physicians
and psychologists
provide their
psychologists
opinion in
order
to knowtelerehabilitation
the satisfactionsystem.
with the proposed
opinion
in orderprovide
to knowtheir
the satisfaction
with
the proposed
telerehabilitation system.
7.1. Experimental Context

7.1. Experimental
Context
The main goal
of this experiment, defined by using Goal Question Metric [48] is: analyze the
proposed
assistive
rehabilitation
system
theGoal
purpose
of potential
users’
The main
goalcognitive
of this experiment,
defined
by for
using
Question
Metric [48]
is: satisfaction,
analyze the
for
physical
and
cognitive
rehabilitation
therapists
in
the
context
of
occupational
therapists,
proposed assistive cognitive rehabilitation system for the purpose of potential users’ satisfaction,
for
physiotherapists,
physiologists,
medicine doctors
and in
physiotherapy
With this aim,
Table 3
physical and cognitive
rehabilitation
therapists
the contextstudents.
of occupational
therapists,
presents
the hypothesis
that thismedicine
experiment
triedand
to demonstrate.
physiotherapists,
physiologists,
doctors
physiotherapy students. With this aim, Table 3
presents the hypothesis that this experiment tried to demonstrate.
7.2. Design
We developed a demonstration video to show the use of the telerehabilitation tool for therapists.
The length of the video was 13 min, and it took approximately 5 min to complete the questionnaire
(see Table 4). The total duration of each assessment session with each expert ranged from 30–35 min.
The video showed how a rehabilitation expert used the tool in each phase, as well as how the therapist
used it to (1) login; (2) create an exercise; (3) assign an exercise to the patient; (4) use the sensors and

Sensors 2018, 18, 3671

21 of 30

7.2. Design
We developed a demonstration video to show the use of the telerehabilitation tool for therapists.
The length of the video was 13 min, and it took approximately 5 min to complete the questionnaire
(see Table 4). The total duration of each assessment session with each expert ranged from 30–35 min.
The video showed how a rehabilitation expert used the tool in each phase, as well as how the therapist
used it to (1) login; (2) create an exercise; (3) assign an exercise to the patient; (4) use the sensors
and actuators; (5) performed the exercise; and (6) checked the execution and performance of session.
After watching the video, each expert completed the questionnaire. The survey consisted of 16
five–point ratings scales (1: Strongly disagree to 5: Strongly agree). In addition, after each session
the evaluator noted all the observations and comments made by each expert. All participants gave
their informed consent to be included in the study. No personal data that could identify them was
collected, guaranteeing the anonymization of the databases. All questionnaires were conducted by a
neuropsychologist and an occupational therapist in a quiet room at the Health Science Faculty in the
University of Granada. All data was collected during the month of July 2018.

Sensors 2018, 18, 3671

22 of 30

Table 3. Main features of the experiment.

Null Hypothesis

Dependent Variables

H0A : Potential users’ satisfaction with rule-based system is higher than 3 in a scale from 1 to 5. H1A : ¬H0A
H0B : Potential users’ satisfaction with used sensors is higher than 3 in a scale from 1 to 5. H1B : ¬H0B
H0C : Potential users’ satisfaction with remote monitoring of the session is higher than 3 in a scale from 1 to 5. H1C : ¬H0C
H0D : Potential users’ overall satisfaction with the proposal is higher than 5 in a scale from 0 to 10. H1D : ¬H0D
Potential users’ satisfaction with rule-based system (RUL)
Potential users’ satisfaction with used sensors (SEN)
Potential users’ satisfaction with remote monitoring of the session (MON)
Potential users’ overall satisfaction with the proposal (OVR)
Table 4. Expert Satisfaction Evaluation Items.

Category

Rule-based system

Used sensors

Remote monitoring

Other

Question
Q1.
Q2.
Q3.
Q4.
Q5.

The variables that appear in the rules are adequate
The variables’ labels are adequate
The rule-based system can capture my knowledge about how to adapt each exercise
The help-activation system is suitable for this type of rehabilitation
The difficulty-adaptation system improves the rehabilitation

Q6. The used sensors collect the patient’s information required to perform these exercises
Q7. The information collected by the EEG sensor for stress detection is of interest for the treatment of the patient
Q8. The haptic stimulator helps to carry out the exercises
Q9. The sensors do not limit the movement of the patient
Q10. The system can be use easily by patients with the assistance of a caregiver/family
Q11.
Q12.
Q13.
Q14.
Q15.

The activity viewer helps me follow the evolution of the exercise
The patient’s results viewer is straightforward
I can get all the data I need through the results viewer
Thanks to the results viewer I do not consider my presence to be necessary during the rehabilitation session
The information on the result viewer is displayed appropriately

Overall satisfaction with the proposal

Sensors 2018, 18, 3671

23 of 30

7.3. Data Analysis
Descriptive statistics were used for qualitative and quantitative variables, the socio-demographic
questionnaire and satisfaction with the telerehabilitation system. The frequencies and percentages
have been calculated for each of the categories of the qualitative socio-demographic variables. In order
to know the satisfaction of the therapists after their exposure to the telerehabilitation system, the
mean scores and the standard deviations obtained in each item of the questionnaire and in the
overall satisfaction were analyzed. The corresponding confidence intervals were also calculated
(95% CI). The t-test was also used to analyze the differences in the three dimensions of satisfaction
studied: satisfaction with the rules (RUL), satisfaction with the sensors (SEN) and satisfaction with the
monitoring display (MON). The level of statistical significance was set to a value of p < 0.01. All data
were analyzed with IBM 24 SPSS software.
7.4. Results
In this section we will show the statistical data of the participants, as well as the results obtained
from the questionnaires, all this to conclude with the answers to the proposed research questions.
7.4.1. Characteristics of the Therapists Sample
Participation was voluntary, and selection was made on the basis of a convenience, non-probabilistic
sample. Data on the characteristics of 20 therapists were extracted from the questionnaires and displayed
in Table 5. 65% of the experts were women and 75% were occupational therapists, who are usually
responsible for cognitive rehabilitation. Most of them work in public rehabilitation centers (55%).
The most frequent pathology they worked with was people with acquired brain damage (40%),
followed by older people with disabilities (25%).
Table 5. Experts’ profiles.
Characteristic

N

Percentage (%)

Gender

Male
Female

7
13

35
65

Specialty

Occupational Therapist
Physical Therapist
Others

15
3
2

75
15
10

Type of practice

Public Hospital
Private Clinic
Combined

11
5
4

55
25
20

Field of Practice

Brain Injury
Geriatric & Gerontology
Neurodegenerative diseases
Other fields

8
5
2
5

40
25
10
25

Employment status

Part-Time
Full-Time

3
17

15
85

Experience with
Telerehabilitation Systems

Yes
No

6
14

30
70

7.4.2. Expert Satisfaction Questionnaire Score
To obtain a first result from the expert satisfaction, the average results for each one of the questions
was computed. As it can be seen in Table 6, except for question Q14 (“Thanks to the results viewer I do
not consider my presence to be necessary during the rehabilitation session”), for all of them it was
obtained a result higher than 4 in a scale from 1 to 5. Therefore, we can intuit that the satisfaction of the
experimental subjects with the proposal was high. Moreover, these positive results are also supported

Sensors 2018, 18, 3671

24 of 30

by the final question (“Overall satisfaction with the proposal”), where an average result of 8.76 in a
scale from 0 to 10 (σ = 1.70) was obtained.
Table 6. Mean and standard deviations result for experimental questions.

Sensors 2018, 18, x

23 of 29

Category

Rule-Based System
Used Sensors
Remote Monitoring
Table 6. Mean and standard deviations result for experimental questions.
Question Q1
Q2
Q3
Q4
Q5
Q6
Q7
Q8
Q9
Q10 Q11 Q12 Q13 Q14 Q15
x
4.40 4.35 Rule-Based
4.35 4.65System
4.60 4.40 4.25 Used
4.60Sensors
4.40 4.25 4.75 Remote
4.00 Monitoring
4.25 3.05 4.40
Category
σ
0.88 0.87
0.74
0.68 Q5
0.82 Q61.16 Q7 0.82Q8 1.09
0.80 Q13
0.72 Q14
0.94 Q15
0.88
Question
Q1 0.93
Q2
Q3
Q4
Q9 0.96
Q10 0.55
Q11 Q12
𝒙
𝝈

4.40
0.88

4.35
0.87

4.35
0.93

4.65
0.74

4.60
0.68

4.40
0.82

4.25
1.16

4.60
0.82

4.40
1.09

4.25
0.96

4.75
0.55

4.00
0.80

4.25
0.72

3.05
0.94

4.40
0.88

Additionally, in order to accept or reject our null hypothesis (Table 3), we performed a deeper
statistical Additionally,
analysis. Hence,
the to
answers
of reject
each participants
for the(Table
three 3),
first
in order
accept or
our null hypothesis
wedependent
performed variables
a deeper
(RUL,statistical
SEN, MON)
were
grouped
by
computing
their
average
value.
Then,
with
these
three
variables,
analysis. Hence, the answers of each participants for the three first dependent variables
along(RUL,
with the
one were
(OVR),
whichby
was
obtainedtheir
directly
from
the final
performed
SEN,last
MON)
grouped
computing
average
value.
Then,question,
with thesewe
three
variables,a
seriesalong
of t-tests
results which
of suchwas
tests
can be directly
seen in from
Tablethe
7 and
16. we performed a
with[49,50].
the last The
one (OVR),
obtained
finalFigure
question,
series of t-tests [49,50]. The results of such tests can be seen in Table 7 and Figure 16.
Table 7. Results of statistical tests.
Table 7. Results of statistical tests.

90% Confidence
Dependent
Sample
Mean
Sample
90%
Confidence
Interval
Variable
Size
Dependent Variable
Mean
RUL
SEN
MON
OVR

RUL
SEN
MON
OVR

20
20
20
20

Size
4.47
20
20 4.38
20 4.94
20 8.70

Interval

4.47
4.38
4.94
8.70

(4.15–4.78)
(4.15–4.78)
(4.01–4.75)
(4.01–4.75)
(4.60–5.28)
(4.60–5.28)
(7.90–9.50)
(7.90–9.50)

Standard
Standard
Deviation
Deviation
0.67
0.67
0.79
0.79
0.73
0.73
1.72
1.72

Target
Target

3 (13 (1
toto5)5)
3 (13 (1
toto5)5)
3 (13 (1
toto5)5)
5 (05 (0
toto10)
10)

p-Value
p-Value

<0.001
<0.001
<0.001
<0.001
<0.001
<0.001
<0.001
<0.001

α
α

0.050.05
0.050.05
0.050.05
0.050.05

Considering
the results
shown
in Table
we conclude
can conclude
the average
is higher
than
3 for
Considering
the results
shown
in Table
7, we7,can
that that
the average
is higher
than
3 for
the
the
dependent
variables
RUL,
SEN
and
MON,
and
greater
than
5
for
OVR,
with
the
0.05
level
of
dependent variables RUL, SEN and MON, and greater than 5 for OVR, with the 0.05 level of confidence.
confidence. Because of that reason, we accept our four null hypotheses. Therefore, potential users’
Because of that reason, we accept our four null hypotheses. Therefore, potential users’ satisfaction with
satisfaction with rule-based system, used sensors and remote monitoring of the session is higher than
rule-based system, used sensors and remote monitoring of the session is higher than 3 in a scale from 1
3 in a scale from 1 to 5, and their overall satisfaction with the proposal is higher than 5 in a scale from
to 5, and their overall satisfaction with the proposal is higher than 5 in a scale from 0 to 10.
0 to 10.

Figure
16. Distribution
of data
forfor
thethe
four
dependent
Figure
16. Distribution
of data
four
dependentvariables.
variables.

Sensors 2018, 18, 3671

25 of 30

7.5. Results Breakdown
One of the elements most valued by the therapists was the remote exercise viewer and the
information that allowed to know about the execution of the patient in each exercise, as well as
the possibility of observing the patient’s evolution. Occupational therapists indicated the interest
in collecting the recording of the patient’s performance, especially in those with anosognosia and
unilateral neglect where video feedback is a very useful strategy in cognitive rehabilitation [51,52].
In addition, therapists can check on their application what kind of mistakes the patient commits, such
as losing the sequence, changing the order of the task. Moreover, it can be observed whether the
patient is aware of the mistakes he/she makes, and whether he/she tries to correct them. In this sense,
the therapist application can be a tool that enables them to know if the patient shows an adequate
attentional control while performing the activity. Because of these characteristics, the therapist can
develop a clinical reasoning about the course of treatment, the strategies that the patient uses, and
which of them are more beneficial to establish new goals. In this sense, it is a very useful tool
to analyze the errors of those patients who may have an executive dysfunction and patients with
cognitive impairment or dementia, where this type of deficit affects their personal autonomy and daily
performance [53].
The second element most valued by the experts was the possibility of offering different types
of help according to the needs of the patients. In particular, the most appropriate help can be used
according to the learning strategies followed and the type of signals that are easiest to process for each
patient (visual, auditory or haptic), thus optimizing the rehabilitation results. This type of information
is essential for planning and executing treatments for patients with acquired brain damage. This is
because it is possible that the processing of some type of sensory modality may be compromised.
Therefore, different types of sensory stimuli may be necessary to facilitate the re-learning of new skills
or to rehabilitate cognitive or motor functions [54].
Thirdly, it is important to highlight the positive evaluation made by therapists, who stated that
this is a tool that enables the patient’s level of difficulty to be continuously adapted and modified
according to their performance. Fourth, and in relation to the previous point, the stress sensor was also
highly valued, especially at the beginning of the exercise, since it is known that if the activity that the
patient faces is very complicated or different from the ones he/she already knows, it generates a stress
situation for the patient. If so, it is very likely that the patient will not be motivated to carry out the
therapeutic activity, so he/she will abandon it, thus not having a good adherence to the treatment [55].
Another aspect that occupational therapists highlighted was the potential of the tool to record
and systematize treatments. This aspect was mostly well valued by recent graduated therapists, as it
could help them in their clinical reasoning, based on the results viewer and the system of rules [56].
The possibility of grading the complexity of the exercise or therapy and the autonomy that this system
provides them with was also highly valued. Hence, the transfer of learning can be graduated from
a simpler task to more complex ones with greater cognitive demands and greater ecological value,
as happens in the activities of daily life [56–59]. On the other hand, it is worth noting that Q14
(“Thanks to the results viewer I do not consider my presence to be necessary during the rehabilitation
session”) was the least rated question. The possible explanations for this fact will be dealt with in the
following section.
7.6. Limitations
The study, which was conducted with experts, has some limitations. First, the experts were
selected by non-probabilistic convenience sampling. This may limit the extrapolation of the results,
although their usefulness in exploratory studies such as this one has been demonstrated [60].
Other limitation is the limited sample size of participants. In this study, the sample of 20 participants
may be small for most studies. We have managed this threat by using expert therapists with knowledge
of computer-assisted rehabilitation systems as well as in rehabilitation techniques that are implemented
by the evaluated system. This has enabled us to reduce the sample of participants without having

Sensors 2018, 18, 3671

26 of 30

a negative influence on the data obtained in the experiment. Also, we would like to point out that
the profile of occupational therapists with expertise in cognitive rehabilitation with people with brain
damage and cognitive impairment in the elderly makes their opinions and participation very useful
for the study of the proposed tool.
Another limitation of the study is the fear of replacement of rehabilitation experts by machine
automation. The system under assessment attempts to offer greater freedom to both patients and
therapists, but the later may see this development as a threat to their jobs and therefore evaluate it
negatively in the study. We have addressed this threat through two ways. The first one was to enroll
therapists who are experts in computer-assisted rehabilitation systems, who already know the benefits
of such systems. They knew these systems are not designed to replace them, but to make the work
easier for them and for patients. The second way to deal with this problem, has been to explain to
the participants before the experiment the real motivation of the system, thus clearing up any doubts
about this aspect. However, in question Q14, which refers to this limitation, it has been possible to
see how a relevant number of participants show some disagreement regarding the usefulness of the
system for their use without the need for the therapist to supervise the rehabilitation session.
One shortcoming of this study is that we did not gather additional information that could explain
why the therapist gave a low score in Q14. In future studies, this question should be addressed to
know if this low score could be related, in part, related to a perception by therapists that they are
irreplaceable. More studies are needed to know if these may be due to some type of fear regarding the
therapist’s application, thus making it necessary to improve the system. In future studies it would be
useful to add some additional question, in the event of having rated with a score less than or equal
to 3 in Q14. This result could be due to different reasons that should be investigated. One possible
explanation could be that the therapists feel that their work cannot be completely replaced and that
the system does not offer enough autonomy and needs to be improved. It is also possible that this
could be due to the fear of being dispensable [47,61]. According to Perlusz [62], this type of emotional
processes is not found in the most commonly used technology-acceptance models and it would be
interesting to take it into account in future studies on behavioral intention.
8. Conclusions and Future Work
In this work, we have presented a new version of our previous cognitive rehabilitation
system [17,18] for enabling at-home rehabilitation (telerehabilitation). This new proposal has focused
on the autonomy of the therapist and the patient, enabling them to carry out the rehabilitation tasks
whenever and wherever they want. With this aim, an inference system has been added, that provides
higher intelligence to the system. Besides, this system enables people without specific knowledge in
cognitive rehabilitation, such as patient’s relatives or caregivers, to help patients perform exercises.
This increases the number of patients who can be treated by rehabilitation specialists and enables
cognitive rehabilitation for people who previously did not have access to this type of rehabilitation.
At the beginning of this paper, the architecture of the developed system was presented, showing
the therapist’s and patient’s application, as well as the help and difficulty control systems. Later, the
sensors and actuators used were presented, in addition to the functionality of each one, with
special reference to the limitations they have, and the solutions proposed to avoid these limitations.
Afterwards, the remote exercise viewer was shown, which enables the therapist to supervise the
exercises performed by the patient. Then, the paper has focused on the design of the inference system.
Our system implements two different FIS, being the first one invoked during the exercise and controls
the activation of the help for the patient, and the other one that is called each time the patient finishes
a step of the exercise and controls the difficulty of the next step.
After the presentation of the system, the evaluation by the experts was shown. The experts
provided such a favorable evaluation in all areas of the system (rule-based, sensors, remote monitoring
and overall). The most important elements are the remote results viewer system, the possibility of
offering different types of help to the patient, as well as the modification of the difficulty to adapt the

Sensors 2018, 18, 3671

27 of 30

exercise to the patient’s needs by using the stress data collected by the EEG headset. However, in the
evaluation of the proposal, question Q14 (“Thanks to the results viewer I do not consider my presence
to be necessary during the rehabilitation session”) received the lowest score. This, as discussed in
Section 7.5, may be because therapists think they would need system improvements to enable proper
telerehabilitation, or it may be due to fear of being dispensable. More studies are needed in this area to
determine which is the correct statement.
In conclusion, our cognitive rehabilitation system provides greater autonomy for both therapists
and patients. On the one hand, the therapist can leave much of his/her expertise to FIS, so that it can
control the execution of an exercise by increasing/decreasing its difficulty, activating/deactivating
the help, or even stopping the steps if they are too complicated for the patient. On the other hand, it
also provides autonomy for the patient, who can perform the exercises without the need for constant
supervision by a cognitive rehabilitation specialist. This enables the patient to perform this therapy in
rehabilitation centers where there are several simultaneous patients (more than currently possible) or
even at home.
As future work, we will work on modifying the haptic device to make it easier to wear. In addition,
further evaluations with rehabilitation experts will be proposed to determine the appropriate answer to
question Q14, proposing improvements to the system, the sensors, the FIS or any other aspect that the
experts consider appropriate. Also, we would explore the user of other physiological parameters of the
patience as an input to the inference system, which allow to determine with greater precision which is
the true state of the patient. One of the variables to consider may be physical or mental fatigue, which
may be more relevant over long periods of rehabilitation. Another proposed future work is to add new
functions that allow the patient to ask for help when he/she needs it. This added functionality would
allow user, or their families or caregivers, to have more control over the development of rehabilitation
therapy, allowing them to be helped when patients think that they need it. On the other hand, it would
allow the system’s database to be completed automatically based on patients’ real needs, allowing
the therapist to spend less time creating, modifying and fine-tuning rules for patients. Besides, the
last proposed future work is to conduct an evaluation with potential patients, which allows us to
determine the final adequacy of the system to its final purpose. It would be interesting to carry out
future studies about the effectiveness of treatment with a randomized controlled trial (RCT), in which
a group of patients receive treatment first without the system and only conventional therapy, and
another group to start the treatment with the telerehabilitation system and then compare the results
and objectives of them.
Finally, different exercises will be developed based on the activities of daily life, both basic and
instrumental, that will enable the patient not only to develop a certain cognitive and/or physical
component, but also to integrate his/her skills and abilities into a functional activity. This will enable
him/her to advance towards the highest degree of personal independence, autonomy and participation
in the activities of daily life [57,58,63]. For this purpose, activities which are contextualized in the real
life of the patient will be used (e.g., at home, etc.).
Author Contributions: Investigation, M.O., M.A.T., J.P.M., D.R.-A. and P.G.; Writing—review & editing, M.O.,
M.A.T., J.P.M., D.R.-A. and P.G.
Funding: This work was partially supported by Spanish Ministerio de Economía y Competitividad/FEDER under
TIN2016-79100-R grant. Miguel Oliver holds an FPU scholarship (FPU13/03141) from the Spanish Government.
Conflicts of Interest: The authors declare no conflict of interest.

References
1.

2.

Boerma, T.; Mathers, C.; AbouZahr, C.; Chatterji, S.; Hogan, D.; Stevens, G.; Mahanani, W.R.; Ho, J.;
Rusciano, F.; Humphreys, G. Health in 2015: From MDGs, Millennium Development Goals to SDGs, Sustainable
Development Goals; World Health Organization: Geneva, Switzerland, 2015.
World Health Organisation (WHO). International Classification of Functioning, Disability and Health; WHO:
Geneva, Switzerland, 2001.

Sensors 2018, 18, 3671

3.
4.
5.
6.

7.

8.
9.
10.

11.

12.
13.
14.
15.
16.
17.
18.

19.

20.

21.
22.

23.

28 of 30

Michael, D.R.; Chen, S.L. Serious Games: Games That Educate, Train, and Inform; Muska & Lipman/PremierTrade: New York, NY, USA, 2005; ISBN 1592006221.
Werbach, K.; Hunter, D. For the Win: How Game Thinking Can Revolutionize Your Business; Wharton:
Philadelphia, PA, USA, 2012; ISBN 9781613630235.
Hötting, K.; Röder, B. Beneficial effects of physical exercise on neuroplasticity and cognition.
Neurosci. Biobehav. Rev. 2013, 37, 2243–2257. [CrossRef] [PubMed]
Winstein, C.J.; Stein, J.; Arena, R.; Bates, B.; Cherney, L.R.; Cramer, S.C.; Deruyter, F.; Eng, J.J.; Fisher, B.;
Harvey, R.L.; et al. Guidelines for Adult Stroke Rehabilitation and Recovery: A Guideline for Healthcare
Professionals from the American Heart Association/American Stroke Association. Stroke 2016, 47, e98–e169.
[CrossRef] [PubMed]
Overdorp, E.J.; Kessels, R.P.C.; Claassen, J.A.; Oosterman, J.M. The Combined Effect of Neuropsychological
and Neuropathological Deficits on Instrumental Activities of Daily Living in Older Adults: A Systematic
Review. Neuropsychol. Rev. 2016, 26, 92–106. [CrossRef] [PubMed]
Brennan, D.M.; Mawson, S.; Brownsell, S. Telerehabilitation: Enabling the remote delivery of healthcare,
rehabilitation, and self management. Stud. Health Technol. Inform. 2009, 145, 231–248. [PubMed]
Anton, D.; Berges, I.; Bermúdez, J.; Goñi, A.; Illarramendi, A. A telerehabilitation system for the selection,
evaluation and remote management of therapies. Sensors 2018, 18, 1459. [CrossRef] [PubMed]
Navarro, E.; González, P.; López-Jaquero, V.; Montero, F.; Molina, J.P.; Romero-Ayuso, D. Adaptive,
Multisensorial, Physiological and Social: The Next Generation of Telerehabilitation Systems. Front. Neuroinform.
2018, 12, 43. [CrossRef] [PubMed]
Oort, Q.; Dirven, L.; Meijer, W.; Sikkes, S.A.M.; Uitdehaag, B.M.J.; Reijneveld, J.C.; Taphoorn, M.J.B.
Development of a questionnaire measuring instrumental activities of daily living (IADL) in patients with
brain tumors: A pilot study. J. Neurooncol. 2017, 132, 145–153. [CrossRef] [PubMed]
Mamdani, E.H.; Assilian, S. An experiment in linguistic synthesis with a fuzzy logic controller. Int. J. Man
Mach. Stud. 1975, 7, 1–13. [CrossRef]
Sohlberg, M.M.; Mateer, C.A. Cognitive Rehabilitation: An Integrative Neuropsychological Approach; Guilford
Press: New York, NY, USA, 2001; ISBN 9781572306134.
Dinse, H.R.; Kattenstroth, J.C.; Lenz, M.; Tegenthoff, M.; Wolf, O.T. The stress hormone cortisol blocks
perceptual learning in humans. Psychoneuroendocrinology 2017, 77, 63–67. [CrossRef] [PubMed]
Wolf, O.T. Stress and memory in humans: Twelve years of progress? Brain Res. 2009, 1293, 142–154.
[CrossRef] [PubMed]
Martínez, J.; García, A.S.; Oliver, M.; Molina, J.P.; González, P. VITAKI: A Vibrotactile Prototyping Toolkit for
Virtual Reality and Video Games. Int. J. Hum. Comput. Interact. 2014, 30, 855–871. [CrossRef]
Oliver, M.; Molina, J.P.; Fernández-Caballero, A.; González, P. Collaborative Computer-Assisted Cognitive
Rehabilitation System. ADCAIJ Adv. Distrib. Comput. Articial Intell. J. 2017, 6, 57–74. [CrossRef]
Oliver, M.; González, P.; Montero, F.; Molina, J.P.; Fernández-Caballero, A. Smart computer-assisted
cognitive rehabilitation for the ageing population. In Advances in Intelligent Systems and Computing; Springer
International Publishing: New York, NY, USA, 2016; Volume 476, pp. 197–205.
Franco-Martin, M.A.; Gonzalez-Palau, F.; Ruiz, Y.; Vargas, E.; Solís, A.; García-Mellado, J.A.; Toribio, J.M.;
Losada, R.; Gomez-Conejo, P.; Bueno-Aguado, Y.; et al. Usability of cognitive (Gradior) and physical training
with mild dementia, mild cognitive impairment and healthy elderly people: Long Lasting Memories,
preliminary findings. Eur. J. Neurol. 2011, 18, 80. [CrossRef]
Carretero González, L.; Mashat, M.; Romero López, S. Creating and Updating models of Activities for
people with Alzheimer Disease Using JClic platform. In Proceedings of the ICTs for improving Patients
Rehabilitation Research Techniques, Venice, Italy, 5–8 May 2013.
Microsoft Kinect for Windows. Available online: https://developer.microsoft.com/en-us/windows/kinect
(accessed on 10 September 2018).
González, C.S.; Toledo, P.; Padrón, M.; Santos, E.; Cairos, M. TANGO:H: Creating Active Educational
Games for Hospitalized Children.
In Advances in Intelligent Systems and Computing; Springer:
Berlin/Heidelberg, Germany, 2013; pp. 135–142.
Cogollor, J.M.; Hughes, C.; Ferre, M.; Rojo, J.; Hermsdörfer, J.; Wing, A.; Campo, S. Handmade task tracking
applied to cognitive rehabilitation. Sensors 2012, 12, 14214–14231. [CrossRef] [PubMed]

Sensors 2018, 18, 3671

24.

25.
26.
27.
28.
29.

30.
31.
32.
33.
34.
35.
36.
37.
38.
39.

40.
41.
42.
43.
44.
45.

46.

29 of 30

Teruel, M.A.; Oliver, M.; Montero, F.; Navarro, E.; González, P. Multisensory treatment of the hemispatial
neglect by means of virtual reality and haptic techniques. In Proceedings of the International Work-Conference
on the Interplay Between Natural and Artificial Computation: Artificial Computation in Biology and
Medicine (IWINAC 2015), Elche, Spain, 1–5 June 2015; pp. 469–478.
Yu, N.; Xu, C.; Li, H.; Wang, K.; Wang, L.; Liu, J. Fusion of haptic and gesture sensors for rehabilitation of
bimanual coordination and dexterous manipulation. Sensors 2016, 16, 395. [CrossRef] [PubMed]
Zhang, Z.; Fang, Q.; Gu, X. Fuzzy inference system based automatic Brunnstrom stage classification for
upper-extremity rehabilitation. Expert Syst. Appl. 2014, 41, 1973–1980. [CrossRef]
Gal, N.; Andrei, D.; Nemeş, D.I.; N@d@şan, E.; Stoicu-Tivadar, V. A Kinect based intelligent e-rehabilitation
system in physical therapy. Stud. Health Technol. Inform. 2015, 210, 489–493. [PubMed]
Su, C.-J.; Chiang, C.-Y.; Huang, J.-Y. Kinect-enabled home-based rehabilitation system using Dynamic Time
Warping and fuzzy logic. Appl. Soft Comput. 2014, 22, 652–666. [CrossRef]
Panja, A.; Fernandes, R.; Jondhale, S.; D’souza, P.; Uma, L.; Thale, S. A novel configurable signal acquisition
system for multiple bio-signal measurements: Assistive technology for home rehabilitation. In Proceedings
of the 2017 International Conference on Technological Advancements in Power and Energy (TAP Energy),
Kollam, India, 21–23 December 2017; pp. 1–6.
Rodríguez, A.C.; Roda, C.; Montero, F.; González, P.; Navarro, E. An Interactive Fuzzy Inference System for
Teletherapy of Older People. Cognit. Comput. 2016, 8, 318–335. [CrossRef]
López-Jaquero, V.; Montero, F.; Teruel, M.A. Influence awareness: Considering motivation in computerassisted rehabilitation. J. Ambient Intell. Humaniz. Comput. 2017. [CrossRef]
Greene, S.; Thapliyal, H.; Caban-Holt, A. A Survey of Affective Computing for Stress Detection: Evaluating
technologies in stress detection for better health. IEEE Consum. Electron. Mag. 2016, 5, 44–56. [CrossRef]
Empatica E4 Wristband. Available online: https://www.empatica.com/research/e4/ (accessed on
26 October 2018).
Gjoreski, M.; Luštrek, M.; Gams, M.; Gjoreski, H. Monitoring stress with a wrist device using context.
J. Biomed. Inform. 2017, 73, 159–170. [CrossRef] [PubMed]
EMOTIV. Emotiv-Brainwear®Wireless EEG Technology. Available online: http://emotiv.com/ (accessed on
26 October 2018).
Emotiv. Emotiv Epoc+ 14 Channel Mobile EEG-Emotiv. Available online: https://www.emotiv.com/
product/emotiv-epoc-14-channel-mobile-eeg/ (accessed on 13 September 2018).
Jun, G.; Smitha, K.G. EEG based Stress Level Identification. In Proceedings of the 2016 IEEE International
Conference on Systems, Man, and Cybernetics, Budapest, Hungary, 9–12 October 2016; pp. 3270–3274.
Martínez, J.; García, A.; Oliver, M.; Molina, J.P.; González, P. Identifying Virtual 3D Geometric Shapes with a
Vibrotactile Glove. IEEE Comput. Graph. Appl. 2016, 36, 42–51. [CrossRef] [PubMed]
Martinez, J.; Garcia, A.S.; Oliver, M.; Molina, J.P.; Gonzalez, P. Weight and size discrimination with vibrotactile
feedback. In Proceedings of the 2014 International Conference on Cyberworlds, CW 2014, Santander, Spain,
6–8 October 2014; pp. 153–160.
Microsoft. Microsoft Azure Cloud Computing Platform & Services. Available online: https://azure.
microsoft.com/en-us/ (accessed on 10 September 2018).
EMOTIV. Emotiv SDK-Community Edition. Available online: https://github.com/Emotiv/community-sdk
(accessed on 26 October 2018).
Frattesi, T.; Griesbach, D.; Leith, J.; Shaffer, T. Replayability of Video Games; Worcester Polytechnic Institute:
Worcester, MA, USA, 2011.
Holden, R.J.; Karsh, B.-T. The Technology Acceptance Model: Its past and its future in health care.
J. Biomed. Inform. 2010, 43, 159–172. [CrossRef] [PubMed]
Hordacre, B. The Role of Telehealth to Assist In-Home tDCS: Opportunities, Promising Results and
Acceptability. Brain Sci. 2018, 8, 102. [CrossRef] [PubMed]
Rothgangel, A.; Braun, S.; Smeets, R.; Beurskens, A. Design and Development of a Telerehabilitation Platform
for Patients with Phantom Limb Pain: A User-Centered Approach. JMIR Rehabil. Assist. Technol. 2017, 4, e2.
[CrossRef] [PubMed]
Finch, T.L.; Mair, F.S.; Odonnell, C.; Murray, E.; May, C.R. From theory to “measurement” in complex
interventions: Methodological lessons from the development of an e-health normalisation instrument.
BMC Med. Res. Methodol. 2012, 12, 69. [CrossRef] [PubMed]

Sensors 2018, 18, 3671

47.

48.
49.
50.
51.
52.
53.

54.
55.
56.
57.
58.
59.
60.
61.
62.
63.

30 of 30

Liu, L.; Miguel Cruz, A.; Rios Rincon, A.; Buttar, V.; Ranson, Q.; Goertzen, D. What factors determine
therapists’ acceptance of new technologies for rehabilitation—A study using the Unified Theory of
Acceptance and Use of Technology (UTAUT). Disabil. Rehabil. 2015, 37, 447–455. [CrossRef] [PubMed]
Van Solingen, R.; Basili, V.; Caldiera, G.; Rombach, H.D. Goal Question Metric (GQM) Approach.
In Encyclopedia of Software Engineering; John Wiley & Sons, Inc.: Hoboken, NJ, USA, 2002; ISBN 9780471377375.
Pardo Merino, A.; San Martín, R. Análisis de Datos en Ciencias Sociales y de la Salud II; Editorial Síntesis:
Madrid, Spain, 2010; ISBN 8497567048.
Martínez-González, M.A.; Sánchez-Villegas, A.; Faulín Fajardo, F.J. Bioestadística Amigable; Díaz de Santos:
Madrid, Spain, 2006; ISBN 8479787910.
Tham, K.; Tegnér, R. Video feedback in the rehabilitation of patients with unilateral neglect. Arch. Phys.
Med. Rehabil. 1997, 78, 410–413. [CrossRef]
Thomas, J.L. Clinical Concerns in Dealing with Brain-Injured Patients. Biofeedback 2015, 43, 38–41. [CrossRef]
Bettcher, B.M.; Giovannetti, T.; Libon, D.J.; Eppig, J.; Wambach, D.; Klobusicky, E. Improving Everyday Error
Detection, One Picture at a Time: A Performance-Based Study of Everyday Task Training. Neuropsychology
2011, 25, 771–783. [CrossRef] [PubMed]
Gillen, G. Cognitive and Perceptual Rehabilitation; Elsevier-Health Sciences Division: St Louis, MO, USA,
2009; ISBN 9780323046213.
Zoltan, B. Vision, Perception, and Cognition: A Manual for the Evaluation and Treatment of the Adult with Acquired
Brain Injury; SLACK: San Francisco, CA, USA, 2007; ISBN 1556427387.
Robertson, L. Clinical Reasoning in Occupational Therapy. Clin. Reason. Occup. Ther. Controv. Pract.
2012, 605–610. [CrossRef]
Katz, N. Cognition & Occupation Across the Life Span: Models for Intervention in Occupational Therapy; American
Occupational Therapy Association: Bethesda, MD, USA, 2005; ISBN 1569001987.
Romero Ayuso, D.M. Actividades de la vida diaria. An. Psicol. 2007, 23, 264–271.
Toglia, J.P. Generalization of treatment: A multicontext approach to cognitive perceptual impairment in
adults with brain injury. Am. J. Occup. Ther. 1991, 45, 505–516. [CrossRef] [PubMed]
Hernández Sampieri, R.; Fernández Collado, C.; Baptista Lucio, P. Metodología de la Investigación;
McGraw-Hill: New York, NY, USA, 2010; ISBN 9786071502919.
Taherdoost, H. A review of technology acceptance and adoption models and theories. Procedia Manuf. 2018,
22, 960–967. [CrossRef]
Perlusz, S. Emotions and technology acceptance: Development and validation of a technology affect scale.
IEEE Int. Eng. Manag. Conf. 2004, 1–27. [CrossRef]
Roll, E.E.; Giovannetti, T.; Libon, D.J.; Eppig, J. Everyday task knowledge and everyday function in dementia.
J. Neuropsychol. 2017. [CrossRef] [PubMed]
© 2018 by the authors. Licensee MDPI, Basel, Switzerland. This article is an open access
article distributed under the terms and conditions of the Creative Commons Attribution
(CC BY) license (http://creativecommons.org/licenses/by/4.0/).

